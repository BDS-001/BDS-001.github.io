const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DD4GHfsp.js","assets/webworkerAll-DdqwMOR1.js","assets/colorToUniform-IDHphboc.js","assets/CanvasPool-BFiLAVYj.js","assets/WebGPURenderer-CEpGk-OO.js","assets/SharedSystems-u4O5h689.js","assets/WebGLRenderer-Co1JxnL3.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();const Or=!1;var mr=Array.isArray,cl=Array.prototype.indexOf,gr=Array.from,ul=Object.defineProperty,je=Object.getOwnPropertyDescriptor,oa=Object.getOwnPropertyDescriptors,dl=Object.prototype,fl=Array.prototype,_r=Object.getPrototypeOf,jr=Object.isExtensible;const la=()=>{};function pl(s){return s()}function Yi(s){for(var t=0;t<s.length;t++)s[t]()}const Ot=2,ha=4,oi=8,vr=16,ne=32,Te=64,Ys=128,kt=256,qs=512,wt=1024,Jt=2048,ke=4096,ee=8192,li=16384,ml=32768,hi=65536,gl=1<<17,_l=1<<19,ca=1<<20,qi=1<<21,Ce=Symbol("$state"),vl=Symbol("legacy props"),xl=Symbol("");function ua(s){return s===this.v}function yl(s,t){return s!=s?t==t:s!==t||s!==null&&typeof s=="object"||typeof s=="function"}function xr(s){return!yl(s,this.v)}function bl(s){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Sl(s){throw new Error("https://svelte.dev/e/effect_orphan")}function Cl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Al(s){throw new Error("https://svelte.dev/e/props_invalid_value")}function Pl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Tl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function kl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let $e=!1,Ml=!1;function El(){$e=!0}const yr=1,br=2,da=4,Il=8,Rl=16,Ll=1,Bl=2,Dl=4,Fl=8,Gl=16,Ol=1,jl=2,xt=Symbol(),Nl="http://www.w3.org/1999/xhtml";function Ul(s){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let et=null;function Nr(s){et=s}function Ut(s,t=!1,e){var i=et={p:et,c:null,d:!1,e:null,m:!1,s,x:null,l:null};$e&&!t&&(et.l={s:null,u:null,r1:[],r2:fs(!1)}),wa(()=>{i.d=!0})}function zt(s){const t=et;if(t!==null){const a=t.e;if(a!==null){var e=K,i=J;t.e=null;try{for(var r=0;r<a.length;r++){var n=a[r];ue(n.effect),Zt(n.reaction),Sr(n.fn)}}finally{ue(e),Zt(i)}}et=t.p,t.m=!0}return{}}function ci(){return!$e||et!==null&&et.l===null}function qt(s){if(typeof s!="object"||s===null||Ce in s)return s;const t=_r(s);if(t!==dl&&t!==fl)return s;var e=new Map,i=mr(s),r=Z(0),n=J,a=o=>{var l=J;Zt(n);var h=o();return Zt(l),h};return i&&e.set("length",Z(s.length)),new Proxy(s,{defineProperty(o,l,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Pl();var c=e.get(l);return c===void 0?(c=a(()=>Z(h.value)),e.set(l,c)):U(c,a(()=>qt(h.value))),!0},deleteProperty(o,l){var h=e.get(l);if(h===void 0)l in o&&(e.set(l,a(()=>Z(xt))),wi(r));else{if(i&&typeof l=="string"){var c=e.get("length"),u=Number(l);Number.isInteger(u)&&u<c.v&&U(c,u)}U(h,xt),wi(r)}return!0},get(o,l,h){var d;if(l===Ce)return s;var c=e.get(l),u=l in o;if(c===void 0&&(!u||(d=je(o,l))!=null&&d.writable)&&(c=a(()=>Z(qt(u?o[l]:xt))),e.set(l,c)),c!==void 0){var f=b(c);return f===xt?void 0:f}return Reflect.get(o,l,h)},getOwnPropertyDescriptor(o,l){var h=Reflect.getOwnPropertyDescriptor(o,l);if(h&&"value"in h){var c=e.get(l);c&&(h.value=b(c))}else if(h===void 0){var u=e.get(l),f=u==null?void 0:u.v;if(u!==void 0&&f!==xt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return h},has(o,l){var f;if(l===Ce)return!0;var h=e.get(l),c=h!==void 0&&h.v!==xt||Reflect.has(o,l);if(h!==void 0||K!==null&&(!c||(f=je(o,l))!=null&&f.writable)){h===void 0&&(h=a(()=>Z(c?qt(o[l]):xt)),e.set(l,h));var u=b(h);if(u===xt)return!1}return c},set(o,l,h,c){var y;var u=e.get(l),f=l in o;if(i&&l==="length")for(var d=h;d<u.v;d+=1){var m=e.get(d+"");m!==void 0?U(m,xt):d in o&&(m=a(()=>Z(xt)),e.set(d+"",m))}u===void 0?(!f||(y=je(o,l))!=null&&y.writable)&&(u=a(()=>Z(void 0)),U(u,a(()=>qt(h))),e.set(l,u)):(f=u.v!==xt,U(u,a(()=>qt(h))));var g=Reflect.getOwnPropertyDescriptor(o,l);if(g!=null&&g.set&&g.set.call(c,h),!f){if(i&&typeof l=="string"){var p=e.get("length"),_=Number(l);Number.isInteger(_)&&_>=p.v&&U(p,_+1)}wi(r)}return!0},ownKeys(o){b(r);var l=Reflect.ownKeys(o).filter(u=>{var f=e.get(u);return f===void 0||f.v!==xt});for(var[h,c]of e)c.v!==xt&&!(h in o)&&l.push(h);return l},setPrototypeOf(){Tl()}})}function wi(s,t=1){U(s,s.v+t)}function Ne(s){var t=Ot|Jt,e=J!==null&&(J.f&Ot)!==0?J:null;return K===null||e!==null&&(e.f&kt)!==0?t|=kt:K.f|=ca,{ctx:et,deps:null,effects:null,equals:ua,f:t,fn:s,reactions:null,rv:0,v:null,wv:0,parent:e??K}}function os(s){const t=Ne(s);return Ma(t),t}function Tt(s){const t=Ne(s);return t.equals=xr,t}function fa(s){var t=s.effects;if(t!==null){s.effects=null;for(var e=0;e<t.length;e+=1)Kt(t[e])}}function zl(s){for(var t=s.parent;t!==null;){if((t.f&Ot)===0)return t;t=t.parent}return null}function pa(s){var t,e=K;ue(zl(s));try{fa(s),t=La(s)}finally{ue(e)}return t}function ma(s){var t=pa(s),e=(he||(s.f&kt)!==0)&&s.deps!==null?ke:wt;jt(s,e),s.equals(t)||(s.v=t,s.wv=Ia())}const ds=new Map;function fs(s,t){var e={f:0,v:s,reactions:null,equals:ua,rv:0,wv:0};return e}function Z(s,t){const e=fs(s);return Ma(e),e}function wr(s,t=!1){var i;const e=fs(s);return t||(e.equals=xr),$e&&et!==null&&et.l!==null&&((i=et.l).s??(i.s=[])).push(e),e}function U(s,t,e=!1){J!==null&&!Wt&&ci()&&(J.f&(Ot|vr))!==0&&!(_t!=null&&_t.includes(s))&&kl();let i=e?qt(t):t;return Wi(s,i)}function Wi(s,t){if(!s.equals(t)){var e=s.v;ws?ds.set(s,t):ds.set(s,e),s.v=t,(s.f&Ot)!==0&&((s.f&Jt)!==0&&pa(s),jt(s,(s.f&kt)===0?wt:ke)),s.wv=Ia(),_a(s,Jt),ci()&&K!==null&&(K.f&wt)!==0&&(K.f&(ne|Te))===0&&(Et===null?Ql([s]):Et.push(s))}return t}function ga(s,t=1){var e=b(s),i=t===1?e++:e--;return U(s,e),i}function _a(s,t){var e=s.reactions;if(e!==null)for(var i=ci(),r=e.length,n=0;n<r;n++){var a=e[n],o=a.f;(o&Jt)===0&&(!i&&a===K||(jt(a,t),(o&(wt|kt))!==0&&((o&Ot)!==0?_a(a,ke):mi(a))))}}let Hl=!1;var Ur,va,xa,ya;function Vl(){if(Ur===void 0){Ur=window,va=/Firefox/.test(navigator.userAgent);var s=Element.prototype,t=Node.prototype,e=Text.prototype;xa=je(t,"firstChild").get,ya=je(t,"nextSibling").get,jr(s)&&(s.__click=void 0,s.__className=void 0,s.__attributes=null,s.__style=void 0,s.__e=void 0),jr(e)&&(e.__t=void 0)}}function ui(s=""){return document.createTextNode(s)}function Ws(s){return xa.call(s)}function di(s){return ya.call(s)}function A(s,t){return Ws(s)}function re(s,t){{var e=Ws(s);return e instanceof Comment&&e.data===""?di(e):e}}function P(s,t=1,e=!1){let i=s;for(;t--;)i=di(i);return i}function $l(s){s.textContent=""}function ba(s){K===null&&J===null&&Sl(),J!==null&&(J.f&kt)!==0&&K===null&&wl(),ws&&bl()}function Yl(s,t){var e=t.last;e===null?t.last=t.first=s:(e.next=s,s.prev=e,t.last=s)}function Me(s,t,e,i=!0){var r=K,n={ctx:et,deps:null,nodes_start:null,nodes_end:null,f:s|Jt,first:null,fn:t,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(e)try{Pr(n),n.f|=ml}catch(l){throw Kt(n),l}else t!==null&&mi(n);var a=e&&n.deps===null&&n.first===null&&n.nodes_start===null&&n.teardown===null&&(n.f&(ca|Ys))===0;if(!a&&i&&(r!==null&&Yl(n,r),J!==null&&(J.f&Ot)!==0)){var o=J;(o.effects??(o.effects=[])).push(n)}return n}function wa(s){const t=Me(oi,null,!1);return jt(t,wt),t.teardown=s,t}function It(s){ba();var t=K!==null&&(K.f&ne)!==0&&et!==null&&!et.m;if(t){var e=et;(e.e??(e.e=[])).push({fn:s,effect:K,reaction:J})}else{var i=Sr(s);return i}}function ql(s){return ba(),Sa(s)}function Wl(s){const t=Me(Te,s,!0);return()=>{Kt(t)}}function Xl(s){const t=Me(Te,s,!0);return(e={})=>new Promise(i=>{e.outro?Xs(t,()=>{Kt(t),i(void 0)}):(Kt(t),i(void 0))})}function Sr(s){return Me(ha,s,!1)}function Sa(s){return Me(oi,s,!0)}function q(s,t=[],e=Ne){const i=t.map(e);return fi(()=>s(...i.map(b)))}function fi(s,t=0){return Me(oi|vr|t,s,!0)}function Ue(s,t=!0){return Me(oi|ne,s,!0,t)}function Ca(s){var t=s.teardown;if(t!==null){const e=ws,i=J;zr(!0),Zt(null);try{t.call(null)}finally{zr(e),Zt(i)}}}function Aa(s,t=!1){var e=s.first;for(s.first=s.last=null;e!==null;){var i=e.next;(e.f&Te)!==0?e.parent=null:Kt(e,t),e=i}}function Jl(s){for(var t=s.first;t!==null;){var e=t.next;(t.f&ne)===0&&Kt(t),t=e}}function Kt(s,t=!0){var e=!1;(t||(s.f&_l)!==0)&&s.nodes_start!==null&&(Kl(s.nodes_start,s.nodes_end),e=!0),Aa(s,t&&!e),ti(s,0),jt(s,li);var i=s.transitions;if(i!==null)for(const n of i)n.stop();Ca(s);var r=s.parent;r!==null&&r.first!==null&&Pa(s),s.next=s.prev=s.teardown=s.ctx=s.deps=s.fn=s.nodes_start=s.nodes_end=null}function Kl(s,t){for(;s!==null;){var e=s===t?null:di(s);s.remove(),s=e}}function Pa(s){var t=s.parent,e=s.prev,i=s.next;e!==null&&(e.next=i),i!==null&&(i.prev=e),t!==null&&(t.first===s&&(t.first=i),t.last===s&&(t.last=e))}function Xs(s,t){var e=[];Cr(s,e,!0),Ta(e,()=>{Kt(s),t&&t()})}function Ta(s,t){var e=s.length;if(e>0){var i=()=>--e||t();for(var r of s)r.out(i)}else t()}function Cr(s,t,e){if((s.f&ee)===0){if(s.f^=ee,s.transitions!==null)for(const a of s.transitions)(a.is_global||e)&&t.push(a);for(var i=s.first;i!==null;){var r=i.next,n=(i.f&hi)!==0||(i.f&ne)!==0;Cr(i,t,n?e:!1),i=r}}}function Js(s){ka(s,!0)}function ka(s,t){if((s.f&ee)!==0){s.f^=ee,(s.f&wt)===0&&(s.f^=wt),Ss(s)&&(jt(s,Jt),mi(s));for(var e=s.first;e!==null;){var i=e.next,r=(e.f&hi)!==0||(e.f&ne)!==0;ka(e,r?t:!1),e=i}if(s.transitions!==null)for(const n of s.transitions)(n.is_global||t)&&n.in()}}let Ks=[];function Zl(){var s=Ks;Ks=[],Yi(s)}function Ar(s){Ks.length===0&&queueMicrotask(Zl),Ks.push(s)}let zs=!1,Xi=!1,Zs=null,Ae=!1,ws=!1;function zr(s){ws=s}let Hs=[];let J=null,Wt=!1;function Zt(s){J=s}let K=null;function ue(s){K=s}let _t=null;function Ma(s){J!==null&&J.f&qi&&(_t===null?_t=[s]:_t.push(s))}let mt=null,Pt=0,Et=null;function Ql(s){Et=s}let Ea=1,Qs=0,he=!1;function Ia(){return++Ea}function Ss(s){var u;var t=s.f;if((t&Jt)!==0)return!0;if((t&ke)!==0){var e=s.deps,i=(t&kt)!==0;if(e!==null){var r,n,a=(t&qs)!==0,o=i&&K!==null&&!he,l=e.length;if(a||o){var h=s,c=h.parent;for(r=0;r<l;r++)n=e[r],(a||!((u=n==null?void 0:n.reactions)!=null&&u.includes(h)))&&(n.reactions??(n.reactions=[])).push(h);a&&(h.f^=qs),o&&c!==null&&(c.f&kt)===0&&(h.f^=kt)}for(r=0;r<l;r++)if(n=e[r],Ss(n)&&ma(n),n.wv>s.wv)return!0}(!i||K!==null&&!he)&&jt(s,wt)}return!1}function th(s,t){for(var e=t;e!==null;){if((e.f&Ys)!==0)try{e.fn(s);return}catch{e.f^=Ys}e=e.parent}throw zs=!1,s}function Hr(s){return(s.f&li)===0&&(s.parent===null||(s.parent.f&Ys)===0)}function pi(s,t,e,i){if(zs){if(e===null&&(zs=!1),Hr(t))throw s;return}if(e!==null&&(zs=!0),th(s,t),Hr(t))throw s}function Ra(s,t,e=!0){var i=s.reactions;if(i!==null)for(var r=0;r<i.length;r++){var n=i[r];_t!=null&&_t.includes(s)||((n.f&Ot)!==0?Ra(n,t,!1):t===n&&(e?jt(n,Jt):(n.f&wt)!==0&&jt(n,ke),mi(n)))}}function La(s){var d;var t=mt,e=Pt,i=Et,r=J,n=he,a=_t,o=et,l=Wt,h=s.f;mt=null,Pt=0,Et=null,he=(h&kt)!==0&&(Wt||!Ae||J===null),J=(h&(ne|Te))===0?s:null,_t=null,Nr(s.ctx),Wt=!1,Qs++,s.f|=qi;try{var c=(0,s.fn)(),u=s.deps;if(mt!==null){var f;if(ti(s,Pt),u!==null&&Pt>0)for(u.length=Pt+mt.length,f=0;f<mt.length;f++)u[Pt+f]=mt[f];else s.deps=u=mt;if(!he)for(f=Pt;f<u.length;f++)((d=u[f]).reactions??(d.reactions=[])).push(s)}else u!==null&&Pt<u.length&&(ti(s,Pt),u.length=Pt);if(ci()&&Et!==null&&!Wt&&u!==null&&(s.f&(Ot|ke|Jt))===0)for(f=0;f<Et.length;f++)Ra(Et[f],s);return r!==null&&r!==s&&(Qs++,Et!==null&&(i===null?i=Et:i.push(...Et))),c}finally{mt=t,Pt=e,Et=i,J=r,he=n,_t=a,Nr(o),Wt=l,s.f^=qi}}function eh(s,t){let e=t.reactions;if(e!==null){var i=cl.call(e,s);if(i!==-1){var r=e.length-1;r===0?e=t.reactions=null:(e[i]=e[r],e.pop())}}e===null&&(t.f&Ot)!==0&&(mt===null||!mt.includes(t))&&(jt(t,ke),(t.f&(kt|qs))===0&&(t.f^=qs),fa(t),ti(t,0))}function ti(s,t){var e=s.deps;if(e!==null)for(var i=t;i<e.length;i++)eh(s,e[i])}function Pr(s){var t=s.f;if((t&li)===0){jt(s,wt);var e=K,i=et,r=Ae;K=s,Ae=!0;try{(t&vr)!==0?Jl(s):Aa(s),Ca(s);var n=La(s);s.teardown=typeof n=="function"?n:null,s.wv=Ea;var a=s.deps,o;Or&&Ml&&s.f&Jt}catch(l){pi(l,s,e,i||s.ctx)}finally{Ae=r,K=e}}}function sh(){try{Cl()}catch(s){if(Zs!==null)pi(s,Zs,null);else throw s}}function ih(){var s=Ae;try{var t=0;for(Ae=!0;Hs.length>0;){t++>1e3&&sh();var e=Hs,i=e.length;Hs=[];for(var r=0;r<i;r++){var n=nh(e[r]);rh(n)}ds.clear()}}finally{Xi=!1,Ae=s,Zs=null}}function rh(s){var t=s.length;if(t!==0)for(var e=0;e<t;e++){var i=s[e];if((i.f&(li|ee))===0)try{Ss(i)&&(Pr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Pa(i):i.fn=null))}catch(r){pi(r,i,null,i.ctx)}}}function mi(s){Xi||(Xi=!0,queueMicrotask(ih));for(var t=Zs=s;t.parent!==null;){t=t.parent;var e=t.f;if((e&(Te|ne))!==0){if((e&wt)===0)return;t.f^=wt}}Hs.push(t)}function nh(s){for(var t=[],e=s;e!==null;){var i=e.f,r=(i&(ne|Te))!==0,n=r&&(i&wt)!==0;if(!n&&(i&ee)===0){if((i&ha)!==0)t.push(e);else if(r)e.f^=wt;else try{Ss(e)&&Pr(e)}catch(l){pi(l,e,null,e.ctx)}var a=e.first;if(a!==null){e=a;continue}}var o=e.parent;for(e=e.next;e===null&&o!==null;)e=o.next,o=o.parent}return t}function b(s){var t=s.f,e=(t&Ot)!==0;if(J!==null&&!Wt){if(!(_t!=null&&_t.includes(s))){var i=J.deps;s.rv<Qs&&(s.rv=Qs,mt===null&&i!==null&&i[Pt]===s?Pt++:mt===null?mt=[s]:(!he||!mt.includes(s))&&mt.push(s))}}else if(e&&s.deps===null&&s.effects===null){var r=s,n=r.parent;n!==null&&(n.f&kt)===0&&(r.f^=kt)}return e&&(r=s,Ss(r)&&ma(r)),ws&&ds.has(s)?ds.get(s):s.v}function ps(s){var t=Wt;try{return Wt=!0,s()}finally{Wt=t}}const ah=-7169;function jt(s,t){s.f=s.f&ah|t}function oh(s){if(!(typeof s!="object"||!s||s instanceof EventTarget)){if(Ce in s)Ji(s);else if(!Array.isArray(s))for(let t in s){const e=s[t];typeof e=="object"&&e&&Ce in e&&Ji(e)}}}function Ji(s,t=new Set){if(typeof s=="object"&&s!==null&&!(s instanceof EventTarget)&&!t.has(s)){t.add(s),s instanceof Date&&s.getTime();for(let i in s)try{Ji(s[i],t)}catch{}const e=_r(s);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const i=oa(e);for(let r in i){const n=i[r].get;if(n)try{n.call(s)}catch{}}}}}const lh=["touchstart","touchmove"];function hh(s){return lh.includes(s)}function ch(s){var t=J,e=K;Zt(null),ue(null);try{return s()}finally{Zt(t),ue(e)}}const Ba=new Set,Ki=new Set;function uh(s,t,e,i={}){function r(n){if(i.capture||ts.call(t,n),!n.cancelBubble)return ch(()=>e==null?void 0:e.call(this,n))}return s.startsWith("pointer")||s.startsWith("touch")||s==="wheel"?Ar(()=>{t.addEventListener(s,r,i)}):t.addEventListener(s,r,i),r}function Da(s,t,e,i,r){var n={capture:i,passive:r},a=uh(s,t,e,n);(t===document.body||t===window||t===document)&&wa(()=>{t.removeEventListener(s,a,n)})}function Cs(s){for(var t=0;t<s.length;t++)Ba.add(s[t]);for(var e of Ki)e(s)}function ts(s){var y;var t=this,e=t.ownerDocument,i=s.type,r=((y=s.composedPath)==null?void 0:y.call(s))||[],n=r[0]||s.target,a=0,o=s.__root;if(o){var l=r.indexOf(o);if(l!==-1&&(t===document||t===window)){s.__root=t;return}var h=r.indexOf(t);if(h===-1)return;l<=h&&(a=l)}if(n=r[a]||s.target,n!==t){ul(s,"currentTarget",{configurable:!0,get(){return n||e}});var c=J,u=K;Zt(null),ue(null);try{for(var f,d=[];n!==null;){var m=n.assignedSlot||n.parentNode||n.host||null;try{var g=n["__"+i];if(g!=null&&(!n.disabled||s.target===n))if(mr(g)){var[p,..._]=g;p.apply(n,[s,..._])}else g.call(n,s)}catch(v){f?d.push(v):f=v}if(s.cancelBubble||m===t||m===null)break;n=m}if(f){for(let v of d)queueMicrotask(()=>{throw v});throw f}}finally{s.__root=t,delete s.currentTarget,Zt(c),ue(u)}}}function dh(s){var t=document.createElement("template");return t.innerHTML=s,t.content}function ei(s,t){var e=K;e.nodes_start===null&&(e.nodes_start=s,e.nodes_end=t)}function F(s,t){var e=(t&Ol)!==0,i=(t&jl)!==0,r,n=!s.startsWith("<!>");return()=>{r===void 0&&(r=dh(n?s:"<!>"+s),e||(r=Ws(r)));var a=i||va?document.importNode(r,!0):r.cloneNode(!0);if(e){var o=Ws(a),l=a.lastChild;ei(o,l)}else ei(a,a);return a}}function fh(s=""){{var t=ui(s+"");return ei(t,t),t}}function gi(){var s=document.createDocumentFragment(),t=document.createComment(""),e=ui();return s.append(t,e),ei(t,e),s}function B(s,t){s!==null&&s.before(t)}function H(s,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(s.__t??(s.__t=s.nodeValue))&&(s.__t=e,s.nodeValue=e+"")}function ph(s,t){return mh(s,t)}const Le=new Map;function mh(s,{target:t,anchor:e,props:i={},events:r,context:n,intro:a=!0}){Vl();var o=new Set,l=u=>{for(var f=0;f<u.length;f++){var d=u[f];if(!o.has(d)){o.add(d);var m=hh(d);t.addEventListener(d,ts,{passive:m});var g=Le.get(d);g===void 0?(document.addEventListener(d,ts,{passive:m}),Le.set(d,1)):Le.set(d,g+1)}}};l(gr(Ba)),Ki.add(l);var h=void 0,c=Xl(()=>{var u=e??t.appendChild(ui());return Ue(()=>{if(n){Ut({});var f=et;f.c=n}r&&(i.$$events=r),h=s(u,i)||{},n&&zt()}),()=>{var m;for(var f of o){t.removeEventListener(f,ts);var d=Le.get(f);--d===0?(document.removeEventListener(f,ts),Le.delete(f)):Le.set(f,d)}Ki.delete(l),u!==e&&((m=u.parentNode)==null||m.removeChild(u))}});return gh.set(h,c),h}let gh=new WeakMap;function bt(s,t,[e,i]=[0,0]){var r=s,n=null,a=null,o=xt,l=e>0?hi:0,h=!1;const c=(f,d=!0)=>{h=!0,u(d,f)},u=(f,d)=>{o!==(o=f)&&(o?(n?Js(n):d&&(n=Ue(()=>d(r))),a&&Xs(a,()=>{a=null})):(a?Js(a):d&&(a=Ue(()=>d(r,[e+1,i]))),n&&Xs(n,()=>{n=null})))};fi(()=>{h=!1,t(c),h||u(null,null)},l)}function ct(s,t){return t}function _h(s,t,e,i){for(var r=[],n=t.length,a=0;a<n;a++)Cr(t[a].e,r,!0);var o=n>0&&r.length===0&&e!==null;if(o){var l=e.parentNode;$l(l),l.append(e),i.clear(),le(s,t[0].prev,t[n-1].next)}Ta(r,()=>{for(var h=0;h<n;h++){var c=t[h];o||(i.delete(c.k),le(s,c.prev,c.next)),Kt(c.e,!o)}})}function ut(s,t,e,i,r,n=null){var a=s,o={flags:t,items:new Map,first:null},l=(t&da)!==0;if(l){var h=s;a=h.appendChild(ui())}var c=null,u=!1,f=Tt(()=>{var d=e();return mr(d)?d:d==null?[]:gr(d)});fi(()=>{var d=b(f),m=d.length;u&&m===0||(u=m===0,vh(d,o,a,r,t,i,e),n!==null&&(m===0?c?Js(c):c=Ue(()=>n(a)):c!==null&&Xs(c,()=>{c=null})),b(f))})}function vh(s,t,e,i,r,n,a){var N,O,T,L;var o=(r&Il)!==0,l=(r&(yr|br))!==0,h=s.length,c=t.items,u=t.first,f=u,d,m=null,g,p=[],_=[],y,v,x,S;if(o)for(S=0;S<h;S+=1)y=s[S],v=n(y,S),x=c.get(v),x!==void 0&&((N=x.a)==null||N.measure(),(g??(g=new Set)).add(x));for(S=0;S<h;S+=1){if(y=s[S],v=n(y,S),x=c.get(v),x===void 0){var C=f?f.e.nodes_start:e;m=yh(C,t,m,m===null?t.first:m.next,y,v,S,i,r,a),c.set(v,m),p=[],_=[],f=m.next;continue}if(l&&xh(x,y,S,r),(x.e.f&ee)!==0&&(Js(x.e),o&&((O=x.a)==null||O.unfix(),(g??(g=new Set)).delete(x))),x!==f){if(d!==void 0&&d.has(x)){if(p.length<_.length){var w=_[0],R;m=w.prev;var I=p[0],k=p[p.length-1];for(R=0;R<p.length;R+=1)Vr(p[R],w,e);for(R=0;R<_.length;R+=1)d.delete(_[R]);le(t,I.prev,k.next),le(t,m,I),le(t,k,w),f=w,m=k,S-=1,p=[],_=[]}else d.delete(x),Vr(x,f,e),le(t,x.prev,x.next),le(t,x,m===null?t.first:m.next),le(t,m,x),m=x;continue}for(p=[],_=[];f!==null&&f.k!==v;)(f.e.f&ee)===0&&(d??(d=new Set)).add(f),_.push(f),f=f.next;if(f===null)continue;x=f}p.push(x),m=x,f=x.next}if(f!==null||d!==void 0){for(var M=d===void 0?[]:gr(d);f!==null;)(f.e.f&ee)===0&&M.push(f),f=f.next;var D=M.length;if(D>0){var j=(r&da)!==0&&h===0?e:null;if(o){for(S=0;S<D;S+=1)(T=M[S].a)==null||T.measure();for(S=0;S<D;S+=1)(L=M[S].a)==null||L.fix()}_h(t,M,j,c)}}o&&Ar(()=>{var st;if(g!==void 0)for(x of g)(st=x.a)==null||st.apply()}),K.first=t.first&&t.first.e,K.last=m&&m.e}function xh(s,t,e,i){(i&yr)!==0&&Wi(s.v,t),(i&br)!==0?Wi(s.i,e):s.i=e}function yh(s,t,e,i,r,n,a,o,l,h){var c=(l&yr)!==0,u=(l&Rl)===0,f=c?u?wr(r):fs(r):r,d=(l&br)===0?a:fs(a),m={i:d,v:f,k:n,a:null,e:null,prev:e,next:i};try{return m.e=Ue(()=>o(s,f,d,h),Hl),m.e.prev=e&&e.e,m.e.next=i&&i.e,e===null?t.first=m:(e.next=m,e.e.next=m.e),i!==null&&(i.prev=m,i.e.prev=m.e),m}finally{}}function Vr(s,t,e){for(var i=s.next?s.next.e.nodes_start:e,r=t?t.e.nodes_start:e,n=s.e.nodes_start;n!==i;){var a=di(n);r.before(n),n=a}}function le(s,t,e){t===null?s.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function bh(s,t,...e){var i=s,r=la,n;fi(()=>{r!==(r=t())&&(n&&(Kt(n),n=null),n=Ue(()=>r(i,...e)))},hi)}function Fa(s){var t,e,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=Fa(s[t]))&&(i&&(i+=" "),i+=e)}else for(e in s)s[e]&&(i&&(i+=" "),i+=e);return i}function wh(){for(var s,t,e=0,i="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=Fa(s))&&(i&&(i+=" "),i+=t);return i}function Sh(s){return typeof s=="object"?wh(s):s??""}const $r=[...` 	
\r\f¬†\v\uFEFF`];function Ch(s,t,e){var i=s==null?"":""+s;if(t&&(i=i?i+" "+t:t),e){for(var r in e)if(e[r])i=i?i+" "+r:r;else if(i.length)for(var n=r.length,a=0;(a=i.indexOf(r,a))>=0;){var o=a+n;(a===0||$r.includes(i[a-1]))&&(o===i.length||$r.includes(i[o]))?i=(a===0?"":i.substring(0,a))+i.substring(o+1):a=o}}return i===""?null:i}function Ah(s,t){return s==null?null:String(s)}function de(s,t,e,i,r,n){var a=s.__className;if(a!==e||a===void 0){var o=Ch(e,i,n);o==null?s.removeAttribute("class"):s.className=o,s.__className=e}else if(n&&r!==n)for(var l in n){var h=!!n[l];(r==null||h!==!!r[l])&&s.classList.toggle(l,h)}return n}function Ga(s,t,e,i){var r=s.__style;if(r!==t){var n=Ah(t);n==null?s.removeAttribute("style"):s.style.cssText=n,s.__style=t}return i}const Ph=Symbol("is custom element"),Th=Symbol("is html");function kh(s,t){var e=Oa(s);e.checked!==(e.checked=t??void 0)&&(s.checked=t)}function Q(s,t,e,i){var r=Oa(s);r[t]!==(r[t]=e)&&(t==="loading"&&(s[xl]=e),e==null?s.removeAttribute(t):typeof e!="string"&&Mh(s).includes(t)?s[t]=e:s.setAttribute(t,e))}function Oa(s){return s.__attributes??(s.__attributes={[Ph]:s.nodeName.includes("-"),[Th]:s.namespaceURI===Nl})}var Yr=new Map;function Mh(s){var t=Yr.get(s.nodeName);if(t)return t;Yr.set(s.nodeName,t=[]);for(var e,i=s,r=Element.prototype;r!==i;){e=oa(i);for(var n in e)e[n].set&&t.push(n);i=_r(i)}return t}function qr(s,t){return s===t||(s==null?void 0:s[Ce])===t}function ja(s={},t,e,i){return Sr(()=>{var r,n;return Sa(()=>{r=n,n=[],ps(()=>{s!==e(...n)&&(t(s,...n),r&&qr(e(...r),s)&&t(null,...r))})}),()=>{Ar(()=>{n&&qr(e(...n),s)&&t(null,...n)})}}),s}function _i(s=!1){const t=et,e=t.l.u;if(!e)return;let i=()=>oh(t.s);if(s){let r=0,n={};const a=Ne(()=>{let o=!1;const l=t.s;for(const h in l)l[h]!==n[h]&&(n[h]=l[h],o=!0);return o&&r++,r});i=()=>b(a)}e.b.length&&ql(()=>{Wr(t,i),Yi(e.b)}),It(()=>{const r=ps(()=>e.m.map(pl));return()=>{for(const n of r)typeof n=="function"&&n()}}),e.a.length&&It(()=>{Wr(t,i),Yi(e.a)})}function Wr(s,t){if(s.l.s)for(const e of s.l.s)b(e);t()}let Ts=!1;function Eh(s){var t=Ts;try{return Ts=!1,[s(),Ts]}finally{Ts=t}}function Xr(s){var t;return((t=s.ctx)==null?void 0:t.d)??!1}function Rt(s,t,e,i){var C;var r=(e&Ll)!==0,n=!$e||(e&Bl)!==0,a=(e&Fl)!==0,o=(e&Gl)!==0,l=!1,h;a?[h,l]=Eh(()=>s[t]):h=s[t];var c=Ce in s||vl in s,u=a&&(((C=je(s,t))==null?void 0:C.set)??(c&&t in s&&(w=>s[t]=w)))||void 0,f=i,d=!0,m=!1,g=()=>(m=!0,d&&(d=!1,o?f=ps(i):f=i),f);h===void 0&&i!==void 0&&(u&&n&&Al(),h=g(),u&&u(h));var p;if(n)p=()=>{var w=s[t];return w===void 0?g():(d=!0,m=!1,w)};else{var _=(r?Ne:Tt)(()=>s[t]);_.f|=gl,p=()=>{var w=b(_);return w!==void 0&&(f=void 0),w===void 0?f:w}}if((e&Dl)===0)return p;if(u){var y=s.$$legacy;return function(w,R){return arguments.length>0?((!n||!R||y||l)&&u(R?p():w),w):p()}}var v=!1,x=wr(h),S=Ne(()=>{var w=p(),R=b(x);return v?(v=!1,R):x.v=w});return a&&b(S),r||(S.equals=xr),function(w,R){if(arguments.length>0){const I=R?b(S):n&&a?qt(w):w;if(!S.equals(I)){if(v=!0,U(x,I),m&&f!==void 0&&(f=I),Xr(S))return w;ps(()=>b(S))}return w}return Xr(S)?S.v:b(S)}}function Ih(s){et===null&&Ul(),$e&&et.l!==null?Rh(et).m.push(s):It(()=>{const t=ps(s);if(typeof t=="function")return t})}function Rh(s){var t=s.l;return t.u??(t.u={a:[],b:[],m:[]})}const Lh="5";var aa;typeof window<"u"&&((aa=window.__svelte??(window.__svelte={})).v??(aa.v=new Set)).add(Lh);El();var Bh=F("<span> </span>");function Dh(s,t){Ut(t,!0);let e=Z(""),i=Z(null),r=Z(0);const n=60,a=250,o=300;Wl(()=>{U(r,0),U(e,""),b(i)&&clearTimeout(b(i));const c=()=>{if(b(r)>=t.text.length)return;const u=t.text[b(r)];if(U(e,b(e)+u),ga(r),b(r)<t.text.length){const f=/^[.,_!?;:]$/.test(u)?a:n;U(i,setTimeout(c,f),!0)}};return U(i,setTimeout(c,o),!0),()=>{b(i)&&clearTimeout(b(i))}});var l=Bh(),h=A(l);q(()=>H(h,b(e))),B(s,l),zt()}const Fh=typeof localStorage<"u"&&localStorage.getItem("theme")||"retro";let es=Z(qt(Fh));function ze(){return b(es)}function Gh(){U(es,b(es)==="retro"?"rain":"retro",!0),document.documentElement.setAttribute("data-theme",b(es)),localStorage.setItem("theme",b(es))}const Oh=(s,t)=>{Gh(),console.log(`${ze()} ${b(t)}`)};var jh=F('<label class="switch svelte-1b5cah2"><input type="checkbox" class="svelte-1b5cah2"> <span></span></label>');function Na(s,t){Ut(t,!0);let e=os(()=>ze()==="rain");var i=jh(),r=A(i);r.__change=[Oh,e];var n=P(r,2);let a;q(o=>{kh(r,b(e)),a=de(n,1,"slider svelte-1b5cah2",null,a,o)},[()=>({round:ze()==="rain"})]),B(s,i),zt()}Cs(["change"]);function Xt(s){s.preventDefault();const t=s.target.getAttribute("href"),e=document.querySelector(t);if(e){const i=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||70;window.scrollTo({top:e.offsetTop-i,behavior:"smooth"})}}let si=Z(!1);function Jr(){return b(si)}function Si(){U(si,!b(si))}function Se(){U(si,!1)}var Nh=F('<li><a class="navLink svelte-15f7wdf"> </a></li>'),Uh=F('<header class="header svelte-15f7wdf" id="header"><div class="container headerInner svelte-15f7wdf"><p class="logo svelte-15f7wdf"> <!>‚ñà</p> <button class="hamburger svelte-15f7wdf" aria-label="Toggle navigation menu"><span class="svelte-15f7wdf"></span> <span class="svelte-15f7wdf"></span> <span class="svelte-15f7wdf"></span></button> <nav class="nav svelte-15f7wdf"><ul class="navMenu svelte-15f7wdf"><!> <li><!></li></ul></nav></div></header>');function zh(s){const t=[{text:"Home",href:"#hero"},{text:"About",href:"#about"},{text:"Skills",href:"#skills"},{text:"Work",href:"#work-experience"},{text:"Projects",href:"#projects"},{text:"Contact",href:"#contact"}];var e=Uh(),i=A(e),r=A(i),n=A(r);n.nodeValue="> ";var a=P(n);Dh(a,{text:"Dev_Portfolio.sh "});var o=P(r,2);o.__click=function(...d){Si==null||Si.apply(this,d)};var l=P(o,2),h=A(l),c=A(h);ut(c,1,()=>t,ct,(d,m)=>{var g=Nh(),p=A(g);p.__click=function(...y){Xt==null||Xt.apply(this,y)};var _=A(p);q(()=>{Q(p,"href",b(m).href),H(_,b(m).text)}),B(d,g)});var u=P(c,2),f=A(u);Na(f,{}),B(s,e)}Cs(["click"]);const Ua="data:image/svg+xml,%3csvg%20width='98'%20height='96'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M48.854%200C21.839%200%200%2022%200%2049.217c0%2021.756%2013.993%2040.172%2033.405%2046.69%202.427.49%203.316-1.059%203.316-2.362%200-1.141-.08-5.052-.08-9.127-13.59%202.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015%204.934.326%207.523%205.052%207.523%205.052%204.367%207.496%2011.404%205.378%2014.235%204.074.404-3.178%201.699-5.378%203.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283%200-5.378%201.94-9.778%205.014-13.2-.485-1.222-2.184-6.275.486-13.038%200%200%204.125-1.304%2013.426%205.052a46.97%2046.97%200%200%201%2012.214-1.63c4.125%200%208.33.571%2012.213%201.63%209.302-6.356%2013.427-5.052%2013.427-5.052%202.67%206.763.97%2011.816.485%2013.038%203.155%203.422%205.015%207.822%205.015%2013.2%200%2018.905-11.404%2023.06-22.324%2024.283%201.78%201.548%203.316%204.481%203.316%209.126%200%206.6-.08%2011.897-.08%2013.526%200%201.304.89%202.853%203.316%202.364%2019.412-6.52%2033.405-24.935%2033.405-46.691C97.707%2022%2075.788%200%2048.854%200z'%20fill='%23fff'/%3e%3c/svg%3e",za="/assets/LI-In-Bug-CHBsXBEb.png",Hh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='31.88'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20257'%3e%3cdefs%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb466'%20x1='-.828%25'%20x2='57.636%25'%20y1='7.652%25'%20y2='78.411%25'%3e%3cstop%20offset='0%25'%20stop-color='%2341D1FF'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23BD34FE'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb467'%20x1='43.376%25'%20x2='50.316%25'%20y1='2.242%25'%20y2='89.03%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFEA83'%3e%3c/stop%3e%3cstop%20offset='8.333%25'%20stop-color='%23FFDD35'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFA800'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb466)'%20d='M255.153%2037.938L134.897%20252.976c-2.483%204.44-8.862%204.466-11.382.048L.875%2037.958c-2.746-4.814%201.371-10.646%206.827-9.67l120.385%2021.517a6.537%206.537%200%200%200%202.322-.004l117.867-21.483c5.438-.991%209.574%204.796%206.877%209.62Z'%3e%3c/path%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb467)'%20d='M185.432.063L96.44%2017.501a3.268%203.268%200%200%200-2.634%203.014l-5.474%2092.456a3.268%203.268%200%200%200%203.997%203.378l24.777-5.718c2.318-.535%204.413%201.507%203.936%203.838l-7.361%2036.047c-.495%202.426%201.782%204.5%204.151%203.78l15.304-4.649c2.372-.72%204.652%201.36%204.15%203.788l-11.698%2056.621c-.732%203.542%203.979%205.473%205.943%202.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505%204.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z'%3e%3c/path%3e%3c/svg%3e",Vh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='26.6'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20308'%3e%3cpath%20fill='%23FF3E00'%20d='M239.682%2040.707C211.113-.182%20154.69-12.301%20113.895%2013.69L42.247%2059.356a82.198%2082.198%200%200%200-37.135%2055.056a86.566%2086.566%200%200%200%208.536%2055.576a82.425%2082.425%200%200%200-12.296%2030.719a87.596%2087.596%200%200%200%2014.964%2066.244c28.574%2040.893%2084.997%2053.007%20125.787%2027.016l71.648-45.664a82.182%2082.182%200%200%200%2037.135-55.057a86.601%2086.601%200%200%200-8.53-55.577a82.409%2082.409%200%200%200%2012.29-30.718a87.573%2087.573%200%200%200-14.963-66.244'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.889%20270.841c-23.102%206.007-47.497-3.036-61.103-22.648a52.685%2052.685%200%200%201-9.003-39.85a49.978%2049.978%200%200%201%201.713-6.693l1.35-4.115l3.671%202.697a92.447%2092.447%200%200%200%2028.036%2014.007l2.663.808l-.245%202.659a16.067%2016.067%200%200%200%202.89%2010.656a17.143%2017.143%200%200%200%2018.397%206.828a15.786%2015.786%200%200%200%204.403-1.935l71.67-45.672a14.922%2014.922%200%200%200%206.734-9.977a15.923%2015.923%200%200%200-2.713-12.011a17.156%2017.156%200%200%200-18.404-6.832a15.78%2015.78%200%200%200-4.396%201.933l-27.35%2017.434a52.298%2052.298%200%200%201-14.553%206.391c-23.101%206.007-47.497-3.036-61.101-22.649a52.681%2052.681%200%200%201-9.004-39.849a49.428%2049.428%200%200%201%2022.34-33.114l71.664-45.677a52.218%2052.218%200%200%201%2014.563-6.398c23.101-6.007%2047.497%203.036%2061.101%2022.648a52.685%2052.685%200%200%201%209.004%2039.85a50.559%2050.559%200%200%201-1.713%206.692l-1.35%204.116l-3.67-2.693a92.373%2092.373%200%200%200-28.037-14.013l-2.664-.809l.246-2.658a16.099%2016.099%200%200%200-2.89-10.656a17.143%2017.143%200%200%200-18.398-6.828a15.786%2015.786%200%200%200-4.402%201.935l-71.67%2045.674a14.898%2014.898%200%200%200-6.73%209.975a15.9%2015.9%200%200%200%202.709%2012.012a17.156%2017.156%200%200%200%2018.404%206.832a15.841%2015.841%200%200%200%204.402-1.935l27.345-17.427a52.147%2052.147%200%200%201%2014.552-6.397c23.101-6.006%2047.497%203.037%2061.102%2022.65a52.681%2052.681%200%200%201%209.003%2039.848a49.453%2049.453%200%200%201-22.34%2033.12l-71.664%2045.673a52.218%2052.218%200%200%201-14.563%206.398'%3e%3c/path%3e%3c/svg%3e";var $h=F('<a class="footerLink svelte-1ubhbso"> </a>'),Yh=F('<footer class="footer svelte-1ubhbso"><div class="container"><div class="footerContent svelte-1ubhbso"><div class="footerLogo svelte-1ubhbso">Dev_Portfolio</div> <div class="footerLinks svelte-1ubhbso"></div> <div class="socialLinks svelte-1ubhbso"><a href="https://github.com/BDS-001" target="_blank" rel="noopener noreferrer" class="socialLink svelte-1ubhbso" aria-label="Visit my GitHub profile"><img alt="GitHub" class="githubIcon svelte-1ubhbso"></a> <a href="https://www.linkedin.com/in/brian-s-98151921a/" target="_blank" rel="noopener noreferrer" class="socialLink svelte-1ubhbso" aria-label="Connect with me on LinkedIn"><img alt="LinkedIn" class="linkedinIcon svelte-1ubhbso"></a></div></div> <div class="builtWith svelte-1ubhbso"><span class="builtWithText svelte-1ubhbso">Built with</span> <div class="techIcons svelte-1ubhbso"><a href="https://vite.dev" target="_blank" rel="noreferrer" class="techLogo svelte-1ubhbso"><img alt="Vite Logo" class="svelte-1ubhbso"> <span>Vite</span></a> <a href="https://svelte.dev" target="_blank" rel="noreferrer" class="techLogo svelte svelte-1ubhbso"><img alt="Svelte Logo" class="svelte-1ubhbso"> <span>Svelte</span></a></div></div> <div class="copyright svelte-1ubhbso"> </div></div></footer>');function qh(s,t){Ut(t,!1);const e=[{text:"Home",href:"#hero"},{text:"About",href:"#about"},{text:"Skills",href:"#skills"},{text:"Projects",href:"#projects"},{text:"Contact",href:"#contact"}];_i();var i=Yh(),r=A(i),n=A(r),a=P(A(n),2);ut(a,5,()=>e,ct,(x,S)=>{var C=$h(),w=A(C);q(()=>{Q(C,"href",b(S).href),H(w,b(S).text)}),Da("click",C,function(...R){Xt==null||Xt.apply(this,R)}),B(x,C)});var o=P(a,2),l=A(o),h=A(l);Q(h,"src",Ua);var c=P(l,2),u=A(c);Q(u,"src",za);var f=P(n,2),d=P(A(f),2),m=A(d),g=A(m);Q(g,"src",Hh);var p=P(m,2),_=A(p);Q(_,"src",Vh);var y=P(f,2),v=A(y);q(x=>H(v,`¬© ${x??""} BDS. All Rights Reserved.`),[()=>new Date().getFullYear()],Tt),B(s,i),zt()}var Wh=F('<div class="scanEffect svelte-142ekje"></div>'),Xh=F("<div><!></div>"),Jh=F('<span class="blinkingCursor svelte-142ekje">‚ñà</span>'),Kh=F('<div class="terminal svelte-142ekje"><!> <div class="terminalHeader svelte-142ekje"><div class="terminalTitle svelte-142ekje"> </div> <div class="terminalButtons svelte-142ekje"><div class="terminalButton yellow svelte-142ekje"></div> <div class="terminalButton green svelte-142ekje"></div> <div class="terminalButton red svelte-142ekje"></div></div></div> <div class="terminalContent svelte-142ekje"><!> <!></div></div>');function fe(s,t){Ut(t,!0);const e={CHAR_SPEED:50,INITIAL_DELAY:300,RESPONSE_PROCESSING_SPEED:0,INTERSECTION_THRESHOLD:.3},i=Rt(t,"children",3,null),r=Rt(t,"height",3,"550px");let n,a=null,o=!1,l="",h=null,c=Z(!1),u=Z(!0),f=Z(qt([])),d=Z(0),m=Z(!1),g=Z(null);const p={initialized:!1,processedAllContent:!1,typingIndex:0,timeouts:{},prevContentSignature:""};function _(){Object.values(p.timeouts).forEach(E=>{E&&clearTimeout(E)}),p.timeouts={}}function y(){p.initialized=!1,p.processedAllContent=!1,p.typingIndex=0,U(d,0),U(f,[],!0),U(m,!1),U(g,null),_()}function v(E){(E==null?void 0:E.cursor)!==void 0&&U(u,E.cursor,!0)}function x(){o||(o=!0,requestAnimationFrame(()=>{!a&&n&&(a=n.querySelector(".terminalContent")),a&&a.scrollTo({top:a.scrollHeight,behavior:"smooth"}),o=!1}))}function S(E){return E===h||(h=E,l=JSON.stringify(E.map(V=>V.text||""))),l}function C(E){return(E==null?void 0:E.class)==="terminalTypedText"||(E==null?void 0:E.render)==="slow"}function w(){return b(d)<t.content.length&&!b(m)&&b(c)}function R(E){b(f).push(E)}function I(E){b(f).push({...E,text:""})}function k(E){if(b(f).length>0){const V=b(f).length-1;b(f)[V]={...b(f)[V],text:b(f)[V].text+E}}}function M(){if(!b(g)||p.typingIndex>=b(g).text.length){U(m,!1),U(g,null),U(d,b(d)+1);return}const E=b(g).text[p.typingIndex];k(E),x(),p.typingIndex++;const V=b(g).class==="terminalResponse"?e.RESPONSE_PROCESSING_SPEED:e.CHAR_SPEED;p.timeouts.typeChar=setTimeout(M,V)}function D(E){R(E),U(d,b(d)+1),v(E),x()}function j(E){p.timeouts.processContent=setTimeout(()=>{v(E),C(E)?(I(E),U(m,!0),U(g,E,!0)):E&&(R(E),U(d,b(d)+1),x())},e.RESPONSE_PROCESSING_SPEED)}function N(){if(!w())return;const E=t.content[b(d)];if(b(d)===0&&p.initialized&&(E==null?void 0:E.class)==="terminalPrompt"){U(d,1);return}(E==null?void 0:E.class)==="terminalPrompt"?D(E):j(E)}It(()=>_),It(()=>{if(typeof window>"u"||!n)return;const E=new IntersectionObserver(([V])=>{V.isIntersecting&&(U(c,!0),E.unobserve(n))},{threshold:e.INTERSECTION_THRESHOLD,root:null});return E.observe(n),()=>{n&&E.unobserve(n)}}),It(()=>{if(!t.content||t.content.length===0)return;const E=S(t.content);E!==p.prevContentSignature&&(p.prevContentSignature=E,y())}),It(()=>{var E;!b(c)||p.initialized||!t.content.length||(p.initialized=!0,((E=t.content[0])==null?void 0:E.class)==="terminalPrompt"&&(U(f,[t.content[0]],!0),U(d,1)))}),It(()=>{if(b(d)>=t.content.length&&!p.processedAllContent&&t.content.length>0){p.processedAllContent=!0;const E=t.content[t.content.length-1];v(E)}}),It(()=>{if(!(!b(c)||!b(g)))return p.typingIndex=0,p.timeouts.typeChar=setTimeout(M,e.INITIAL_DELAY),()=>{p.timeouts.typeChar&&clearTimeout(p.timeouts.typeChar)}}),It(()=>(w()&&N(),()=>{p.timeouts.processContent&&clearTimeout(p.timeouts.processContent)}));var O=Kh(),T=A(O);{var L=E=>{var V=Wh();B(E,V)};bt(T,E=>{ze()==="retro"&&E(L)})}var st=P(T,2),G=A(st),rt=A(G),vt=P(st,2),dt=A(vt);ut(dt,17,()=>b(f),ct,(E,V)=>{var oe=Xh(),Ee=A(oe);{var Ie=Vt=>{var Ct=gi(),Qt=re(Ct);bh(Qt,()=>i()??la),B(Vt,Ct)},Re=Vt=>{var Ct=fh();q(()=>H(Ct,b(V).text||"")),B(Vt,Ct)};bt(Ee,Vt=>{b(V).class==="children"?Vt(Ie):Vt(Re,!1)})}q(()=>de(oe,1,Sh(b(V).class||""),"svelte-142ekje")),B(E,oe)});var ot=P(dt,2);{var St=E=>{var V=Jh();B(E,V)};bt(ot,E=>{b(u)&&E(St)})}ja(O,E=>n=E,()=>n),q(()=>{H(rt,t.title),Ga(vt,`height: ${r()??""}`)}),B(s,O),zt()}var Zh=F(`<section id="hero" class="hero svelte-1272hkr"><div class="container svelte-1272hkr"><div class="heroContent svelte-1272hkr"><h1 class="svelte-1272hkr">Hello, I'm <span class="nameHighlight svelte-1272hkr">Brian.</span> <span class="devHighlight svelte-1272hkr">Fullstack Developer.</span></h1> <!> <p class="svelte-1272hkr">I specialize in creating responsive web applications with clean, efficient code and
        intuitive user interfaces. Let's work together to bring your ideas to life!</p> <a href="#contact" class="ctaButton svelte-1272hkr">Get In Touch</a></div></div></section>`);function Qh(s){const t=[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"sudo boot_sequence.sh -v",class:"terminalTypedText",cursor:!0},{text:`
  SYSTEM INITIALIZATION SEQUENCE
  ----------------------------------------
  [‚úì] Core Systems............... ONLINE
  [‚úì] Neural Network............ ACTIVE
  [‚úì] Language Processors....... LOADED
  [‚úì] Dev Environment.......... READY
  
  Loading welcome module...
  `,class:"terminalResponse",cursor:!1,render:"slow"},{text:`
  __        __   _ 
  \\ \\      / /__| | ___ ___  _ __ ___   ___    
   \\ \\ /\\ / / _ \\ |/ __/ _ \\| '_ ' _ \\ / _ \\
    \\ V  V /  __/ | (_| (_) | | | | | |  __/ 
     \\_/\\_/ \\___|_|\\___\\___/|_| |_| |_|\\___|
     `,class:"terminalResponse",cursor:!1,render:"slow"},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}];var e=Zh(),i=A(e),r=A(i),n=A(r),a=P(A(n),2);a.nodeValue="  ";var o=P(n,2);fe(o,{title:"~/portfolio/intro",content:t});var l=P(o,4);Da("click",l,function(...h){Xt==null||Xt.apply(this,h)}),B(s,e)}var tc=F('<h2 class="sectionTitle svelte-4m9947"> </h2>');function As(s,t){var e=tc(),i=A(e);q(()=>H(i,t.title)),B(s,e)}var ec=F(`<section id="about" class="aboutSection svelte-1804e2v"><div class="container"><!> <!> <div class="aboutContent svelte-1804e2v"><div class="aboutInfo svelte-1804e2v"><p class="svelte-1804e2v"> </p> <p class="svelte-1804e2v">I've built multiple projects showcased on my GitHub, each one representing a new challenge
          I took on to expand my skills. These projects reflect my growth as a developer and my
          commitment to writing clean, maintainable code.</p> <p class="svelte-1804e2v">For the past year, I've been working on 2 significant freelance projects, developing a
          company website from the ground up. This long-term engagement has given me invaluable
          real-world experience in understanding client needs, meeting deadlines, and delivering
          professional results.</p></div> <div class="experienceCards svelte-1804e2v"><div class="experienceCard svelte-1804e2v"><div class="experienceIcon svelte-1804e2v">üíº</div> <div class="experienceDetails svelte-1804e2v"><h3 class="svelte-1804e2v">Professional Experience</h3> <p class="svelte-1804e2v"> </p></div></div> <div class="experienceCard svelte-1804e2v"><div class="experienceIcon svelte-1804e2v">üè¢</div> <div class="experienceDetails svelte-1804e2v"><h3 class="svelte-1804e2v">Professional Projects</h3> <p class="svelte-1804e2v">2 Live Client Projects</p></div></div> <div class="experienceCard svelte-1804e2v"><div class="experienceIcon svelte-1804e2v">üöÄ</div> <div class="experienceDetails svelte-1804e2v"><h3 class="svelte-1804e2v">Personal Projects</h3> <p class="svelte-1804e2v">Multiple Projects - available on github</p></div></div></div></div></div></section>`);function sc(s,t){Ut(t,!0);const e=2022,i=2023,r=os(()=>new Date().getFullYear()-e+1),n=os(()=>new Date().getFullYear()-i),a=os(()=>[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"access personnel_database.db --profile=BDS-001",class:"terminalTypedText",cursor:!0},{text:`
  Accessing Secure Database...
  Authentication Required...
  Biometric scan: COMPLETE
  Access granted.
  
  Loading Personnel File [ID: BDS-001]
  `,class:"terminalResponse",render:"slow",cursor:!1},{text:`
  /**************************************
   *        DEVELOPER PROFILE: 001       *
   **************************************/
  
  NAME: BRIAN | BDS-001
  STATUS: ACTIVE
  CLEARANCE: LEVEL 5 - FULLSTACK
  DEPLOYMENT HISTORY: ${b(r)} YEARS
  
  CAREER TRAJECTORY:
  ‚îî‚îÄ YEAR 0: Initiation Protocol - University Courses: Database Design & Development
  ‚îî‚îÄ YEAR 1: Fundamentals Skill Acquisition - Harvard's: CS50x | CS50p | CS50w via edx
  ‚îî‚îÄ YEAR 2: Framework Integration - Odin Project: HTML/CSS/JavaScript/React/postgress/jest/Node.js
  ‚îî‚îÄ YEAR 3: Professional Deployment - Completed: Freelance Project, Odin Project | Current Status: Continuous Learning
  
  MISSION ACCOMPLISHMENTS:
  ‚îú‚îÄ Multiple Personal Project Deployments
  ‚îú‚îÄ 1 Year Active Freelance Service
  ‚îú‚îÄ 1 Major Client Website Development
  ‚îî‚îÄ Continuous Skill Improvement Protocol Active
  
  CURRENT OBJECTIVE: 
  ‚îî‚îÄ SEEKING PERMANENT DEPLOYMENT OPPORTUNITIES
  
  [EOF]
  `,class:"terminalResponse",render:"slow",cursor:!1},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}]);var o=ec(),l=A(o),h=A(l);As(h,{title:"About Me"});var c=P(h,2);fe(c,{get content(){return b(a)},title:"~/portfolio/about"});var u=P(c,2),f=A(u),d=A(f),m=A(d),g=P(f,2),p=A(g),_=P(A(p),2),y=P(A(_),2),v=A(y);q(()=>{H(m,`Hello, I'm a self-taught developer who has been on a continuous learning journey for the
          past ${b(r)??""}
          years. Starting with simple coding and database development in university while pursuing my
          bachelors of science degree with a focus on health tech and informatics, I discovered my passion
          for computer science. What began as a hobby has evolved into a serious pursuit of creating
          efficient, user-friendly applications.`),H(v,`${b(n)??""} Year${b(n)>1?"s":""}`)}),B(s,o),zt()}var ic=F("<span></span>"),rc=F('<div class="skillItem svelte-qcnxjl"><span class="skillName svelte-qcnxjl"> </span> <div class="skillLevel svelte-qcnxjl"></div></div>'),nc=F('<div class="skillCategory svelte-qcnxjl"><h3 class="skillCategoryTitle svelte-qcnxjl"> </h3> <div></div></div>');function ac(s,t){let e=Rt(t,"title",8),i=Rt(t,"skills",8);function r(h){const c=[];for(let u=0;u<5;u++)c.push(u<h);return c}var n=nc(),a=A(n),o=A(a),l=P(a,2);ut(l,5,i,ct,(h,c)=>{var u=rc(),f=A(u),d=A(f),m=P(f,2);ut(m,5,()=>r(b(c).level),ct,(g,p)=>{var _=ic();q(()=>de(_,1,`skillPip ${b(p)?"filled":""}`,"svelte-qcnxjl")),B(g,_)}),q(()=>H(d,b(c).name)),B(h,u)}),q(()=>H(o,e())),B(s,n)}var oc=F('<div class="terminalOutput svelte-zfjxla" slot="default"><div class="falloutSkillsHeader svelte-zfjxla"><h2 class="falloutSkillsTitle svelte-zfjxla">S.K.I.L.L.S.</h2> <p class="falloutSkillsSubtitle svelte-zfjxla">Software Knowledge Integration, Language Libraries & Systems</p></div> <div class="falloutSkillsGrid svelte-zfjxla"></div></div>'),lc=F(`<section id="skills" class="skillsSection svelte-zfjxla"><div class="container"><!> <div class="terminal svelte-zfjxla"><!></div> <div class="additionalSkills svelte-zfjxla"><p><strong>Other skills:</strong> Asynchronous JavaScript (Promises, Async/Await), Debugging, Object-Oriented
        Programming, Functional Programming, Test-Driven Development, Module Bundling, State Management,
        DOM Manipulation, API Integration, CRUD Operations, Form Validation, C (Fundamentals), Lua (Game
        Programming), Linux Basics, VS Code</p> <p class="infoText svelte-zfjxla"><i class="fas fa-info-circle infoIcon svelte-zfjxla"></i> Completed The Odin Project's Fullstack JavaScript path and actively building projects for my
        portfolio</p></div></div></section>`);function hc(s){const t=[{title:"Front-End",icon:"laptop-code",skills:[{name:"JavaScript (ES6+)",level:4},{name:"HTML5/CSS3",level:4},{name:"React",level:4},{name:"Webpack",level:3},{name:"Responsive Design",level:4}]},{title:"Back-End",icon:"server",skills:[{name:"Node.js",level:4},{name:"Express.js",level:4},{name:"RESTful APIs",level:4},{name:"Python",level:3},{name:"Authentication",level:3}]},{title:"Database & Storage",icon:"database",skills:[{name:"PostgreSQL",level:4},{name:"Prisma ORM",level:3},{name:"SQL",level:4},{name:"MySQL",level:3},{name:"Database Design",level:3}]},{title:"Developer Tools",icon:"tools",skills:[{name:"Git & GitHub",level:4},{name:"Command Line",level:3},{name:"npm",level:4},{name:"Jest",level:2},{name:"Chrome DevTools",level:3}]}],e=[{class:"terminalPrompt",text:"BDS-001:~ $",cursor:!0},{text:" xdg-open ./skills.html",class:"terminalTypedText",cursor:!0},{text:`
Initializing...`,class:"terminalResponse",render:"slow"},{text:"Processing Skills...",class:"terminalResponse",render:"slow"},{text:"Rendering Skills...",class:"terminalResponse",render:"slow"},{class:"children",cursor:!1},{class:"terminalPrompt",cursor:!0,text:"BDS-001:~ $ "}];var i=lc(),r=A(i),n=A(r);As(n,{title:"My Skills"});var a=P(n,2),o=A(a);fe(o,{title:"~/portfolio/skills",content:e,height:"880px",children:(l,h)=>{var c=oc(),u=P(A(c),2);ut(u,5,()=>t,ct,(f,d)=>{ac(f,{get title(){return b(d).title},get skills(){return b(d).skills}})}),B(l,c)},$$slots:{default:!0}}),B(s,i)}const cc="/assets/featured-B2Eo2dDc.png",uc="/assets/chatSphere-BOOYRHGy.png",dc="/assets/AdminDashboard-Czd24UAr.png",fc="/assets/battleship-CeqjUsd6.png",pc="/assets/blog-DKXiY6l0.png",mc="/assets/calculator-EcRMlBlk.png",gc="/assets/etch-CBmWDn3A.png",_c="/assets/fileUploader-168H9H_v.png",vc="/assets/MemoryGame-B7aJzlnE.png",xc="/assets/ascii-smvffVZM.png",yc="/assets/library-Cd4et4Lv.png",bc="/assets/miniMessage-CzQPKqCv.png",wc="/assets/RPS-QveF0Tvl.png",Sc="/assets/sudoku-TVXgy5mK.png",Cc="/assets/tictac-DNzsL1Fd.png",Ac="/assets/todo-BnCRr9AW.png",Pc="/assets/waldo-DOsl5Pn3.png",Tc="/assets/gameInventory-C0EaSL9z.png",kc="/assets/members-CA3-dDKl.png",Mc="/assets/shopping-Bw00HqLx.png",Ec="/assets/weather-CxiXIB8W.png",Ic="/assets/cvGenerator-3F1IRlzh.png",Rc="/assets/FormatMyCV-CPoioij0.png",Lc="/assets/NotesApp-DRvvraUx.png",Bc="/assets/archivist-mMd28y3x.png",Dc="/assets/keystrike-CCUygLZs.png",Fc="/assets/lootScout-BHtBqkbM.png",Gc="/assets/hobbycardheaven-oNg_mjJ0.png",Oc="/assets/universalScoreTracker-RBUqSKCE.png",Ci={"Full-Stack Applications":[{id:"PRJ-001",title:"ChatSphere",image:uc,description:"A full-stack web messaging application that allows users to communicate in real-time with features like direct messaging, group chats, and contact management.",tags:["React","Node.js","Express","PostgreSQL","Prisma","JWT"],demoLink:"",githubLink:"https://github.com/BDS-001/Messaging-App"},{id:"PRJ-002",title:"Where's Waldo Clone",image:Pc,description:"A full-stack photo-tagging game where players search for hidden characters within detailed images, with time tracking and leaderboards.",tags:["React","Node.js","Express","PostgreSQL","Prisma"],demoLink:"",githubLink:"https://github.com/BDS-001/Wheres-Waldo-Photo-Tagging-App"},{id:"PRJ-003",title:"Blog Platform",image:pc,description:"A full-stack blog platform with separate interfaces for content authors and readers, featuring rich text editing, comment system, and user authentication.",tags:["React","Node.js","Express","Prisma","JWT"],demoLink:"",githubLink:"https://github.com/BDS-001/Blog"},{id:"PRJ-004",title:"File Uploader",image:_c,description:"A simple file and folder management system built with Express and Prisma, allowing users to securely upload, organize, and download their files.",tags:["Node.js","Express","PostgreSQL","Prisma","Passport.js","Multer","EJS"],demoLink:"",githubLink:"https://github.com/BDS-001/File-Uploader"},{id:"PRJ-005",title:"Video Game Inventory",image:Tc,description:"A full-stack web application for managing a video game collection. Built with Node.js, Express, PostgreSQL, and EJS templating with CRUD operations for video games.",tags:["Node.js","Express","PostgreSQL","EJS","express-validator"],demoLink:"",githubLink:"https://github.com/BDS-001/Inventory-Application"},{id:"PRJ-006",title:"Members Only",image:kc,description:"A private clubhouse web application where members can write anonymous posts. Inside the clubhouse, members can see who wrote each post, but non-members can only see the content without knowing the author.",tags:["Node.js","Express","PostgreSQL","EJS","Passport.js","bcrypt.js"],demoLink:"",githubLink:"https://github.com/BDS-001/Members-Only"}],"Frontend Applications with API Integration":[{id:"PRJ-007",title:"Pok√©mon Card Memory Game",image:vc,description:"A React memory game that tests your ability to remember which Pok√©mon cards you've already clicked, with score tracking and dynamic card shuffling.",tags:["React","Vite","CSS Modules","Pok√©API"],demoLink:"https://bds-001.github.io/Memory-Card/",githubLink:"https://github.com/BDS-001/Memory-Card"},{id:"PRJ-008",title:"Shopping Site",image:Mc,description:"A React-based e-commerce application that simulates an online shopping experience with product browsing, cart functionality, and checkout process.",tags:["React","React Router","Fake Store API","CSS"],demoLink:"",githubLink:"https://github.com/BDS-001/Shopping-Cart"},{id:"PRJ-009",title:"Weather Forecast Application",image:Ec,description:"A responsive web application that provides detailed weather forecasts with multi-day predictions, hourly breakdowns, and dynamic backgrounds based on conditions.",tags:["HTML","CSS","JavaScript","WeatherAPI","Async/Await"],demoLink:"https://bds-001.github.io/Weather-App/",githubLink:"https://github.com/BDS-001/Weather-App"}],"Mobile Apps":[{id:"PRJ-023",title:"Notes",image:Lc,description:"A privacy-focused mobile note-taking application built with React Native and Expo. Features include real-time autosaving, automatic sorting by last modified date, and a clean dark theme interface. All data is stored locally on the device with no tracking or data collection, providing users with a distraction-free note-taking experience.",tags:["React Native","Expo","AsyncStorage","Expo Router","Context API","Mobile Development"],demoLink:"",githubLink:"https://github.com/BDS-001/Notes-mobile-app"}],"React Projects":[{id:"PRJ-010",title:"Universal Score Tracker",image:Oc,description:"A universal game score tracking application for keeping track of scores across various board games and card games.",tags:["React","Vite","CSS"],demoLink:"https://bds-001.github.io/Universal-Game-Score-Tracker/",githubLink:"https://github.com/BDS-001/Universal-Game-Score-Tracker"},{id:"PRJ-011",title:"CV Generator",image:Ic,description:"A React application that allows users to create and customize their CV/r√©sum√© with a clean, professional output. Features include dynamic form input, live preview, and responsive design.",tags:["React","Vite","UUID","CSS"],demoLink:"",githubLink:"https://github.com/BDS-001/React-CV-Application"}],"JavaScript Applications":[{id:"PRJ-012",title:"Battleship Game",image:fc,description:"A classic implementation of the Battleship board game with two game modes, drag and drop ship placement, turn-based gameplay, and smart AI that targets adjacent squares.",tags:["JavaScript","Webpack","Jest","HTML5 Drag & Drop","TDD"],demoLink:"",githubLink:"https://github.com/BDS-001/Battleship"},{id:"PRJ-013",title:"Task Manager",image:Ac,description:"A feature-rich todo list application with project management, task organization by due date, priority levels, and data persistence using localStorage.",tags:["HTML","CSS","JavaScript","Webpack","localStorage","Bootstrap Icons"],demoLink:"https://bds-001.github.io/TODO-List/",githubLink:"https://github.com/BDS-001/TODO-List"},{id:"PRJ-014",title:"Sudoku Solver",image:Sc,description:"A web-based application for solving Sudoku puzzles using a backtracking algorithm. This interactive tool allows users to input their Sudoku puzzles and get solutions instantly.",tags:["HTML","CSS","JavaScript","Backtracking Algorithm"],demoLink:"https://bds-001.github.io/Sudoku-Solver/",githubLink:"https://github.com/BDS-001/Sudoku-Solver"}],"Intermediate Web Projects":[{id:"PRJ-016",title:"Mini Message Board",image:bc,description:"A simple interactive message board built with Express.js and PostgreSQL that allows users to create, view, and interact with messages.",tags:["Node.js","Express","EJS","PostgreSQL"],demoLink:"",githubLink:"https://github.com/BDS-001/Mini-Message-Board-"},{id:"PRJ-017",title:"Browser Tic-Tac-Toe",image:Cc,description:"A classic Tic-Tac-Toe game built with vanilla JavaScript featuring customizable player names, score tracking, and a responsive design with a clean UI.",tags:["HTML","CSS","JavaScript","Module Pattern"],demoLink:"https://bds-001.github.io/Tic-Tac-Toe/",githubLink:"https://github.com/BDS-001/Tic-Tac-Toe"},{id:"PRJ-018",title:"My Library",image:yc,description:"A book tracking application that allows users to add books to their virtual library, toggle read status, and remove books when needed with a clean interface.",tags:["HTML","CSS","JavaScript","OOP"],demoLink:"",githubLink:"https://github.com/BDS-001/Library"}],"Beginner Web Projects":[{id:"PRJ-019",title:"Rock Paper Scissors",image:wc,description:"A classic Rock Paper Scissors game built with HTML, CSS, and JavaScript. Features an interactive UI with visual feedback, score tracking, and a first-to-3 scoring system.",tags:["HTML","CSS","JavaScript"],demoLink:"https://bds-001.github.io/Rock-Paper-Scissors/",githubLink:"https://github.com/BDS-001/Rock-Paper-Scissors"},{id:"PRJ-020",title:"Dashboard Project",image:dc,description:"A responsive dashboard UI built with CSS Grid, featuring a clean modern design with navigation panel, search functionality, project cards, and announcements section.",tags:["HTML","CSS Grid","Bootstrap Icons"],demoLink:"",githubLink:"https://github.com/BDS-001/Admin-Dashboard"},{id:"PRJ-021",title:"Etch-a-Sketch",image:gc,description:"A browser-based drawing application inspired by the classic Etch-a-Sketch toy. This interactive web app allows users to create pixel art by hovering their mouse over a grid.",tags:["HTML","CSS","JavaScript","Flexbox"],demoLink:"https://bds-001.github.io/Etch-a-Sketch/",githubLink:"https://github.com/BDS-001/Etch-a-Sketch"},{id:"PRJ-022",title:"JavaScript Calculator",image:mc,description:"A simple, functional calculator built with vanilla JavaScript, featuring basic arithmetic operations, error handling, and a clean, modern UI with visual feedback.",tags:["HTML","CSS","JavaScript"],demoLink:"https://bds-001.github.io/Calculator/",githubLink:"https://github.com/BDS-001/Calculator"}],Games:[{id:"PRJ-025",title:"MonsterType",image:Dc,description:"A typing-based survival game built with Phaser.js where players eliminate enemies by typing words accurately and quickly. Features multiple enemy types, progressive difficulty, health system with collectible medkits, and responsive design. Currently under active development with ongoing feature enhancements.",tags:["Phaser.js","JavaScript ES6+","Vite","Game Development","OOP","Physics"],demoLink:"https://bds-001.github.io/MonsterType/",githubLink:"https://github.com/BDS-001/MonsterType"}],"Browser Extensions":[{id:"PRJ-024",title:"Archivist",image:Bc,description:"A browser extension that displays a banner on missing webpages if an archive is available on the Wayback Machine. Features a pixel art design with medieval theming and provides quick access to archived versions of unavailable content.",tags:["JavaScript","WebExtensions API","CSS","HTML","Browser Extension"],demoLink:"",githubLink:"https://github.com/BDS-001/Archivist"}]},jc=[{id:"FEATURED-003",title:"LootScout",image:Fc,description:"A browser extension that enhances Steam browsing by providing real-time game deal comparisons and pricing analysis. Features a gaming-inspired rarity system (Common to Iridescent) that rates deals based on discount percentages, historical price tracking, and seamless integration with Steam's interface. Built with TypeScript and includes a Vercel proxy server for API access to GG.deals and Steam Store APIs.",tags:["TypeScript","Browser Extension","React","Vite","Vercel","Steam API","Gaming"],demoLink:"",githubLink:"https://github.com/BDS-001/LootScout",downloadLinks:[{text:"Firefox Download",link:"https://addons.mozilla.org/en-US/firefox/addon/lootscout/"}]},{id:"FEATURED-004",title:"FormatMyCV",image:Rc,description:"A reimagined version of the CV Generator with improved architecture. This sleek resume builder uses React Context API for better state management and adds functionality for users to import/export resume data in JSON format and print to PDF. Features an intuitive form interface and real-time preview.",tags:["React","Context API","Vite","CSS","JSON Import/Export"],demoLink:"https://bds-001.github.io/FormatMyCV/",githubLink:"https://github.com/BDS-001/FormatMyCV"},{id:"FEATURED-005",title:"Photo-To-ASCII",image:xc,description:"A JavaScript library that transforms images into ASCII art with multiple rendering modes and customization options. Supports standard ASCII characters, Braille patterns, and edge detection.",tags:["JavaScript","Canvas API","HTML","CSS"],demoLink:"https://bds-001.github.io/Photo-To-ASCII/",githubLink:"https://github.com/BDS-001/Photo-To-ASCII"}],Nc=[{id:"WORK-001",title:"LWK Media",description:"A dynamic production house website showcasing professional video and photo services. This freelance project evolved through three major revisions from a static HTML/CSS/JS site to a full React application. Features include responsive design, Vimeo video integration, Google Forms integration, and SEO optimization with React Helmet, robots.txt, and sitemap.xml. The site showcases various services including business solutions, documentaries, real estate and creative storytelling.",tags:["React","Vite","React Router","React Helmet","SEO","Responsive Design","Client Project"],image:cc,demoLink:"https://www.lwkmedia.com/"},{id:"WORK-002",title:"Hobby Card Heaven",description:"A full-stack e-commerce platform for Pok√©mon card trading built with SvelteKit. The frontend is live and fully functional, featuring dynamic product listings with Sanity CMS integration, advanced filtering and search capabilities, responsive design with mobile-first approach, and comprehensive SEO optimization. Includes contact forms with email integration, social media integration, and strategic API usage management to optimize costs. Backend development is currently in progress to add direct purchasing capabilities and enhanced user features.",tags:["SvelteKit","Full-Stack","Sanity CMS","JavaScript","CSS","SEO","Responsive Design","E-commerce","Email Integration"],image:Gc,demoLink:"https://hobbycardheaven.com/"}];var Uc=F("<span> </span>"),zc=F('<a target="_blank" rel="noopener noreferrer" class="cardLink svelte-qfr5pi">View project</a>'),Hc=F('<article class="workCard svelte-qfr5pi"><div class="cardAccentRow svelte-qfr5pi"><span class="accentDot svelte-qfr5pi" aria-hidden="true"></span> <span class="accentLabel svelte-qfr5pi"> </span> <span class="accentDivider svelte-qfr5pi" aria-hidden="true"></span> <span class="accentNumber svelte-qfr5pi"> </span></div> <div class="cardBody svelte-qfr5pi"><div class="cardImage svelte-qfr5pi"><img class="svelte-qfr5pi"></div> <div class="cardInfo svelte-qfr5pi"><div class="cardHeader svelte-qfr5pi"><div class="cardTitleGroup svelte-qfr5pi"><span class="cardEyebrow svelte-qfr5pi">Featured work</span> <h3 class="cardTitle svelte-qfr5pi"> </h3></div></div> <p class="cardDescription svelte-qfr5pi"> </p> <div class="cardMetaRow svelte-qfr5pi"><span class="metaItem svelte-qfr5pi"><span class="metaLabel svelte-qfr5pi">Stack</span> <span class="metaValue svelte-qfr5pi"> </span></span> <span class="metaItem svelte-qfr5pi"><span class="metaLabel svelte-qfr5pi">Status</span> <span class="metaValue svelte-qfr5pi"> </span></span></div> <div class="cardTags svelte-qfr5pi"></div> <div class="cardFooter svelte-qfr5pi"><div class="footerNote svelte-qfr5pi"><span class="metaLabel svelte-qfr5pi">Deliverable</span> <span class="metaValue svelte-qfr5pi"> </span></div> <!></div></div></div></article>'),Vc=F('<section class="workSection svelte-qfr5pi"></section>');function $c(s,t){Ut(t,!1);const e=a=>(a+1).toString().padStart(2,"0"),i=a=>Array.isArray(a)&&a.includes("Client Project")?"Client build":"Product build",r=a=>Array.isArray(a)?a.slice(0,3).join(" ¬∑ "):"";_i();var n=Vc();ut(n,5,()=>Nc,ct,(a,o,l)=>{var h=Hc();Ga(h,`--card-index: ${l}`);var c=A(h),u=P(A(c),2),f=A(u),d=P(u,4),m=A(d),g=P(c,2),p=A(g),_=A(p),y=P(p,2),v=A(y),x=A(v),S=P(A(x),2),C=A(S),w=P(v,2),R=A(w),I=P(w,2),k=A(I),M=P(A(k),2),D=A(M),j=P(k,2),N=P(A(j),2),O=A(N),T=P(I,2);ut(T,5,()=>b(o).tags,ct,(ot,St,E)=>{var V=Uc();const oe=Tt(()=>E%7);var Ee=A(V);q(()=>{de(V,1,`tag tag-${b(oe)??""}`,"svelte-qfr5pi"),H(Ee,b(St))}),B(ot,V)});var L=P(T,2),st=A(L),G=P(A(st),2),rt=A(G),vt=P(st,2);{var dt=ot=>{var St=zc();q(()=>Q(St,"href",b(o).demoLink)),B(ot,St)};bt(vt,ot=>{b(o).demoLink&&ot(dt)})}q((ot,St,E,V)=>{H(f,ot),H(m,`#${St??""}`),Q(_,"src",b(o).image),Q(_,"alt",b(o).title),H(C,b(o).title),H(R,b(o).description),H(D,E),H(O,b(o).demoLink?"Live":"In progress"),H(rt,V)},[()=>i(b(o).tags),()=>e(l),()=>r(b(o).tags),()=>i(b(o).tags)],Tt),B(a,h)}),B(s,n),zt()}var Yc=F('<div slot="default" class="workTerminalBody svelte-1cywtzl"><!></div>'),qc=F('<section id="work-experience" class="workExperience"><div class="container"><!> <!></div></section>');function Wc(s){const t=[{class:"children",cursor:!1}];var e=qc(),i=A(e),r=A(i);As(r,{title:"Work Experience & Client Projects"});var n=P(r,2);fe(n,{title:"~/portfolio/work-experience",content:t,height:"auto",children:(a,o)=>{var l=Yc(),h=A(l);$c(h,{}),B(a,l)},$$slots:{default:!0}}),B(s,e)}var Xc=F("<span> </span>"),Jc=F('<a target="_blank" rel="noopener noreferrer" class="projectLink svelte-w8copj">View Demo</a>'),Kc=F('<a target="_blank" rel="noopener noreferrer" class="projectLink svelte-w8copj">Source Code</a>'),Zc=F('<div class="projectCard svelte-w8copj"><div class="cassetteHeader svelte-w8copj"><div class="cassetteTitle svelte-w8copj"> </div> <div class="projectId svelte-w8copj"> </div></div> <div class="projectImg svelte-w8copj"><img class="imageBase svelte-w8copj" loading="lazy"></div> <div class="cassetteHoles svelte-w8copj"><div class="cassetteHole svelte-w8copj"></div> <div class="cassetteHole svelte-w8copj"></div></div> <div class="projectDetails svelte-w8copj"><h3 class="projectTitle svelte-w8copj"> </h3> <p class="projectDescription lightText svelte-w8copj"> </p> <div class="projectTags tagsContainer svelte-w8copj"></div> <div class="projectLinks svelte-w8copj"><!> <!></div></div> <div class="buffer svelte-w8copj"></div> <div class="cassetteFooter svelte-w8copj"><div class="cassetteReel svelte-w8copj"></div> <div class="cassetteReel svelte-w8copj"></div></div></div>');function Kr(s,t){let e=Rt(t,"title",8),i=Rt(t,"image",8),r=Rt(t,"description",8),n=Rt(t,"tags",8),a=Rt(t,"demoLink",8),o=Rt(t,"githubLink",8),l=Rt(t,"id",8,"");var h=Zc(),c=A(h),u=A(c),f=A(u),d=P(u,2),m=A(d),g=P(c,2),p=A(g),_=P(g,4),y=A(_),v=A(y),x=P(y,2),S=A(x),C=P(x,2);ut(C,5,n,ct,(D,j,N)=>{var O=Xc();const T=Tt(()=>N%7),L=Tt(()=>b(T)===0?"tagColor1":b(T)===1?"tagColor2":b(T)===2?"tagColor3":b(T)===3?"tagColor4":b(T)===4?"tagColor5":b(T)===5?"tagColor6":"tagColor7");var st=A(O);q(()=>{de(O,1,`projectTag tagBase ${b(L)??""}`,"svelte-w8copj"),H(st,b(j))}),B(D,O)});var w=P(C,2),R=A(w);{var I=D=>{var j=Jc();q(()=>Q(j,"href",a())),B(D,j)};bt(R,D=>{a()&&a()!==""&&D(I)})}var k=P(R,2);{var M=D=>{var j=Kc();q(()=>Q(j,"href",o())),B(D,j)};bt(k,D=>{o()&&o()!==""&&D(M)})}q(()=>{H(f,e()),H(m,l()),Q(p,"src",i()),Q(p,"alt",e()),H(v,e()),H(S,r())}),B(s,h)}var Qc=F("<span> </span>"),tu=F('<a target="_blank" rel="noopener noreferrer" class="featuredProjectLink svelte-1j9i62h">Live Site</a>'),eu=F('<a target="_blank" rel="noopener noreferrer" class="featuredProjectLink svelte-1j9i62h">Source Code</a>'),su=F("<a> </a>"),iu=F('<section class="featuredProject svelte-1j9i62h"><div class="featuredCassetteHeader svelte-1j9i62h"><div class="featuredCassetteTitle svelte-1j9i62h"> </div> <div class="featuredProjectId svelte-1j9i62h"></div></div> <div class="featuredProjectContent svelte-1j9i62h"><div class="featuredProjectImage svelte-1j9i62h"><img class="imageBase svelte-1j9i62h" loading="lazy"> <div class="featuredProjectSticker svelte-1j9i62h">FEATURED</div></div> <div class="featuredProjectDetails svelte-1j9i62h"><div class="featuredLabel svelte-1j9i62h">Featured Project</div> <h3 class="featuredProjectTitle svelte-1j9i62h"></h3> <p class="featuredProjectDescription lightText svelte-1j9i62h"></p> <div class="featuredProjectTags tagsContainer svelte-1j9i62h"></div> <div class="featuredProjectLinks svelte-1j9i62h"><!> <!> <!></div></div></div> <div class="featuredCassetteFooter svelte-1j9i62h"><div class="featuredCassetteReel svelte-1j9i62h"></div> <div class="featuredCassetteReel svelte-1j9i62h"></div> <div class="featuredCassetteReel svelte-1j9i62h"></div></div></section>');function ru(s,t){let e=Rt(t,"project",8);const{id:i,title:r,image:n,description:a,tags:o,demoLink:l,githubLink:h,downloadLinks:c}=e(),u=typeof navigator<"u"&&navigator.userAgent.includes("Firefox");var f=iu(),d=A(f),m=A(d),g=A(m),p=P(m,2);p.textContent=i;var _=P(d,2),y=A(_),v=A(y);Q(v,"src",n),Q(v,"alt",r);var x=P(y,2),S=P(A(x),2);S.textContent=r;var C=P(S,2);C.textContent=a;var w=P(C,2);ut(w,5,()=>o,ct,(O,T,L)=>{var st=Qc();const G=Tt(()=>L%7),rt=Tt(()=>b(G)===0?"tagColor1":b(G)===1?"tagColor2":b(G)===2?"tagColor3":b(G)===3?"tagColor4":b(G)===4?"tagColor5":b(G)===5?"tagColor6":"tagColor7");var vt=A(st);q(()=>{de(st,1,`featuredProjectTag tagBase ${b(rt)??""}`,"svelte-1j9i62h"),H(vt,b(T))}),B(O,st)});var R=P(w,2),I=A(R);{var k=O=>{var T=tu();Q(T,"href",l),B(O,T)};bt(I,O=>{l&&l!==""&&O(k)})}var M=P(I,2);{var D=O=>{var T=eu();Q(T,"href",h),B(O,T)};bt(M,O=>{h&&h!==""&&O(D)})}var j=P(M,2);{var N=O=>{var T=gi(),L=re(T);ut(L,1,()=>c,ct,(st,G)=>{var rt=su();const vt=Tt(()=>b(G).link.includes("addons.mozilla.org")||b(G).link.endsWith(".xpi")),dt=Tt(()=>b(vt)&&!u);let ot;var St=A(rt);q(E=>{Q(rt,"href",b(dt)?void 0:b(G).link),Q(rt,"target",b(dt)?void 0:"_blank"),Q(rt,"rel",b(dt)?void 0:"noopener noreferrer"),ot=de(rt,1,`featuredProjectLink downloadLink ${b(dt)?"disabled":""}`,"svelte-1j9i62h",ot,E),H(St,b(G).text)},[()=>({disabled:b(dt)})],Tt),B(st,rt)}),B(O,T)};bt(j,O=>{c&&c.length>0&&O(N)})}q(O=>H(g,O),[()=>r.length>20?r.substring(0,20):r],Tt),B(s,f)}var nu=(s,t,e)=>U(t,b(e),!0),au=F("<button> </button>"),ou=F('<div class="filterButtons svelte-1n0hva6"></div> <span class="comment svelte-1n0hva6">// Projects in this section include source code available on GitHub</span> <span class="comment svelte-1n0hva6">// Select projects feature live demos hosted on GitHub Pages</span>',1),lu=F('<div class="categorySection svelte-1n0hva6"><h3 class="categoryTitle svelte-1n0hva6"> </h3> <div class="projectsGrid svelte-1n0hva6"></div></div>'),hu=F('<div class="categorySection svelte-1n0hva6"><h3 class="categoryTitle svelte-1n0hva6"> </h3> <div class="projectsGrid svelte-1n0hva6"></div></div>'),cu=F('<section id="projects" class="projectsSection svelte-1n0hva6"><div class="container"><!> <div class="terminal"><!></div> <!> <!> <div class="projectsContainer svelte-1n0hva6"><!></div></div></section>');function uu(s,t){Ut(t,!0);let e=Z("All"),i=Z(qt([]));const r=["All",...Object.keys(Ci)],n=Object.entries(Ci).flatMap(([v,x])=>x.map(S=>({...S,category:v})));It(()=>{b(e)==="All"?U(i,n,!0):U(i,n.filter(v=>v.category===b(e)),!0)});const a=[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"node load-featured-project.js",class:"terminalTypedText",cursor:!0},{text:`
  Connecting to repository...
  Authenticating access...
  Access granted.
  Loading featured project data...
  `,class:"terminalResponse",render:"slow",cursor:!1},{text:`
  _____ _____    _  _____ _   _ ____  _____ ____
 |  ___| ____|  / \\|_   _| | | |  _ \\| ____|  _ \\
 | |_  |  _|   / _ \\ | | | | | | |_) |  _| | | | |
 |  _| | |___ / ___ \\| | | |_| |  _ <| |___| |_| |
 |_|   |_____/_/   \\_\\_|  \\___/|_| \\_\\_____|____/
      `,class:"terminalResponse",cursor:!1,render:"slow"},{text:`
  PROJECTS FOUND: "LootScout", "FormatMyCV", "Photo-To-ASCII"
  STATUS: ‚úì DEPLOYED | ‚úì COMPLETED
  DESC: Gaming browser extension + Resume builder + Image ASCII converter
  TECH: TypeScript, React, Context API, Canvas API, Browser Extensions
  FEATURED COUNT: 3
  `,class:"terminalResponse",render:"slow",cursor:!1},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}],o=[{class:"terminalPrompt",text:"BDS-001:~ $",cursor:!0},{text:" ls",class:"terminalTypedText",cursor:!0},{text:`
  Initializing...
  Loading Project Filters...
  Success.
  `,class:"terminalResponse",render:"slow",cursor:!1},{text:`
  ____  ____   ___      _ _____ ____ _____ ____  
 |  _ \\|  _ \\ / _ \\    | | ____/ ___|_   _/ ___| 
 | |_) | |_) | | | |_  | |  _|| |     | | \\___ \\ 
 |  __/|  _ <| |_| | |_| | |__| |___  | |  ___) |
 |_|   |_| \\_\\\\___/ \\___/|_____\\____| |_| |____/
      `,class:"terminalResponse",cursor:!1,render:"slow"},{text:"Select the project filter options below:",class:"terminalResponse",render:"slow"},{class:"children",cursor:!1},{class:"terminalPrompt",cursor:!0,text:"BDS-001:~ $ "}];var l=cu(),h=A(l),c=A(h);As(c,{title:"My Projects"});var u=P(c,2),f=A(u);fe(f,{title:"~/portfolio/featuredProject",content:a});var d=P(u,2);ut(d,17,()=>jc,ct,(v,x)=>{ru(v,{get project(){return b(x)}})});var m=P(d,2);fe(m,{title:"~/portfolio/Projects",content:o,children:(v,x)=>{var S=ou(),C=re(S);ut(C,21,()=>r,ct,(w,R)=>{var I=au();I.__click=[nu,e,R];var k=A(I);q(()=>{de(I,1,`filterButton ${b(e)===b(R)?"active":""}`,"svelte-1n0hva6"),H(k,b(R))}),B(w,I)}),B(v,S)},$$slots:{default:!0}});var g=P(m,2),p=A(g);{var _=v=>{var x=gi(),S=re(x);ut(S,17,()=>Object.entries(Ci),ct,(C,w)=>{let R=()=>b(w)[0],I=()=>b(w)[1];var k=lu(),M=A(k),D=A(M),j=P(M,2);ut(j,21,I,ct,(N,O)=>{Kr(N,{get title(){return b(O).title},get image(){return b(O).image},get description(){return b(O).description},get tags(){return b(O).tags},get demoLink(){return b(O).demoLink},get githubLink(){return b(O).githubLink},get id(){return b(O).id}})}),q(()=>H(D,R())),B(C,k)}),B(v,x)},y=v=>{var x=hu(),S=A(x),C=A(S),w=P(S,2);ut(w,21,()=>b(i),ct,(R,I)=>{Kr(R,{get title(){return b(I).title},get image(){return b(I).image},get description(){return b(I).description},get tags(){return b(I).tags},get demoLink(){return b(I).demoLink},get githubLink(){return b(I).githubLink},get id(){return b(I).id}})}),q(()=>H(C,b(e))),B(v,x)};bt(p,v=>{b(e)==="All"?v(_):v(y,!1)})}B(s,l),zt()}Cs(["click"]);var du=(s,t)=>t("GitHub"),fu=(s,t)=>t("LinkedIn"),pu=F('<p class="svelte-14juuu6"> </p> <p class="svelte-14juuu6"> </p>',1),mu=F(`<div class="terminalContactContent svelte-14juuu6"><p class="contactDescription svelte-14juuu6">I'm always open to new opportunities and collaborations. Feel free to reach out through
          one of the channels below:</p> <div class="contactButtons svelte-14juuu6"><a href="https://github.com/BDS-001" target="_blank" rel="noopener noreferrer" class="contactButton svelte-14juuu6"><img alt="GitHub" class="buttonIcon svelte-14juuu6"> <span>GitHub</span></a> <a href="https://www.linkedin.com/in/brian-s-98151921a/" target="_blank" rel="noopener noreferrer" class="contactButton svelte-14juuu6"><img alt="LinkedIn" class="buttonIcon svelte-14juuu6"> <span>LinkedIn</span></a></div> <div class="terminalNote svelte-14juuu6"><span class="comment svelte-14juuu6">// For direct inquiries, please message through LinkedIn</span> <!></div></div>`),gu=F('<section id="contact" class="contact svelte-14juuu6"><div class="container"><!> <!></div></section>');function _u(s){let t=Z("None"),e=Z(0),i=os(()=>b(e)===0?"":`You have clicked ${b(e)} time${b(e)===1?"":"s"}.`);const r=[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"cat contact_info.txt",class:"terminalTypedText",cursor:!0},{text:`
/**************************************
 * COMMUNICATION INTERFACE ACTIVATED  *
 **************************************/

STATUS: ONLINE
CHANNELS: 2
ENCRYPTION: ENABLED
RESPONSE TIME: < 24 HOURS

> Please select a communication method below:
`,class:"terminalResponse",render:"slow",cursor:!1},{class:"children",cursor:!1},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}];function n(c){U(t,c,!0),ga(e)}var a=gu(),o=A(a),l=A(o);As(l,{title:"Contact Me"});var h=P(l,2);fe(h,{title:"~/portfolio/contact",content:r,children:(c,u)=>{var f=mu(),d=P(A(f),2),m=A(d);m.__click=[du,n];var g=A(m);Q(g,"src",Ua);var p=P(m,2);p.__click=[fu,n];var _=A(p);Q(_,"src",za);var y=P(d,2),v=P(A(y),2);{var x=S=>{var C=pu(),w=re(C),R=A(w),I=P(w,2),k=A(I);q(()=>{H(R,`Last clicked: ${b(t)??""}`),H(k,b(i))}),B(S,C)};bt(v,S=>{b(t)!=="None"&&S(x)})}B(c,f)},$$slots:{default:!0}}),B(s,a)}Cs(["click"]);var vu=F("<!> <!> <!> <!> <!> <!>",1);function xu(s){var t=vu(),e=re(t);Qh(e);var i=P(e,2);sc(i,{});var r=P(i,2);hc(r);var n=P(r,2);Wc(n);var a=P(n,2);uu(a,{});var o=P(a,2);_u(o),B(s,t)}const yu="modulepreload",bu=function(s){return"/"+s},Zr={},ii=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let a=function(h){return Promise.all(h.map(c=>Promise.resolve(c).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=a(e.map(h=>{if(h=bu(h),h in Zr)return;Zr[h]=!0;const c=h.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":yu,c||(f.as="script"),f.crossOrigin="",f.href=h,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${h}`)))})}))}function n(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&n(o.reason);return t().catch(n)})};var $=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))($||{});const Zi=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},ks=(s,t)=>Zi(s).priority??t,Ft={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Zi).forEach(t=>{t.type.forEach(e=>{var i,r;return(r=(i=this._removeHandlers)[e])==null?void 0:r.call(i,t)})}),this},add(...s){return s.map(Zi).forEach(t=>{t.type.forEach(e=>{var n,a;const i=this._addHandlers,r=this._queue;i[e]?(a=i[e])==null||a.call(i,t):(r[e]=r[e]||[],(n=r[e])==null||n.push(t))})}),this},handle(s,t,e){var a;const i=this._addHandlers,r=this._removeHandlers;if(i[s]||r[s])throw new Error(`Extension type ${s} already has a handler`);i[s]=t,r[s]=e;const n=this._queue;return n[s]&&((a=n[s])==null||a.forEach(o=>t(o)),delete n[s]),this},handleByMap(s,t){return this.handle(s,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByNamedList(s,t,e=-1){return this.handle(s,i=>{t.findIndex(n=>n.name===i.name)>=0||(t.push({name:i.name,value:i.ref}),t.sort((n,a)=>ks(a.value,e)-ks(n.value,e)))},i=>{const r=t.findIndex(n=>n.name===i.name);r!==-1&&t.splice(r,1)})},handleByList(s,t,e=-1){return this.handle(s,i=>{t.includes(i.ref)||(t.push(i.ref),t.sort((r,n)=>ks(n,e)-ks(r,e)))},i=>{const r=t.indexOf(i.ref);r!==-1&&t.splice(r,1)})},mixin(s,...t){for(const e of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(e))}},wu={extension:{type:$.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await ii(()=>import("./browserAll-DD4GHfsp.js"),__vite__mapDeps([0,1,2,3]))}},Su={extension:{type:$.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await ii(()=>import("./webworkerAll-DdqwMOR1.js"),__vite__mapDeps([1,2,3]))}};class ft{constructor(t,e,i){this._x=e||0,this._y=i||0,this._observer=t}clone(t){return new ft(t??this._observer,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}function Ha(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ai={exports:{}},Qr;function Cu(){return Qr||(Qr=1,function(s){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function r(l,h,c){this.fn=l,this.context=h,this.once=c||!1}function n(l,h,c,u,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new r(c,u||l,f),m=e?e+h:h;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function a(l,h){--l._eventsCount===0?l._events=new i:delete l._events[h]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],c,u;if(this._eventsCount===0)return h;for(u in c=this._events)t.call(c,u)&&h.push(e?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h},o.prototype.listeners=function(h){var c=e?e+h:h,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,d=u.length,m=new Array(d);f<d;f++)m[f]=u[f].fn;return m},o.prototype.listenerCount=function(h){var c=e?e+h:h,u=this._events[c];return u?u.fn?1:u.length:0},o.prototype.emit=function(h,c,u,f,d,m){var g=e?e+h:h;if(!this._events[g])return!1;var p=this._events[g],_=arguments.length,y,v;if(p.fn){switch(p.once&&this.removeListener(h,p.fn,void 0,!0),_){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,c),!0;case 3:return p.fn.call(p.context,c,u),!0;case 4:return p.fn.call(p.context,c,u,f),!0;case 5:return p.fn.call(p.context,c,u,f,d),!0;case 6:return p.fn.call(p.context,c,u,f,d,m),!0}for(v=1,y=new Array(_-1);v<_;v++)y[v-1]=arguments[v];p.fn.apply(p.context,y)}else{var x=p.length,S;for(v=0;v<x;v++)switch(p[v].once&&this.removeListener(h,p[v].fn,void 0,!0),_){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,c);break;case 3:p[v].fn.call(p[v].context,c,u);break;case 4:p[v].fn.call(p[v].context,c,u,f);break;default:if(!y)for(S=1,y=new Array(_-1);S<_;S++)y[S-1]=arguments[S];p[v].fn.apply(p[v].context,y)}}return!0},o.prototype.on=function(h,c,u){return n(this,h,c,u,!1)},o.prototype.once=function(h,c,u){return n(this,h,c,u,!0)},o.prototype.removeListener=function(h,c,u,f){var d=e?e+h:h;if(!this._events[d])return this;if(!c)return a(this,d),this;var m=this._events[d];if(m.fn)m.fn===c&&(!f||m.once)&&(!u||m.context===u)&&a(this,d);else{for(var g=0,p=[],_=m.length;g<_;g++)(m[g].fn!==c||f&&!m[g].once||u&&m[g].context!==u)&&p.push(m[g]);p.length?this._events[d]=p.length===1?p[0]:p:a(this,d)}return this},o.prototype.removeAllListeners=function(h){var c;return h?(c=e?e+h:h,this._events[c]&&a(this,c)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,s.exports=o}(Ai)),Ai.exports}var Au=Cu();const ae=Ha(Au),Pu=Math.PI*2,Tu=180/Math.PI,ku=Math.PI/180;class pt{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new pt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Pi.x=0,Pi.y=0,Pi}}const Pi=new pt;class z{constructor(t=1,e=0,i=0,r=1,n=0,a=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=a}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,r,n,a){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=a,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new pt;const i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e}applyInverse(t,e){e=e||new pt;const i=this.a,r=this.b,n=this.c,a=this.d,o=this.tx,l=this.ty,h=1/(i*a+n*-r),c=t.x,u=t.y;return e.x=a*h*c+-n*h*u+(l*n-o*a)*h,e.y=i*h*u+-r*h*c+(-l*i+o*r)*h,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,a=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=a*e-this.ty*i,this.ty=a*i+this.ty*e,this}append(t){const e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this}appendFrom(t,e){const i=t.a,r=t.b,n=t.c,a=t.d,o=t.tx,l=t.ty,h=e.a,c=e.b,u=e.c,f=e.d;return this.a=i*h+r*u,this.b=i*c+r*f,this.c=n*h+a*u,this.d=n*c+a*f,this.tx=o*h+l*u+e.tx,this.ty=o*c+l*f+e.ty,this}setTransform(t,e,i,r,n,a,o,l,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-l)*a,this.d=Math.cos(o-l)*a,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,r=this.c,n=this.d,a=t.pivot,o=-Math.atan2(-r,n),l=Math.atan2(i,e),h=Math.abs(o+l);return h<1e-5||Math.abs(Pu-h)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx+(a.x*e+a.y*r),t.position.y=this.ty+(a.x*i+a.y*n),t}invert(){const t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,a=t*r-e*i;return this.a=r/a,this.b=-e/a,this.c=-i/a,this.d=t/a,this.tx=(i*this.ty-r*n)/a,this.ty=-(t*this.ty-e*n)/a,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new z;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Eu.identity()}static get shared(){return Mu.identity()}}const Mu=new z,Eu=new z,xe=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ye=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],be=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],we=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Qi=[],Va=[],Ms=Math.sign;function Iu(){for(let s=0;s<16;s++){const t=[];Qi.push(t);for(let e=0;e<16;e++){const i=Ms(xe[s]*xe[e]+be[s]*ye[e]),r=Ms(ye[s]*xe[e]+we[s]*ye[e]),n=Ms(xe[s]*be[e]+be[s]*we[e]),a=Ms(ye[s]*be[e]+we[s]*we[e]);for(let o=0;o<16;o++)if(xe[o]===i&&ye[o]===r&&be[o]===n&&we[o]===a){t.push(o);break}}}for(let s=0;s<16;s++){const t=new z;t.set(xe[s],ye[s],be[s],we[s],0,0),Va.push(t)}}Iu();const W={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>xe[s],uY:s=>ye[s],vX:s=>be[s],vY:s=>we[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>Qi[s][t],sub:(s,t)=>Qi[s][W.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?W.S:W.N:Math.abs(t)*2<=Math.abs(s)?s>0?W.E:W.W:t>0?s>0?W.SE:W.SW:s>0?W.NE:W.NW,matrixAppendRotationInv:(s,t,e=0,i=0)=>{const r=Va[W.inv(t)];r.tx=e,r.ty=i,s.append(r)},transformRectCoords:(s,t,e,i)=>{const{x:r,y:n,width:a,height:o}=s,{x:l,y:h,width:c,height:u}=t;return e===W.E?(i.set(r+l,n+h,a,o),i):e===W.S?i.set(c-n-o+l,r+h,o,a):e===W.W?i.set(c-r-a+l,u-n-o+h,a,o):e===W.N?i.set(n+l,u-r-a+h,o,a):i.set(r+l,n+h,a,o)}},Es=[new pt,new pt,new pt,new pt];class ht{constructor(t=0,e=0,i=0,r=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ht(0,0,0,0)}clone(){return new ht(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,i,r=.5){const{width:n,height:a}=this;if(n<=0||a<=0)return!1;const o=this.x,l=this.y,h=i*(1-r),c=i-h,u=o-h,f=o+n+h,d=l-h,m=l+a+h,g=o+c,p=o+n-c,_=l+c,y=l+a-c;return t>=u&&t<=f&&e>=d&&e<=m&&!(t>g&&t<p&&e>_&&e<y)}intersects(t,e){if(!e){const R=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=R)return!1;const k=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>k}const i=this.left,r=this.right,n=this.top,a=this.bottom;if(r<=i||a<=n)return!1;const o=Es[0].set(t.left,t.top),l=Es[1].set(t.left,t.bottom),h=Es[2].set(t.right,t.top),c=Es[3].set(t.right,t.bottom);if(h.x<=o.x||l.y<=o.y)return!1;const u=Math.sign(e.a*e.d-e.b*e.c);if(u===0||(e.apply(o,o),e.apply(l,l),e.apply(h,h),e.apply(c,c),Math.max(o.x,l.x,h.x,c.x)<=i||Math.min(o.x,l.x,h.x,c.x)>=r||Math.max(o.y,l.y,h.y,c.y)<=n||Math.min(o.y,l.y,h.y,c.y)>=a))return!1;const f=u*(l.y-o.y),d=u*(o.x-l.x),m=f*i+d*n,g=f*r+d*n,p=f*i+d*a,_=f*r+d*a;if(Math.max(m,g,p,_)<=f*o.x+d*o.y||Math.min(m,g,p,_)>=f*c.x+d*c.y)return!1;const y=u*(o.y-h.y),v=u*(h.x-o.x),x=y*i+v*n,S=y*r+v*n,C=y*i+v*a,w=y*r+v*a;return!(Math.max(x,S,C,w)<=y*o.x+v*o.y||Math.min(x,S,C,w)>=y*c.x+v*c.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this}scale(t,e=t){return this.x*=t,this.y*=e,this.width*=t,this.height*=e,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=n-r,this}getBounds(t){return t||(t=new ht),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const e=t.x,i=t.y,r=t.x+t.width,n=t.y+t.height;return e>=this.x&&e<this.x+this.width&&i>=this.y&&i<this.y+this.height&&r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height}set(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Ti={default:-1};function nt(s="default"){return Ti[s]===void 0&&(Ti[s]=-1),++Ti[s]}const tn=new Set,at="8.0.0",Ru="8.3.4",Oe={quiet:!1,noColor:!1},Y=(s,t,e=3)=>{if(Oe.quiet||tn.has(t))return;let i=new Error().stack;const r=`${t}
Deprecated since v${s}`,n=typeof console.groupCollapsed=="function"&&!Oe.noColor;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",r):(i=i.split(`
`).splice(e).join(`
`),n?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r),console.warn(i))),tn.add(t)};Object.defineProperties(Y,{quiet:{get:()=>Oe.quiet,set:s=>{Oe.quiet=s},enumerable:!0,configurable:!1},noColor:{get:()=>Oe.noColor,set:s=>{Oe.noColor=s},enumerable:!0,configurable:!1}});const $a=()=>{};function en(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function sn(s){return!(s&s-1)&&!!s}function Ya(s){const t={};for(const e in s)s[e]!==void 0&&(t[e]=s[e]);return t}const rn=Object.create(null);function Lu(s){const t=rn[s];return t===void 0&&(rn[s]=nt("resource")),t}const qa=class Wa extends ae{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Wa.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Y(at,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Lu(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};qa.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Xa=qa;const Ja=class Ka extends ae{constructor(t={}){super(),this.options=t,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=nt("textureSource"),this._resourceType="textureSource",this._resourceId=nt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Ka.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Xa(Ya(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var e,i;this.style!==t&&((e=this._style)==null||e.off("change",this._onStyleChange,this),this._style=t,(i=this._style)==null||i.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){var t,e;this._resourceId=nt("resource"),this.emit("change",this),this.emit("unload",this);for(const i in this._gpuData)(e=(t=this._gpuData[i])==null?void 0:t.destroy)==null||e.call(t);this._gpuData=Object.create(null)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,i){i||(i=this._resolution),t||(t=this.width),e||(e=this.height);const r=Math.round(t*i),n=Math.round(e*i);return this.width=r/i,this.height=n/i,this._resolution=i,this.pixelWidth===r&&this.pixelHeight===n?!1:(this._refreshPOT(),this.pixelWidth=r,this.pixelHeight=n,this.emit("resize",this),this._resourceId=nt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=sn(this.pixelWidth)&&sn(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Ja.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ht=Ja;class Tr extends Ht{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let i=t.format;i||(e instanceof Float32Array?i="rgba32float":e instanceof Int32Array||e instanceof Uint32Array?i="rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?i="rgba16uint":(e instanceof Int8Array,i="bgra8unorm")),super({...t,resource:e,format:i}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Tr.extension=$.TextureSource;const nn=new z;class Bu{constructor(t,e){this.mapCoord=new z,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof e>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var e;this.texture!==t&&((e=this._texture)==null||e.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){e===void 0&&(e=t);const i=this.mapCoord;for(let r=0;r<t.length;r+=2){const n=t[r],a=t[r+1];e[r]=n*i.a+a*i.c+i.tx,e[r+1]=n*i.b+a*i.d+i.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const i=t.orig,r=t.trim;r&&(nn.set(i.width/r.width,0,0,i.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(nn));const n=t.source,a=this.uClampFrame,o=this.clampMargin/n._resolution,l=this.clampOffset/n._resolution;return a[0]=(t.frame.x+o+l)/n.width,a[1]=(t.frame.y+o+l)/n.height,a[2]=(t.frame.x+t.frame.width-o+l)/n.width,a[3]=(t.frame.y+t.frame.height-o+l)/n.height,this.uClampOffset[0]=this.clampOffset/n.pixelWidth,this.uClampOffset[1]=this.clampOffset/n.pixelHeight,this.isSimple=t.frame.width===n.width&&t.frame.height===n.height&&t.rotate===0,!0}}class X extends ae{constructor({source:t,label:e,frame:i,orig:r,trim:n,defaultAnchor:a,defaultBorders:o,rotate:l,dynamic:h}={}){if(super(),this.uid=nt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ht,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=(t==null?void 0:t.source)??new Ht,this.noFrame=!i,i)this.frame.copyFrom(i);else{const{width:c,height:u}=this._source;this.frame.width=c,this.frame.height=u}this.orig=r||this.frame,this.trim=n,this.rotate=l??0,this.defaultAnchor=a,this.defaultBorders=o,this.destroyed=!1,this.dynamic=h||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Bu(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:i,height:r}=this._source,n=e.x/i,a=e.y/r,o=e.width/i,l=e.height/r;let h=this.rotate;if(h){const c=o/2,u=l/2,f=n+c,d=a+u;h=W.add(h,W.NW),t.x0=f+c*W.uX(h),t.y0=d+u*W.uY(h),h=W.add(h,2),t.x1=f+c*W.uX(h),t.y1=d+u*W.uY(h),h=W.add(h,2),t.x2=f+c*W.uX(h),t.y2=d+u*W.uY(h),h=W.add(h,2),t.x3=f+c*W.uX(h),t.y3=d+u*W.uY(h)}else t.x0=n,t.y0=a,t.x1=n+o,t.y1=a,t.x2=n+o,t.y2=a+l,t.x3=n,t.y3=a+l}destroy(t=!1){this._source&&(this._source.off("resize",this.update,this),t&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Y(at,"Texture.baseTexture is now Texture.source"),this._source}}X.EMPTY=new X({label:"EMPTY",source:new Ht({label:"EMPTY"})});X.EMPTY.destroy=$a;X.WHITE=new X({source:new Tr({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});X.WHITE.destroy=$a;function Du(s,t,e){const{width:i,height:r}=e.orig,n=e.trim;if(n){const a=n.width,o=n.height;s.minX=n.x-t._x*i,s.maxX=s.minX+a,s.minY=n.y-t._y*r,s.maxY=s.minY+o}else s.minX=-t._x*i,s.maxX=s.minX+i,s.minY=-t._y*r,s.maxY=s.minY+r}const an=new z;class Nt{constructor(t=1/0,e=1/0,i=-1/0,r=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=an,this.minX=t,this.minY=e,this.maxX=i,this.maxY=r}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ht);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=an,this}set(t,e,i,r){this.minX=t,this.minY=e,this.maxX=i,this.maxY=r}addFrame(t,e,i,r,n){n||(n=this.matrix);const a=n.a,o=n.b,l=n.c,h=n.d,c=n.tx,u=n.ty;let f=this.minX,d=this.minY,m=this.maxX,g=this.maxY,p=a*t+l*e+c,_=o*t+h*e+u;p<f&&(f=p),_<d&&(d=_),p>m&&(m=p),_>g&&(g=_),p=a*i+l*e+c,_=o*i+h*e+u,p<f&&(f=p),_<d&&(d=_),p>m&&(m=p),_>g&&(g=_),p=a*t+l*r+c,_=o*t+h*r+u,p<f&&(f=p),_<d&&(d=_),p>m&&(m=p),_>g&&(g=_),p=a*i+l*r+c,_=o*i+h*r+u,p<f&&(f=p),_<d&&(d=_),p>m&&(m=p),_>g&&(g=_),this.minX=f,this.minY=d,this.maxX=m,this.maxY=g}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,{a,b:o,c:l,d:h,tx:c,ty:u}=t;let f=a*e+l*i+c,d=o*e+h*i+u;this.minX=f,this.minY=d,this.maxX=f,this.maxY=d,f=a*r+l*i+c,d=o*r+h*i+u,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=a*e+l*n+c,d=o*e+h*n+u,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=a*r+l*n+c,d=o*r+h*n+u,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,i,r){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<i&&(this.minY=i),this.maxY>r&&(this.maxY=r),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Nt(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,i,r){let n=this.minX,a=this.minY,o=this.maxX,l=this.maxY;r||(r=this.matrix);const h=r.a,c=r.b,u=r.c,f=r.d,d=r.tx,m=r.ty;for(let g=e;g<i;g+=2){const p=t[g],_=t[g+1],y=h*p+u*_+d,v=c*p+f*_+m;n=y<n?y:n,a=v<a?v:a,o=y>o?y:o,l=v>l?v:l}this.minX=n,this.minY=a,this.maxX=o,this.maxY=l}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var Fu={grad:.9,turn:360,rad:360/(2*Math.PI)},te=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},lt=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*s)/e+0},Lt=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),s>e?e:s>t?s:t},Za=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},on=function(s){return{r:Lt(s.r,0,255),g:Lt(s.g,0,255),b:Lt(s.b,0,255),a:Lt(s.a)}},ki=function(s){return{r:lt(s.r),g:lt(s.g),b:lt(s.b),a:lt(s.a,3)}},Gu=/^#([0-9a-f]{3,8})$/i,Is=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Qa=function(s){var t=s.r,e=s.g,i=s.b,r=s.a,n=Math.max(t,e,i),a=n-Math.min(t,e,i),o=a?n===t?(e-i)/a:n===e?2+(i-t)/a:4+(t-e)/a:0;return{h:60*(o<0?o+6:o),s:n?a/n*100:0,v:n/255*100,a:r}},to=function(s){var t=s.h,e=s.s,i=s.v,r=s.a;t=t/360*6,e/=100,i/=100;var n=Math.floor(t),a=i*(1-e),o=i*(1-(t-n)*e),l=i*(1-(1-t+n)*e),h=n%6;return{r:255*[i,o,a,a,l,i][h],g:255*[l,i,i,o,a,a][h],b:255*[a,a,l,i,i,o][h],a:r}},ln=function(s){return{h:Za(s.h),s:Lt(s.s,0,100),l:Lt(s.l,0,100),a:Lt(s.a)}},hn=function(s){return{h:lt(s.h),s:lt(s.s),l:lt(s.l),a:lt(s.a,3)}},cn=function(s){return to((e=(t=s).s,{h:t.h,s:(e*=((i=t.l)<50?i:100-i)/100)>0?2*e/(i+e)*100:0,v:i+e,a:t.a}));var t,e,i},ls=function(s){return{h:(t=Qa(s)).h,s:(r=(200-(e=t.s))*(i=t.v)/100)>0&&r<200?e*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,e,i,r},Ou=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ju=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Nu=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uu=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tr={string:[[function(s){var t=Gu.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?lt(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?lt(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=Nu.exec(s)||Uu.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:on({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=Ou.exec(s)||ju.exec(s);if(!t)return null;var e,i,r=ln({h:(e=t[1],i=t[2],i===void 0&&(i="deg"),Number(e)*(Fu[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return cn(r)},"hsl"]],object:[[function(s){var t=s.r,e=s.g,i=s.b,r=s.a,n=r===void 0?1:r;return te(t)&&te(e)&&te(i)?on({r:Number(t),g:Number(e),b:Number(i),a:Number(n)}):null},"rgb"],[function(s){var t=s.h,e=s.s,i=s.l,r=s.a,n=r===void 0?1:r;if(!te(t)||!te(e)||!te(i))return null;var a=ln({h:Number(t),s:Number(e),l:Number(i),a:Number(n)});return cn(a)},"hsl"],[function(s){var t=s.h,e=s.s,i=s.v,r=s.a,n=r===void 0?1:r;if(!te(t)||!te(e)||!te(i))return null;var a=function(o){return{h:Za(o.h),s:Lt(o.s,0,100),v:Lt(o.v,0,100),a:Lt(o.a)}}({h:Number(t),s:Number(e),v:Number(i),a:Number(n)});return to(a)},"hsv"]]},un=function(s,t){for(var e=0;e<t.length;e++){var i=t[e][0](s);if(i)return[i,t[e][1]]}return[null,void 0]},zu=function(s){return typeof s=="string"?un(s.trim(),tr.string):typeof s=="object"&&s!==null?un(s,tr.object):[null,void 0]},Mi=function(s,t){var e=ls(s);return{h:e.h,s:Lt(e.s+100*t,0,100),l:e.l,a:e.a}},Ei=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},dn=function(s,t){var e=ls(s);return{h:e.h,s:e.s,l:Lt(e.l+100*t,0,100),a:e.a}},er=function(){function s(t){this.parsed=zu(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return lt(Ei(this.rgba),2)},s.prototype.isDark=function(){return Ei(this.rgba)<.5},s.prototype.isLight=function(){return Ei(this.rgba)>=.5},s.prototype.toHex=function(){return t=ki(this.rgba),e=t.r,i=t.g,r=t.b,a=(n=t.a)<1?Is(lt(255*n)):"","#"+Is(e)+Is(i)+Is(r)+a;var t,e,i,r,n,a},s.prototype.toRgb=function(){return ki(this.rgba)},s.prototype.toRgbString=function(){return t=ki(this.rgba),e=t.r,i=t.g,r=t.b,(n=t.a)<1?"rgba("+e+", "+i+", "+r+", "+n+")":"rgb("+e+", "+i+", "+r+")";var t,e,i,r,n},s.prototype.toHsl=function(){return hn(ls(this.rgba))},s.prototype.toHslString=function(){return t=hn(ls(this.rgba)),e=t.h,i=t.s,r=t.l,(n=t.a)<1?"hsla("+e+", "+i+"%, "+r+"%, "+n+")":"hsl("+e+", "+i+"%, "+r+"%)";var t,e,i,r,n},s.prototype.toHsv=function(){return t=Qa(this.rgba),{h:lt(t.h),s:lt(t.s),v:lt(t.v),a:lt(t.a,3)};var t},s.prototype.invert=function(){return $t({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),$t(Mi(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),$t(Mi(this.rgba,-t))},s.prototype.grayscale=function(){return $t(Mi(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),$t(dn(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),$t(dn(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?$t({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):lt(this.rgba.a,3);var e},s.prototype.hue=function(t){var e=ls(this.rgba);return typeof t=="number"?$t({h:t,s:e.s,l:e.l,a:e.a}):lt(e.h)},s.prototype.isEqual=function(t){return this.toHex()===$t(t).toHex()},s}(),$t=function(s){return s instanceof er?s:new er(s)},fn=[],Hu=function(s){s.forEach(function(t){fn.indexOf(t)<0&&(t(er,tr),fn.push(t))})};function Vu(s,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in e)i[e[r]]=r;var n={};s.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,h=i[this.toHex()];if(h)return h;if(a!=null&&a.closest){var c=this.toRgb(),u=1/0,f="black";if(!n.length)for(var d in e)n[d]=new s(e[d]).toRgb();for(var m in e){var g=(o=c,l=n[m],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));g<u&&(u=g,f=m)}return f}},t.string.push([function(a){var o=a.toLowerCase(),l=o==="transparent"?"#0000":e[o];return l?new s(l).toRgb():null},"name"])}Hu([Vu]);const He=class ss{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ss)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if(i==="number"||i==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((n,a)=>n===e[a]);if(t!==null&&e!==null){const n=Object.keys(t),a=Object.keys(e);return n.length!==a.length?!1:n.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,i,r]=this._components;return{r:t,g:e,b:i,a:r}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,r]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(e*255),t[1]=Math.round(i*255),t[2]=Math.round(r*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[e,i,r,n]=this._components;return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[e,i,r]=this._components;return t[0]=e,t[1]=i,t[2]=r,t}toNumber(){return this._int}toBgrNumber(){const[t,e,i]=this.toUint8RgbArray();return(i<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,i,r,n]=ss._temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=i,this._components[2]*=r,this._components[3]*=n,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let i=this._int>>16&255,r=this._int>>8&255,n=this._int&255;return e&&(i=i*t+.5|0,r=r*t+.5|0,n=n*t+.5|0),(t*255<<24)+(i<<16)+(r<<8)+n}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let e,i,r,n;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const a=t;e=(a>>16&255)/255,i=(a>>8&255)/255,r=(a&255)/255,n=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,i,r,n=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,i,r,n=255]=t,e/=255,i/=255,r/=255,n/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=ss.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const a=$t(t);a.isValid()&&({r:e,g:i,b:r,a:n}=a.rgba,e/=255,i/=255,r/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=i,this._components[2]=r,this._components[3]=n,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(t*255<<16)+(e*255<<8)+(i*255|0)}_clamp(t,e=0,i=1){return typeof t=="number"?Math.min(Math.max(t,e),i):(t.forEach((r,n)=>{t[n]=Math.min(Math.max(r,e),i)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof ss||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};He.shared=new He;He._temp=new He;He.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Bt=He;const $u={cullArea:null,cullable:!1,cullableChildren:!0};let Ii=0;const pn=500;function Mt(...s){Ii!==pn&&(Ii++,Ii===pn?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}const vi={_registeredResources:new Set,register(s){this._registeredResources.add(s)},unregister(s){this._registeredResources.delete(s)},release(){this._registeredResources.forEach(s=>s.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(s){return this._registeredResources.has(s)},reset(){this._registeredResources.clear()}};class Yu{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var i;let e;return this._index>0?e=this._pool[--this._index]:(e=new this._classType,this._count++),(i=e.init)==null||i.call(e,t),e}return(t){var e;(e=t.reset)==null||e.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let t=0;t<this._index;t++)this._pool[t].destroy();this._pool.length=0,this._count=0,this._index=0}}class qu{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Yu(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(e=>{const i=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[i]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}}),t}clear(){this._poolsByClass.forEach(t=>t.clear()),this._poolsByClass.clear()}}const Dt=new qu;vi.register(Dt);const Wu={get isCachedAsTexture(){var s;return!!((s=this.renderGroup)!=null&&s.isCachedAsTexture)},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){var s;(s=this.renderGroup)==null||s.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){Y("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function Xu(s,t,e){const i=s.length;let r;if(t>=i||e===0)return;e=t+e>i?i-t:e;const n=i-e;for(r=t;r<n;++r)s[r]=s[r+e];s.length=n}const Ju={allowChildren:!0,removeChildren(s=0,t){var n;const e=t??this.children.length,i=e-s,r=[];if(i>0&&i<=e){for(let o=e-1;o>=s;o--){const l=this.children[o];l&&(r.push(l),l.parent=null)}Xu(this.children,s,e);const a=this.renderGroup||this.parentRenderGroup;a&&a.removeChildren(r);for(let o=0;o<r.length;++o){const l=r[o];(n=l.parentRenderLayer)==null||n.detach(l),this.emit("childRemoved",l,this,o),r[o].emit("removed",this)}return r.length>0&&this._didViewChangeTick++,r}else if(i===0&&this.children.length===0)return r;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||Y(at,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:e}=this;if(t<0||t>e.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${e.length}`);if(s.parent){const r=s.parent.children.indexOf(s);if(s.parent===this&&r===t)return s;r!==-1&&s.parent.children.splice(r,1)}t===e.length?e.push(s):e.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const i=this.renderGroup||this.parentRenderGroup;return i&&i.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const e=this.getChildIndex(s),i=this.getChildIndex(t);this.children[e]=t,this.children[i]=s;const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var s;(s=this.parent)==null||s.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const e=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const i=this.worldTransform.clone();return i.invert(),e.prepend(i),s.setFromMatrix(e),s},replaceChild(s,t){s.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(s)),t.setFromMatrix(s.localTransform),t.updateLocalTransform(),this.removeChild(s)}},Ku={collectRenderables(s,t,e){this.parentRenderLayer&&this.parentRenderLayer!==e||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,e):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,e))},collectRenderablesSimple(s,t,e){const i=this.children,r=i.length;for(let n=0;n<r;n++)i[n].collectRenderables(s,t,e)},collectRenderablesWithEffects(s,t,e){const{renderPipes:i}=t;for(let r=0;r<this.effects.length;r++){const n=this.effects[r];i[n.pipe].push(n,this,s)}this.collectRenderablesSimple(s,t,e);for(let r=this.effects.length-1;r>=0;r--){const n=this.effects[r];i[n.pipe].pop(n,this,s)}}};class mn{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class Zu{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const i=this._tests[e];if(i.test(t))return Dt.get(i.maskClass,t)}return t}returnMaskEffect(t){Dt.return(t)}}const sr=new Zu;Ft.handleByList($.MaskEffect,sr._effectClasses);const Qu={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((e,i)=>e.priority-i.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;(t==null?void 0:t.mask)!==s&&(t&&(this.removeEffect(t),sr.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=sr.getMaskEffect(s),this.addEffect(this._maskEffect)))},get mask(){var s;return(s=this._maskEffect)==null?void 0:s.mask},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},set filters(s){var n;!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new mn);s=s;const e=(s==null?void 0:s.length)>0,i=((n=t.filters)==null?void 0:n.length)>0,r=e!==i;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),r&&(e?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){var s;return(s=this._filterEffect)==null?void 0:s.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new mn),this._filterEffect.filterArea=s},get filterArea(){var s;return(s=this._filterEffect)==null?void 0:s.filterArea}},td={label:null,get name(){return Y(at,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){Y(at,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const e=this.children;for(let i=0;i<e.length;i++){const r=e[i];if(r.label===s||s instanceof RegExp&&s.test(r.label))return r}if(t)for(let i=0;i<e.length;i++){const n=e[i].getChildByLabel(s,!0);if(n)return n}return null},getChildrenByLabel(s,t=!1,e=[]){const i=this.children;for(let r=0;r<i.length;r++){const n=i[r];(n.label===s||s instanceof RegExp&&s.test(n.label))&&e.push(n)}if(t)for(let r=0;r<i.length;r++)i[r].getChildrenByLabel(s,!0,e);return e}},gt=Dt.getPool(z),se=Dt.getPool(Nt),ed=new z,sd={getFastGlobalBounds(s,t){t||(t=new Nt),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const e=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(e.worldTransform),t},_getGlobalBoundsRecursive(s,t,e){let i=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==e||this.localDisplayStatus!==7||!this.measurable)return;const r=!!this.effects.length;if((this.renderGroup||r)&&(i=se.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const a=this.bounds;i.addFrame(a.minX,a.minY,a.maxX,a.maxY,this.groupTransform)}const n=this.children;for(let a=0;a<n.length;a++)n[a]._getGlobalBoundsRecursive(s,i,e)}if(r){let n=!1;const a=this.renderGroup||this.parentRenderGroup;for(let o=0;o<this.effects.length;o++)this.effects[o].addBounds&&(n||(n=!0,i.applyMatrix(a.worldTransform)),this.effects[o].addBounds(i,!0));n&&i.applyMatrix(a.worldTransform.copyTo(ed).invert()),t.addBounds(i),se.return(i)}else this.renderGroup&&(t.addBounds(i,this.relativeGroupTransform),se.return(i))}};function eo(s,t,e){e.clear();let i,r;return s.parent?t?i=s.parent.worldTransform:(r=gt.get().identity(),i=kr(s,r)):i=z.IDENTITY,so(s,e,i,t),r&&gt.return(r),e.isValid||e.set(0,0,0,0),e}function so(s,t,e,i){var o,l;if(!s.visible||!s.measurable)return;let r;i?r=s.worldTransform:(s.updateLocalTransform(),r=gt.get(),r.appendFrom(s.localTransform,e));const n=t,a=!!s.effects.length;if(a&&(t=se.get().clear()),s.boundsArea)t.addRect(s.boundsArea,r);else{const h=s.bounds;h&&!h.isEmpty()&&(t.matrix=r,t.addBounds(h));for(let c=0;c<s.children.length;c++)so(s.children[c],t,r,i)}if(a){for(let h=0;h<s.effects.length;h++)(l=(o=s.effects[h]).addBounds)==null||l.call(o,t);n.addBounds(t,z.IDENTITY),se.return(t)}i||gt.return(r)}function kr(s,t){const e=s.parent;return e&&(kr(e,t),e.updateLocalTransform(),t.append(e.localTransform)),t}function io(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const e=s>>16&255,i=s>>8&255,r=s&255,n=t>>16&255,a=t>>8&255,o=t&255,l=e*n/255|0,h=i*a/255|0,c=r*o/255|0;return(l<<16)+(h<<8)+c}const gn=16777215;function _n(s,t){return s===gn?t:t===gn?s:io(s,t)}function Vs(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const id={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,e=this.parent;for(;e;)t*=e.alpha,e=e.parent;return t},getGlobalTransform(s=new z,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const e=kr(this,gt.get().identity());return s.appendFrom(this.localTransform,e),gt.return(e),s},getGlobalTint(s){if(s)return this.renderGroup?Vs(this.renderGroup.worldColor):this.parentRenderGroup?Vs(_n(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,e=this.parent;for(;e;)t=_n(t,e.localColor),e=e.parent;return Vs(t)}};function ro(s,t,e){return t.clear(),e||(e=z.IDENTITY),no(s,t,e,s,!0),t.isValid||t.set(0,0,0,0),t}function no(s,t,e,i,r){var l,h;let n;if(r)n=gt.get(),n=e.copyTo(n);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const c=s.localTransform;n=gt.get(),n.appendFrom(c,e)}const a=t,o=!!s.effects.length;if(o&&(t=se.get().clear()),s.boundsArea)t.addRect(s.boundsArea,n);else{s.renderPipeId&&(t.matrix=n,t.addBounds(s.bounds));const c=s.children;for(let u=0;u<c.length;u++)no(c[u],t,n,i,!1)}if(o){for(let c=0;c<s.effects.length;c++)(h=(l=s.effects[c]).addLocalBounds)==null||h.call(l,t,i);a.addBounds(t,z.IDENTITY),se.return(t)}gt.return(n)}function ao(s,t){const e=s.children;for(let i=0;i<e.length;i++){const r=e[i],n=r.uid,a=(r._didViewChangeTick&65535)<<16|r._didContainerChangeTick&65535,o=t.index;(t.data[o]!==n||t.data[o+1]!==a)&&(t.data[t.index]=n,t.data[t.index+1]=a,t.didChange=!0),t.index=o+2,r.children.length&&ao(r,t)}return t.didChange}const rd=new z,nd={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const e=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*e:this.scale.x=e},_setHeight(s,t){const e=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*e:this.scale.y=e},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Nt});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),ao(this,s),s.didChange&&ro(this,s.localBounds,rd),s.localBounds},getBounds(s,t){return eo(this,s,t||new Nt)}},ad={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},od={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(ld))}};function ld(s,t){return s._zIndex-t._zIndex}const hd={getGlobalPosition(s=new pt,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,e=!1){const i=this.getGlobalTransform(gt.get(),e);return t=i.apply(s,t),gt.return(i),t},toLocal(s,t,e,i){t&&(s=t.toGlobal(s,e,i));const r=this.getGlobalTransform(gt.get(),i);return e=r.applyInverse(s,e),gt.return(r),e}};class oo{constructor(){this.uid=nt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let cd=0;class ud{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Xa(this.textureOptions)}createTexture(t,e,i){const r=new Ht({...this.textureOptions,width:t,height:e,resolution:1,antialias:i,autoGarbageCollect:!1});return new X({source:r,label:`texturePool_${cd++}`})}getOptimalTexture(t,e,i=1,r){let n=Math.ceil(t*i-1e-6),a=Math.ceil(e*i-1e-6);n=en(n),a=en(a);const o=(n<<17)+(a<<1)+(r?1:0);this._texturePool[o]||(this._texturePool[o]=[]);let l=this._texturePool[o].pop();return l||(l=this.createTexture(n,a,r)),l.source._resolution=i,l.source.width=n/i,l.source.height=a/i,l.source.pixelWidth=n,l.source.pixelHeight=a,l.frame.x=0,l.frame.y=0,l.frame.width=t,l.frame.height=e,l.updateUvs(),this._poolKeyHash[l.uid]=o,l}getSameSizeTexture(t,e=!1){const i=t.source;return this.getOptimalTexture(t.width,t.height,i._resolution,e)}returnTexture(t,e=!1){const i=this._poolKeyHash[t.uid];e&&(t.source.style=this.textureStyle),this._texturePool[i].push(t)}clear(t){if(t=t!==!1,t)for(const e in this._texturePool){const i=this._texturePool[e];if(i)for(let r=0;r<i.length;r++)i[r].destroy(!0)}this._texturePool={}}}const lo=new ud;vi.register(lo);class dd{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new z,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new oo,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i];r._updateFlags=15,this.addChild(r)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(lo.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const t=this._parentCacheAsTextureRenderGroup;t&&!t.textureNeedsUpdate&&t.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const e=this.childrenToUpdate[t];e.list.fill(null),e.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const e=t.children;for(let i=0;i<e.length;i++)this.addChild(e[i])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const e=t.children;for(let i=0;i<e.length;i++)this.removeChild(e[i])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const e=this.root.children;for(let i=0;i<e.length;i++)this._getChildren(e[i],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const i=t.children;for(let r=0;r<i.length;r++)this._getChildren(i[r],e);return e}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new z),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new z),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new z),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function fd(s,t,e={}){for(const i in t)!e[i]&&t[i]!==void 0&&(s[i]=t[i])}const Ri=new ft(null),Rs=new ft(null),Li=new ft(null,1,1),Ls=new ft(null),vn=1,pd=2,Bi=4;class pe extends ae{constructor(t={}){var e,i;super(),this.uid=nt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new z,this.relativeGroupTransform=new z,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ft(this,0,0),this._scale=Li,this._pivot=Rs,this._origin=Ls,this._skew=Ri,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],fd(this,t,{children:!0,parent:!0,effects:!0}),(e=t.children)==null||e.forEach(r=>this.addChild(r)),(i=t.parent)==null||i.addChild(this)}static mixin(t){Y("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Ft.mixin(pe,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||Y(at,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let r=0;r<t.length;r++)this.addChild(t[r]);return t[0]}const e=t[0],i=this.renderGroup||this.parentRenderGroup;return e.parent===this?(this.children.splice(this.children.indexOf(e),1),this.children.push(e),i&&(i.structureDidChange=!0),e):(e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15,i&&i.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,e._zIndex!==0&&e.depthOfChildModified(),e)}removeChild(...t){if(t.length>1){for(let r=0;r<t.length;r++)this.removeChild(t[r]);return t[0]}const e=t[0],i=this.children.indexOf(e);return i>-1&&(this._didViewChangeTick++,this.children.splice(i,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parentRenderLayer&&e.parentRenderLayer.detach(e),e.parent=null,this.emit("childRemoved",e,this,i),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Dt.get(dd,this),this.groupTransform=z.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Dt.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new z),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*Tu}set angle(t){this.rotation=t*ku}get pivot(){return this._pivot===Rs&&(this._pivot=new ft(this,0,0)),this._pivot}set pivot(t){this._pivot===Rs&&(this._pivot=new ft(this,0,0),this._origin!==Ls&&Mt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Ri&&(this._skew=new ft(this,0,0)),this._skew}set skew(t){this._skew===Ri&&(this._skew=new ft(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Li&&(this._scale=new ft(this,1,1)),this._scale}set scale(t){this._scale===Li&&(this._scale=new ft(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===Ls&&(this._origin=new ft(this,0,0)),this._origin}set origin(t){this._origin===Ls&&(this._origin=new ft(this,0,0),this._pivot!==Rs&&Mt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const i=this.getLocalBounds();typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,i.width),e!==void 0&&this._setHeight(e,i.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this.localTransform,i=this._scale,r=this._pivot,n=this._origin,a=this._position,o=i._x,l=i._y,h=r._x,c=r._y,u=-n._x,f=-n._y;e.a=this._cx*o,e.b=this._sx*o,e.c=this._cy*l,e.d=this._sy*l,e.tx=a._x-(h*e.a+c*e.c)+(u*e.a+f*e.c)-u,e.ty=a._y-(h*e.b+c*e.d)+(u*e.b+f*e.d)-f}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=vn,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const i=Bt.shared.setValue(t??16777215).toBgrNumber();i!==this.localColor&&(this.localColor=i,this._updateFlags|=vn,this._onUpdate())}get tint(){return Vs(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=pd,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const e=t?2:0;(this.localDisplayStatus&2)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Bi,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const e=t?0:4;(this.localDisplayStatus&4)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Bi,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const e=t?1:0;(this.localDisplayStatus&1)!==e&&(this._updateFlags|=Bi,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var r;if(this.destroyed)return;this.destroyed=!0;let e;if(this.children.length&&(e=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&e)for(let n=0;n<e.length;++n)e[n].destroy(t);(r=this.renderGroup)==null||r.destroy(),this.renderGroup=null}}Ft.mixin(pe,Ju,sd,hd,ad,nd,Qu,td,od,$u,Wu,id,Ku);class ho extends pe{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new Nt(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=t.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:i,y:r}=t;return i>=e.minX&&i<=e.maxX&&r>=e.minY&&r<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(t){this.unload(),super.destroy(t),this._bounds=null}collectRenderablesSimple(t,e,i){const{renderPipes:r}=e;r.blendMode.pushBlendMode(this,this.groupBlendMode,t),r[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const a=this.children,o=a.length;for(let l=0;l<o;l++)a[l].collectRenderables(t,e,i);r.blendMode.popBlendMode(t)}}class ms extends ho{constructor(t=X.EMPTY){t instanceof X&&(t={texture:t});const{texture:e=X.EMPTY,anchor:i,roundPixels:r,width:n,height:a,...o}=t;super({label:"Sprite",...o}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ft({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=r??!1,n!==void 0&&(this.width=n),a!==void 0&&(this.height=a)}static from(t,e=!1){return t instanceof X?new ms(t):new ms(X.from(t,e))}set texture(t){t||(t=X.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Du(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Y("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,e=this._texture,i=this._bounds,{width:r,height:n}=e.orig;i.minX=-t._x*r,i.maxX=i.minX+r,i.minY=-t._y*n,i.maxY=i.minY+n}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const i=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(i)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),e!==void 0&&this._setHeight(e,this._texture.orig.height)}}const md=new Nt;function co(s,t,e){const i=md;s.measurable=!0,eo(s,e,i),t.addBoundsMask(i),s.measurable=!1}function uo(s,t,e){const i=se.get();s.measurable=!0;const r=gt.get().identity(),n=fo(s,e,r);ro(s,i,n),s.measurable=!1,t.addBoundsMask(i),gt.return(r),se.return(i)}function fo(s,t,e){return s?(s!==t&&(fo(s.parent,t,e),s.updateLocalTransform(),e.append(s.localTransform)),e):(Mt("Mask bounds, renderable is not inside the root container"),e)}class po{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof ms),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(t,e){this.inverse||co(this.mask,t,e)}addLocalBounds(t,e){uo(this.mask,t,e)}containsPoint(t,e){const i=this.mask;return e(i,t)}destroy(){this.reset()}static test(t){return t instanceof ms}}po.extension=$.MaskEffect;class mo{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}mo.extension=$.MaskEffect;class go{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(t,e){co(this.mask,t,e)}addLocalBounds(t,e){uo(this.mask,t,e)}containsPoint(t,e){const i=this.mask;return e(i,t)}destroy(){this.reset()}static test(t){return t instanceof pe}}go.extension=$.MaskEffect;const gd={createCanvas:(s,t)=>{const e=document.createElement("canvas");return e.width=s,e.height=t,e},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let xn=gd;const me={get(){return xn},set(s){xn=s}};class _o extends Ht{constructor(t){t.resource||(t.resource=me.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,i=this._resolution){const r=super.resize(t,e,i);return r&&this.resizeCanvas(),r}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}_o.extension=$.TextureSource;class ri extends Ht{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}ri.extension=$.TextureSource;var ir=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(ir||{});class Di{constructor(t,e=null,i=0,r=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=i,this._once=r}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const vo=class At{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Di(null,null,1/0),this.deltaMS=1/At.targetFPMS,this.elapsedMS=1/At.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=ir.NORMAL){return this._addListener(new Di(t,e,i))}addOnce(t,e,i=ir.NORMAL){return this._addListener(new Di(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(!e)t.connect(i);else{for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i.match(t,e)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*At.targetFPMS;const i=this._head;let r=i.next;for(;r;)r=r.emit(this);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,At.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!At._shared){const t=At._shared=new At;t.autoStart=!0,t._protected=!0}return At._shared}static get system(){if(!At._system){const t=At._system=new At;t.autoStart=!0,t._protected=!0}return At._system}};vo.targetFPMS=.06;let Bs=vo,Fi;async function _d(){return Fi??(Fi=(async()=>{var a;const t=me.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return"premultiply-alpha-on-upload";const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(r),t.deleteTexture(i),(a=t.getExtension("WEBGL_lose_context"))==null||a.loseContext(),n[0]<=n[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Fi}const xi=class xo extends Ht{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...xo.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Bs.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await _d(),this._load=new Promise((i,r)=>{this.isValid?i(this):(this._resolve=i,this._reject=r,e.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Bs.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Bs.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Bs.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};xi.extension=$.TextureSource;xi.defaultOptions={...Ht.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};xi.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let vd=xi;const Fe=(s,t,e=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(i=>typeof i=="string"||e?t(i):i):s);class xd{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||Mt(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=Fe(t);let r;for(let l=0;l<this.parsers.length;l++){const h=this.parsers[l];if(h.test(e)){r=h.getCacheableAssets(i,e);break}}const n=new Map(Object.entries(r||{}));r||i.forEach(l=>{n.set(l,e)});const a=[...n.keys()],o={cacheKeys:a,keys:i};i.forEach(l=>{this._cacheMap.set(l,o)}),a.forEach(l=>{const h=r?r[l]:e;this._cache.has(l)&&this._cache.get(l)!==h&&Mt("[Cache] already has key:",l),this._cache.set(l,n.get(l))})}remove(t){if(!this._cacheMap.has(t)){Mt(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(r=>{this._cache.delete(r)}),e.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Ge=new xd,rr=[];Ft.handleByList($.TextureSource,rr);function yo(s={}){const t=s&&s.resource,e=t?s.resource:s,i=t?s:{resource:s};for(let r=0;r<rr.length;r++){const n=rr[r];if(n.test(e))return new n(i)}throw new Error(`Could not find a source type for resource: ${i.resource}`)}function yd(s={},t=!1){const e=s&&s.resource,i=e?s.resource:s,r=e?s:{resource:s};if(!t&&Ge.has(i))return Ge.get(i);const n=new X({source:yo(r)});return n.on("destroy",()=>{Ge.has(i)&&Ge.remove(i)}),t||Ge.set(i,n),n}function bd(s,t=!1){return typeof s=="string"?Ge.get(s):s instanceof Ht?new X({source:s}):yd(s,t)}X.from=bd;Ht.from=yo;Ft.add(po,mo,go,vd,ri,_o,Tr);var bo=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(bo||{});function Gt(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function Ye(s){return s.split("?")[0].split("#")[0]}function wd(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Sd(s,t,e){return s.replace(new RegExp(wd(t),"g"),e)}function Cd(s,t){let e="",i=0,r=-1,n=0,a=-1;for(let o=0;o<=s.length;++o){if(o<s.length)a=s.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||n===1))if(r!==o-1&&n===2){if(e.length<2||i!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const l=e.lastIndexOf("/");if(l!==e.length-1){l===-1?(e="",i=0):(e=e.slice(0,l),i=e.length-1-e.lastIndexOf("/")),r=o,n=0;continue}}else if(e.length===2||e.length===1){e="",i=0,r=o,n=0;continue}}}else e.length>0?e+=`/${s.slice(r+1,o)}`:e=s.slice(r+1,o),i=o-r-1;r=o,n=0}else a===46&&n!==-1?++n:n=-1}return e}const gs={toPosix(s){return Sd(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){Gt(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(s);return e?e[0]:""},toAbsolute(s,t,e){if(Gt(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const i=Ye(this.toPosix(t??me.get().getBaseUrl())),r=Ye(this.toPosix(e??this.rootname(i)));return s=this.toPosix(s),s.startsWith("/")?gs.join(r,s.slice(1)):this.isAbsolute(s)?s:this.join(i,s)},normalize(s){if(Gt(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const e=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const i=s.endsWith("/");return s=Cd(s),s.length>0&&i&&(s+="/"),e?`/${s}`:t+s},isAbsolute(s){return Gt(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let e=0;e<s.length;++e){const i=s[e];if(Gt(i),i.length>0)if(t===void 0)t=i;else{const r=s[e-1]??"";this.joinExtensions.includes(this.extname(r).toLowerCase())?t+=`/../${i}`:t+=`/${i}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(Gt(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const e=t===47;let i=-1,r=!0;const n=this.getProtocol(s),a=s;s=s.slice(n.length);for(let o=s.length-1;o>=1;--o)if(t=s.charCodeAt(o),t===47){if(!r){i=o;break}}else r=!1;return i===-1?e?"/":this.isUrl(a)?n+s:n:e&&i===1?"//":n+s.slice(0,i)},rootname(s){Gt(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const e=s.indexOf("/",t.length);e!==-1?t=s.slice(0,e):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){Gt(s),t&&Gt(t),s=Ye(this.toPosix(s));let e=0,i=-1,r=!0,n;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let a=t.length-1,o=-1;for(n=s.length-1;n>=0;--n){const l=s.charCodeAt(n);if(l===47){if(!r){e=n+1;break}}else o===-1&&(r=!1,o=n+1),a>=0&&(l===t.charCodeAt(a)?--a===-1&&(i=n):(a=-1,i=o))}return e===i?i=o:i===-1&&(i=s.length),s.slice(e,i)}for(n=s.length-1;n>=0;--n)if(s.charCodeAt(n)===47){if(!r){e=n+1;break}}else i===-1&&(r=!1,i=n+1);return i===-1?"":s.slice(e,i)},extname(s){Gt(s),s=Ye(this.toPosix(s));let t=-1,e=0,i=-1,r=!0,n=0;for(let a=s.length-1;a>=0;--a){const o=s.charCodeAt(a);if(o===47){if(!r){e=a+1;break}continue}i===-1&&(r=!1,i=a+1),o===46?t===-1?t=a:n!==1&&(n=1):t!==-1&&(n=-1)}return t===-1||i===-1||n===0||n===1&&t===i-1&&t===e+1?"":s.slice(t,i)},parse(s){Gt(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=Ye(this.toPosix(s));let e=s.charCodeAt(0);const i=this.isAbsolute(s);let r;t.root=this.rootname(s),i||this.hasProtocol(s)?r=1:r=0;let n=-1,a=0,o=-1,l=!0,h=s.length-1,c=0;for(;h>=r;--h){if(e=s.charCodeAt(h),e===47){if(!l){a=h+1;break}continue}o===-1&&(l=!1,o=h+1),e===46?n===-1?n=h:c!==1&&(c=1):n!==-1&&(c=-1)}return n===-1||o===-1||c===0||c===1&&n===o-1&&n===a+1?o!==-1&&(a===0&&i?t.base=t.name=s.slice(1,o):t.base=t.name=s.slice(a,o)):(a===0&&i?(t.name=s.slice(1,n),t.base=s.slice(1,o)):(t.name=s.slice(a,n),t.base=s.slice(a,o)),t.ext=s.slice(n,o)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function wo(s,t,e,i,r){const n=t[e];for(let a=0;a<n.length;a++){const o=n[a];e<t.length-1?wo(s.replace(i[e],o),t,e+1,i,r):r.push(s.replace(i[e],o))}}function Ad(s){const t=/\{(.*?)\}/g,e=s.match(t),i=[];if(e){const r=[];e.forEach(n=>{const a=n.substring(1,n.length-1).split(",");r.push(a)}),wo(s,r,0,e,i)}else i.push(s);return i}const yn=s=>!Array.isArray(s);class So{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`).join("&")}}getAlias(t){const{alias:e,src:i}=t;return Fe(e||i,n=>typeof n=="string"?n:Array.isArray(n)?n.map(a=>(a==null?void 0:a.src)??a):n!=null&&n.src?n.src:n,!0)}addManifest(t){this._manifest&&Mt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const i=[];let r=e;Array.isArray(e)||(r=Object.entries(e).map(([n,a])=>typeof a=="string"||Array.isArray(a)?{alias:n,src:a}:{alias:n,...a})),r.forEach(n=>{const a=n.src,o=n.alias;let l;if(typeof o=="string"){const h=this._createBundleAssetId(t,o);i.push(h),l=[o,h]}else{const h=o.map(c=>this._createBundleAssetId(t,c));i.push(...h),l=[...o,...h]}this.add({...n,alias:l,src:a})}),this._bundles[t]=i}add(t){const e=[];Array.isArray(t)?e.push(...t):e.push(t);let i;i=n=>{this.hasKey(n)&&Mt(`[Resolver] already has key: ${n} overwriting`)},Fe(e).forEach(n=>{const{src:a}=n;let{data:o,format:l,loadParser:h,parser:c}=n;const u=Fe(a).map(g=>typeof g=="string"?Ad(g):Array.isArray(g)?g:[g]),f=this.getAlias(n);Array.isArray(f)?f.forEach(i):i(f);const d=[],m=g=>{const p=this._parsers.find(_=>_.test(g));return{...p==null?void 0:p.parse(g),src:g}};u.forEach(g=>{g.forEach(p=>{let _={};if(typeof p!="object"?_=m(p):(o=p.data??o,l=p.format??l,(p.loadParser||p.parser)&&(h=p.loadParser??h,c=p.parser??c),_={...m(p.src),...p}),!f)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this._buildResolvedAsset(_,{aliases:f,data:o,format:l,loadParser:h,parser:c,progressSize:n.progressSize}),d.push(_)})}),f.forEach(g=>{this._assetMap[g]=d})})}resolveBundle(t){const e=yn(t);t=Fe(t);const i={};return t.forEach(r=>{const n=this._bundles[r];if(n){const a=this.resolve(n),o={};for(const l in a){const h=a[l];o[this._extractAssetIdFromBundle(r,l)]=h}i[r]=o}}),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const i={};for(const r in e)i[r]=e[r].src;return i}return e.src}resolve(t){const e=yn(t);t=Fe(t);const i={};return t.forEach(r=>{if(!this._resolverHash[r])if(this._assetMap[r]){let n=this._assetMap[r];const a=this._getPreferredOrder(n);a==null||a.priority.forEach(o=>{a.params[o].forEach(l=>{const h=n.filter(c=>c[o]?c[o]===l:!1);h.length&&(n=h)})}),this._resolverHash[r]=n[0]}else this._resolverHash[r]=this._buildResolvedAsset({alias:[r],src:r},{});i[r]=this._resolverHash[r]}),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const i=t[e],r=this._preferredOrder.find(n=>n.params.format.includes(i.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}_buildResolvedAsset(t,e){const{aliases:i,data:r,loadParser:n,parser:a,format:o,progressSize:l}=e;return(this._basePath||this._rootPath)&&(t.src=gs.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...r||{},...t.data},t.loadParser=n??t.loadParser,t.parser=a??t.parser,t.format=o??t.format??Pd(t.src),l!==void 0&&(t.progressSize=l),t}}So.RETINA_PREFIX=/@([0-9\.]+)x/;function Pd(s){return s.split(".").pop().split("?").shift().split("#").shift()}const bn=(s,t)=>{const e=t.split("?")[1];return e&&(s+=`?${e}`),s},Co=class is{constructor(t,e){this.linkedSheets=[];let i=t;(t==null?void 0:t.source)instanceof Ht&&(i={texture:t,data:e});const{texture:r,data:n,cachePrefix:a=""}=i;this.cachePrefix=a,this._texture=r instanceof X?r:null,this.textureSource=r.source,this.textures={},this.animations={},this.data=n;const o=parseFloat(n.meta.scale);o?(this.resolution=o,r.source.resolution=this.resolution):this.resolution=r.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=is.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const i=is.BATCH_SIZE;for(;e-t<i&&e<this._frameKeys.length;){const r=this._frameKeys[e],n=this._frames[r],a=n.frame;if(a){let o=null,l=null;const h=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,c=new ht(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);n.rotated?o=new ht(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):o=new ht(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(l=new ht(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[r]=new X({source:this.textureSource,frame:o,orig:c,trim:l,rotate:n.rotated?2:0,defaultAnchor:n.anchor,defaultBorders:n.borders,label:r.toString()})}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const r=t[e][i];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*is.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*is.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Co.BATCH_SIZE=1e3;let wn=Co;const Td=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Ao(s,t,e){const i={};if(s.forEach(r=>{i[r]=t}),Object.keys(t.textures).forEach(r=>{i[`${t.cachePrefix}${r}`]=t.textures[r]}),!e){const r=gs.dirname(s[0]);t.linkedSheets.forEach((n,a)=>{const o=Ao([`${r}/${t.data.meta.related_multi_packs[a]}`],n,!0);Object.assign(i,o)})}return i}const kd={extension:$.Asset,cache:{test:s=>s instanceof wn,getCacheableAssets:(s,t)=>Ao(s,t,!1)},resolver:{extension:{type:$.ResolveParser,name:"resolveSpritesheet"},test:s=>{const e=s.split("?")[0].split("."),i=e.pop(),r=e.pop();return i==="json"&&Td.includes(r)},parse:s=>{var e;const t=s.split(".");return{resolution:parseFloat(((e=So.RETINA_PREFIX.exec(s))==null?void 0:e[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:$.LoadParser,priority:bo.Normal,name:"spritesheetLoader"},async testParse(s,t){return gs.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,e){var u,f;const{texture:i,imageFilename:r,textureOptions:n,cachePrefix:a}=(t==null?void 0:t.data)??{};let o=gs.dirname(t.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let l;if(i instanceof X)l=i;else{const d=bn(o+(r??s.meta.image),t.src);l=(await e.load([{src:d,data:n}]))[d]}const h=new wn({texture:l.source,data:s,cachePrefix:a});await h.parse();const c=(u=s==null?void 0:s.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(c)){const d=[];for(const g of c){if(typeof g!="string")continue;let p=o+g;(f=t.data)!=null&&f.ignoreMultiPack||(p=bn(p,t.src),d.push(e.load({src:p,data:{textureOptions:n,ignoreMultiPack:!0}})))}const m=await Promise.all(d);h.linkedSheets=m,m.forEach(g=>{g.linkedSheets=[h].concat(h.linkedSheets.filter(p=>p!==g))})}return h},async unload(s,t,e){await e.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};Ft.add(kd);const Gi=Object.create(null),Sn=Object.create(null);function Mr(s,t){let e=Sn[s];return e===void 0&&(Gi[t]===void 0&&(Gi[t]=1),Sn[s]=e=Gi[t]++),e}let Be;function Po(){return(!Be||Be!=null&&Be.isContextLost())&&(Be=me.get().createCanvas().getContext("webgl",{})),Be}let Ds;function Md(){if(!Ds){Ds="mediump";const s=Po();s&&s.getShaderPrecisionFormat&&(Ds=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Ds}function Ed(s,t,e){return t?s:e?(s=s.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function Id(s,t,e){const i=e?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let r=e?t.requestedFragmentPrecision:t.requestedVertexPrecision;return r==="highp"&&i!=="highp"&&(r="mediump"),`precision ${r} float;
${s}`}else if(i!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function Rd(s,t){return t?`#version 300 es
${s}`:s}const Ld={},Bd={};function Dd(s,{name:t="pixi-program"},e=!0){t=t.replace(/\s+/g,"-"),t+=e?"-fragment":"-vertex";const i=e?Ld:Bd;return i[t]?(i[t]++,t+=`-${i[t]}`):i[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function Fd(s,t){return t?s.replace("#version 300 es",""):s}const Oi={stripVersion:Fd,ensurePrecision:Id,addProgramDefines:Ed,setProgramName:Dd,insertVersion:Rd},qe=Object.create(null),To=class nr{constructor(t){t={...nr.defaultOptions,...t};const e=t.fragment.indexOf("#version 300 es")!==-1,i={stripVersion:e,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Md()},setProgramName:{name:t.name},addProgramDefines:e,insertVersion:e};let r=t.fragment,n=t.vertex;Object.keys(Oi).forEach(a=>{const o=i[a];r=Oi[a](r,o,!0),n=Oi[a](n,o,!1)}),this.fragment=r,this.vertex=n,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Mr(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,qe[this._cacheKey]=null}static from(t){const e=`${t.vertex}:${t.fragment}`;return qe[e]||(qe[e]=new nr(t),qe[e]._cacheKey=e),qe[e]}};To.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let ko=To;const Cn={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Gd(s){return Cn[s]??Cn.float32}const Od={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function jd({source:s,entryPoint:t}){const e={},i=s.indexOf(`fn ${t}`);if(i!==-1){const r=s.indexOf("->",i);if(r!==-1){const n=s.substring(i,r),a=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let o;for(;(o=a.exec(n))!==null;){const l=Od[o[3]]??"float32";e[o[2]]={location:parseInt(o[1],10),format:l,stride:Gd(l).stride,offset:0,instance:!1,start:0}}}}return e}function ji(s){var u,f;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,e=/@group\((\d+)\)/,i=/@binding\((\d+)\)/,r=/var(<[^>]+>)? (\w+)/,n=/:\s*(\w+)/,a=/struct\s+(\w+)\s*{([^}]+)}/g,o=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,h=(u=s.match(t))==null?void 0:u.map(d=>({group:parseInt(d.match(e)[1],10),binding:parseInt(d.match(i)[1],10),name:d.match(r)[2],isUniform:d.match(r)[1]==="<uniform>",type:d.match(n)[1]}));if(!h)return{groups:[],structs:[]};const c=((f=s.match(a))==null?void 0:f.map(d=>{const m=d.match(l)[1],g=d.match(o).reduce((p,_)=>{const[y,v]=_.split(":");return p[y.trim()]=v.trim(),p},{});return g?{name:m,members:g}:null}).filter(({name:d})=>h.some(m=>m.type===d)))??[];return{groups:h,structs:c}}var rs=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(rs||{});function Nd({groups:s}){const t=[];for(let e=0;e<s.length;e++){const i=s[e];t[i.group]||(t[i.group]=[]),i.isUniform?t[i.group].push({binding:i.binding,visibility:rs.VERTEX|rs.FRAGMENT,buffer:{type:"uniform"}}):i.type==="sampler"?t[i.group].push({binding:i.binding,visibility:rs.FRAGMENT,sampler:{type:"filtering"}}):i.type==="texture_2d"&&t[i.group].push({binding:i.binding,visibility:rs.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function Ud({groups:s}){const t=[];for(let e=0;e<s.length;e++){const i=s[e];t[i.group]||(t[i.group]={}),t[i.group][i.name]=i.binding}return t}function zd(s,t){const e=new Set,i=new Set,r=[...s.structs,...t.structs].filter(a=>e.has(a.name)?!1:(e.add(a.name),!0)),n=[...s.groups,...t.groups].filter(a=>{const o=`${a.name}-${a.binding}`;return i.has(o)?!1:(i.add(o),!0)});return{structs:r,groups:n}}const We=Object.create(null);class yi{constructor(t){var o,l;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:e,vertex:i,layout:r,gpuLayout:n,name:a}=t;if(this.name=a,this.fragment=e,this.vertex=i,e.source===i.source){const h=ji(e.source);this.structsAndGroups=h}else{const h=ji(i.source),c=ji(e.source);this.structsAndGroups=zd(h,c)}this.layout=r??Ud(this.structsAndGroups),this.gpuLayout=n??Nd(this.structsAndGroups),this.autoAssignGlobalUniforms=((o=this.layout[0])==null?void 0:o.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((l=this.layout[1])==null?void 0:l.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:e}=this,i=t.source+e.source+t.entryPoint+e.entryPoint;this._layoutKey=Mr(i,"program")}get attributeData(){return this._attributeData??(this._attributeData=jd(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,We[this._cacheKey]=null}static from(t){const e=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return We[e]||(We[e]=new yi(t),We[e]._cacheKey=e),We[e]}}const Mo=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Hd=Mo.reduce((s,t)=>(s[t]=!0,s),{});function Vd(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Eo=class Io{constructor(t,e){this._touched=0,this.uid=nt("uniform"),this._resourceType="uniformGroup",this._resourceId=nt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,e={...Io.defaultOptions,...e},this.uniformStructures=t;const i={};for(const r in t){const n=t[r];if(n.name=r,n.size=n.size??1,!Hd[n.type]){const a=n.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(a){const[,o,l]=a;throw new Error(`Uniform type ${n.type} is not supported. Use type: '${o}', size: ${l} instead.`)}throw new Error(`Uniform type ${n.type} is not supported. Supported uniform types are: ${Mo.join(", ")}`)}n.value??(n.value=Vd(n.type,n.size)),i[r]=n.value}this.uniforms=i,this._dirtyId=1,this.ubo=e.ubo,this.isStatic=e.isStatic,this._signature=Mr(Object.keys(i).map(r=>`${r}-${t[r].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Eo.defaultOptions={ubo:!1,isStatic:!1};let Ro=Eo;class $s{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const i in t){const r=t[i];this.setResource(r,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const i in this.resources)t[e++]=this.resources[i]._resourceId;this._key=t.join("|")}setResource(t,e){var r,n;const i=this.resources[e];t!==i&&(i&&((r=t.off)==null||r.call(t,"change",this.onResourceChange,this)),(n=t.on)==null||n.call(t,"change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t,e){const i=this.resources;for(const r in i)i[r]._gcLastUsed=t,i[r]._touched=e}destroy(){var e;const t=this.resources;for(const i in t){const r=t[i];(e=r==null?void 0:r.off)==null||e.call(r,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const i in e)e[i]===t&&(e[i]=null)}else this._updateKey()}}var ar=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(ar||{});class Er extends ae{constructor(t){super(),this.uid=nt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:e,glProgram:i,groups:r,resources:n,compatibleRenderers:a,groupMap:o}=t;this.gpuProgram=e,this.glProgram=i,a===void 0&&(a=0,e&&(a|=ar.WEBGPU),i&&(a|=ar.WEBGL)),this.compatibleRenderers=a;const l={};if(!n&&!r&&(n={}),n&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!e&&r&&!o)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!e&&r&&o)for(const h in o)for(const c in o[h]){const u=o[h][c];l[u]={group:h,binding:c,name:u}}else if(e&&r&&!o){const h=e.structsAndGroups.groups;o={},h.forEach(c=>{o[c.group]=o[c.group]||{},o[c.group][c.binding]=c.name,l[c.name]=c})}else if(n){r={},o={},e&&e.structsAndGroups.groups.forEach(u=>{o[u.group]=o[u.group]||{},o[u.group][u.binding]=u.name,l[u.name]=u});let h=0;for(const c in n)l[c]||(r[99]||(r[99]=new $s,this._ownedBindGroups.push(r[99])),l[c]={group:99,binding:h,name:c},o[99]=o[99]||{},o[99][h]=c,h++);for(const c in n){const u=c;let f=n[c];!f.source&&!f._resourceType&&(f=new Ro(f));const d=l[u];d&&(r[d.group]||(r[d.group]=new $s,this._ownedBindGroups.push(r[d.group])),r[d.group].setResource(f,d.binding))}}this.groups=r,this._uniformBindMap=o,this.resources=this._buildResourceAccessor(r,l)}addResource(t,e,i){var r,n;(r=this._uniformBindMap)[e]||(r[e]={}),(n=this._uniformBindMap[e])[i]||(n[i]=t),this.groups[e]||(this.groups[e]=new $s,this._ownedBindGroups.push(this.groups[e]))}_buildResourceAccessor(t,e){const i={};for(const r in e){const n=e[r];Object.defineProperty(i,n.name,{get(){return t[n.group].getResource(n.binding)},set(a){t[n.group].setResource(a,n.binding)}})}return i}destroy(t=!1){var e,i;this._destroyed||(this._destroyed=!0,this.emit("destroy",this),t&&((e=this.gpuProgram)==null||e.destroy(),(i=this.glProgram)==null||i.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(r=>{r.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(t){const{gpu:e,gl:i,...r}=t;let n,a;return e&&(n=yi.from(e)),i&&(a=ko.from(i)),new Er({gpuProgram:n,glProgram:a,...r})}}const or=[];Ft.handleByNamedList($.Environment,or);async function $d(s){if(!s)for(let t=0;t<or.length;t++){const e=or[t];if(e.value.test()){await e.value.load();return}}}let Xe;function Yd(){if(typeof Xe=="boolean")return Xe;try{Xe=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Xe=!1}return Xe}function An(s,t,e=2){const i=t&&t.length,r=i?t[0]*e:s.length;let n=Lo(s,0,r,e,!0);const a=[];if(!n||n.next===n.prev)return a;let o,l,h;if(i&&(n=Kd(s,t,n,e)),s.length>80*e){o=s[0],l=s[1];let c=o,u=l;for(let f=e;f<r;f+=e){const d=s[f],m=s[f+1];d<o&&(o=d),m<l&&(l=m),d>c&&(c=d),m>u&&(u=m)}h=Math.max(c-o,u-l),h=h!==0?32767/h:0}return _s(n,a,e,o,l,h,0),a}function Lo(s,t,e,i,r){let n;if(r===hf(s,t,e,i)>0)for(let a=t;a<e;a+=i)n=Pn(a/i|0,s[a],s[a+1],n);else for(let a=e-i;a>=t;a-=i)n=Pn(a/i|0,s[a],s[a+1],n);return n&&Ve(n,n.next)&&(xs(n),n=n.next),n}function Pe(s,t){if(!s)return s;t||(t=s);let e=s,i;do if(i=!1,!e.steiner&&(Ve(e,e.next)||tt(e.prev,e,e.next)===0)){if(xs(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function _s(s,t,e,i,r,n,a){if(!s)return;!a&&n&&sf(s,i,r,n);let o=s;for(;s.prev!==s.next;){const l=s.prev,h=s.next;if(n?Wd(s,i,r,n):qd(s)){t.push(l.i,s.i,h.i),xs(s),s=h.next,o=h.next;continue}if(s=h,s===o){a?a===1?(s=Xd(Pe(s),t),_s(s,t,e,i,r,n,2)):a===2&&Jd(s,t,e,i,r,n):_s(Pe(s),t,e,i,r,n,1);break}}}function qd(s){const t=s.prev,e=s,i=s.next;if(tt(t,e,i)>=0)return!1;const r=t.x,n=e.x,a=i.x,o=t.y,l=e.y,h=i.y,c=Math.min(r,n,a),u=Math.min(o,l,h),f=Math.max(r,n,a),d=Math.max(o,l,h);let m=i.next;for(;m!==t;){if(m.x>=c&&m.x<=f&&m.y>=u&&m.y<=d&&ns(r,o,n,l,a,h,m.x,m.y)&&tt(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Wd(s,t,e,i){const r=s.prev,n=s,a=s.next;if(tt(r,n,a)>=0)return!1;const o=r.x,l=n.x,h=a.x,c=r.y,u=n.y,f=a.y,d=Math.min(o,l,h),m=Math.min(c,u,f),g=Math.max(o,l,h),p=Math.max(c,u,f),_=lr(d,m,t,e,i),y=lr(g,p,t,e,i);let v=s.prevZ,x=s.nextZ;for(;v&&v.z>=_&&x&&x.z<=y;){if(v.x>=d&&v.x<=g&&v.y>=m&&v.y<=p&&v!==r&&v!==a&&ns(o,c,l,u,h,f,v.x,v.y)&&tt(v.prev,v,v.next)>=0||(v=v.prevZ,x.x>=d&&x.x<=g&&x.y>=m&&x.y<=p&&x!==r&&x!==a&&ns(o,c,l,u,h,f,x.x,x.y)&&tt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;v&&v.z>=_;){if(v.x>=d&&v.x<=g&&v.y>=m&&v.y<=p&&v!==r&&v!==a&&ns(o,c,l,u,h,f,v.x,v.y)&&tt(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=g&&x.y>=m&&x.y<=p&&x!==r&&x!==a&&ns(o,c,l,u,h,f,x.x,x.y)&&tt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Xd(s,t){let e=s;do{const i=e.prev,r=e.next.next;!Ve(i,r)&&Do(i,e,e.next,r)&&vs(i,r)&&vs(r,i)&&(t.push(i.i,e.i,r.i),xs(e),xs(e.next),e=s=r),e=e.next}while(e!==s);return Pe(e)}function Jd(s,t,e,i,r,n){let a=s;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&af(a,o)){let l=Fo(a,o);a=Pe(a,a.next),l=Pe(l,l.next),_s(a,t,e,i,r,n,0),_s(l,t,e,i,r,n,0);return}o=o.next}a=a.next}while(a!==s)}function Kd(s,t,e,i){const r=[];for(let n=0,a=t.length;n<a;n++){const o=t[n]*i,l=n<a-1?t[n+1]*i:s.length,h=Lo(s,o,l,i,!1);h===h.next&&(h.steiner=!0),r.push(nf(h))}r.sort(Zd);for(let n=0;n<r.length;n++)e=Qd(r[n],e);return e}function Zd(s,t){let e=s.x-t.x;if(e===0&&(e=s.y-t.y,e===0)){const i=(s.next.y-s.y)/(s.next.x-s.x),r=(t.next.y-t.y)/(t.next.x-t.x);e=i-r}return e}function Qd(s,t){const e=tf(s,t);if(!e)return t;const i=Fo(e,s);return Pe(i,i.next),Pe(e,e.next)}function tf(s,t){let e=t;const i=s.x,r=s.y;let n=-1/0,a;if(Ve(s,e))return e;do{if(Ve(s,e.next))return e.next;if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const u=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(u<=i&&u>n&&(n=u,a=e.x<e.next.x?e:e.next,u===i))return a}e=e.next}while(e!==t);if(!a)return null;const o=a,l=a.x,h=a.y;let c=1/0;e=a;do{if(i>=e.x&&e.x>=l&&i!==e.x&&Bo(r<h?i:n,r,l,h,r<h?n:i,r,e.x,e.y)){const u=Math.abs(r-e.y)/(i-e.x);vs(e,s)&&(u<c||u===c&&(e.x>a.x||e.x===a.x&&ef(a,e)))&&(a=e,c=u)}e=e.next}while(e!==o);return a}function ef(s,t){return tt(s.prev,s,t.prev)<0&&tt(t.next,s,s.next)<0}function sf(s,t,e,i){let r=s;do r.z===0&&(r.z=lr(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==s);r.prevZ.nextZ=null,r.prevZ=null,rf(r)}function rf(s){let t,e=1;do{let i=s,r;s=null;let n=null;for(t=0;i;){t++;let a=i,o=0;for(let h=0;h<e&&(o++,a=a.nextZ,!!a);h++);let l=e;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),n?n.nextZ=r:s=r,r.prevZ=n,n=r;i=a}n.nextZ=null,e*=2}while(t>1);return s}function lr(s,t,e,i,r){return s=(s-e)*r|0,t=(t-i)*r|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,s|t<<1}function nf(s){let t=s,e=s;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==s);return e}function Bo(s,t,e,i,r,n,a,o){return(r-a)*(t-o)>=(s-a)*(n-o)&&(s-a)*(i-o)>=(e-a)*(t-o)&&(e-a)*(n-o)>=(r-a)*(i-o)}function ns(s,t,e,i,r,n,a,o){return!(s===a&&t===o)&&Bo(s,t,e,i,r,n,a,o)}function af(s,t){return s.next.i!==t.i&&s.prev.i!==t.i&&!of(s,t)&&(vs(s,t)&&vs(t,s)&&lf(s,t)&&(tt(s.prev,s,t.prev)||tt(s,t.prev,t))||Ve(s,t)&&tt(s.prev,s,s.next)>0&&tt(t.prev,t,t.next)>0)}function tt(s,t,e){return(t.y-s.y)*(e.x-t.x)-(t.x-s.x)*(e.y-t.y)}function Ve(s,t){return s.x===t.x&&s.y===t.y}function Do(s,t,e,i){const r=Gs(tt(s,t,e)),n=Gs(tt(s,t,i)),a=Gs(tt(e,i,s)),o=Gs(tt(e,i,t));return!!(r!==n&&a!==o||r===0&&Fs(s,e,t)||n===0&&Fs(s,i,t)||a===0&&Fs(e,s,i)||o===0&&Fs(e,t,i))}function Fs(s,t,e){return t.x<=Math.max(s.x,e.x)&&t.x>=Math.min(s.x,e.x)&&t.y<=Math.max(s.y,e.y)&&t.y>=Math.min(s.y,e.y)}function Gs(s){return s>0?1:s<0?-1:0}function of(s,t){let e=s;do{if(e.i!==s.i&&e.next.i!==s.i&&e.i!==t.i&&e.next.i!==t.i&&Do(e,e.next,s,t))return!0;e=e.next}while(e!==s);return!1}function vs(s,t){return tt(s.prev,s,s.next)<0?tt(s,t,s.next)>=0&&tt(s,s.prev,t)>=0:tt(s,t,s.prev)<0||tt(s,s.next,t)<0}function lf(s,t){let e=s,i=!1;const r=(s.x+t.x)/2,n=(s.y+t.y)/2;do e.y>n!=e.next.y>n&&e.next.y!==e.y&&r<(e.next.x-e.x)*(n-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==s);return i}function Fo(s,t){const e=hr(s.i,s.x,s.y),i=hr(t.i,t.x,t.y),r=s.next,n=t.prev;return s.next=t,t.prev=s,e.next=r,r.prev=e,i.next=e,e.prev=i,n.next=i,i.prev=n,i}function Pn(s,t,e,i){const r=hr(s,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function xs(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function hr(s,t,e){return{i:s,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function hf(s,t,e,i){let r=0;for(let n=t,a=e-i;n<e;n+=i)r+=(s[a]-s[n])*(s[n+1]+s[a+1]),a=n;return r}const cf=An.default||An;var Go=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(Go||{});class uf{constructor(t){this.items=[],this._name=t}emit(t,e,i,r,n,a,o,l){const{name:h,items:c}=this;for(let u=0,f=c.length;u<f;u++)c[u][h](t,e,i,r,n,a,o,l);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&this.items.splice(e,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const df=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Oo=class jo extends ae{constructor(t){super(),this.tick=0,this.uid=nt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const e=[...df,...this.config.runners??[]];this._addRunners(...e),this._unsafeEvalCheck()}async init(t={}){const e=t.skipExtensionImports===!0?!0:t.manageImports===!1;await $d(e),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const i in this._systemsHash)t={...this._systemsHash[i].constructor.defaultOptions,...t};t={...jo.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let i=0;i<this.runners.init.items.length;i++)await this.runners.init.items[i].init(t);this._initOptions=t}render(t,e){this.tick++;let i=t;if(i instanceof pe&&(i={container:i},e&&(Y(at,"passing a second argument is deprecated, please use render options instead"),i.target=e.renderTexture)),i.target||(i.target=this.view.renderTarget),i.target===this.view.renderTarget&&(this._lastObjectRendered=i.container,i.clearColor??(i.clearColor=this.background.colorRgba),i.clear??(i.clear=this.background.clearBeforeRender)),i.clearColor){const r=Array.isArray(i.clearColor)&&i.clearColor.length===4;i.clearColor=r?i.clearColor:Bt.shared.setValue(i.clearColor).toArray()}i.transform||(i.container.updateLocalTransform(),i.transform=i.container.localTransform),i.container.visible&&(i.container.enableRenderGroup(),this.runners.prerender.emit(i),this.runners.renderStart.emit(i),this.runners.render.emit(i),this.runners.renderEnd.emit(i),this.runners.postrender.emit(i))}resize(t,e,i){const r=this.view.resolution;this.view.resize(t,e,i),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),i!==void 0&&i!==r&&this.runners.resolutionChange.emit(i)}clear(t={}){const e=this;t.target||(t.target=e.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Go.ALL);const{clear:i,clearColor:r,target:n}=t;Bt.shared.setValue(r??this.background.colorRgba),e.renderTarget.clear(n,i,Bt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(e=>{this.runners[e]=new uf(e)})}_addSystems(t){let e;for(e in t){const i=t[e];this._addSystem(i.value,i.name)}}_addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const r in this.runners)this.runners[r].add(i);return this}_addPipes(t,e){const i=e.reduce((r,n)=>(r[n.name]=n.value,r),{});t.forEach(r=>{const n=r.value,a=r.name,o=i[a];this.renderPipes[a]=new n(this,o?new o:null),this.runners.destroy.add(this.renderPipes[a])})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),(t===!0||typeof t=="object"&&t.releaseGlobalResources)&&vi.release(),Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!Yd())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Oo.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let No=Oo,Os;function ff(s){return Os!==void 0||(Os=(()=>{var e;const t={stencil:!0,failIfMajorPerformanceCaveat:s??No.defaultOptions.failIfMajorPerformanceCaveat};try{if(!me.get().getWebGLRenderingContext())return!1;let r=me.get().createCanvas().getContext("webgl",t);const n=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,n}catch{return!1}})()),Os}let js;async function pf(s={}){return js!==void 0||(js=await(async()=>{const t=me.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),js}const Tn=["webgl","webgpu","canvas"];async function mf(s){let t=[];s.preference?(t.push(s.preference),Tn.forEach(n=>{n!==s.preference&&t.push(n)})):t=Tn.slice();let e,i={};for(let n=0;n<t.length;n++){const a=t[n];if(a==="webgpu"&&await pf()){const{WebGPURenderer:o}=await ii(async()=>{const{WebGPURenderer:l}=await import("./WebGPURenderer-CEpGk-OO.js");return{WebGPURenderer:l}},__vite__mapDeps([4,2,5,3]));e=o,i={...s,...s.webgpu};break}else if(a==="webgl"&&ff(s.failIfMajorPerformanceCaveat??No.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:o}=await ii(async()=>{const{WebGLRenderer:l}=await import("./WebGLRenderer-Co1JxnL3.js");return{WebGLRenderer:l}},__vite__mapDeps([6,2,5]));e=o,i={...s,...s.webgl};break}else if(a==="canvas")throw i={...s},new Error("CanvasRenderer is not yet implemented")}if(delete i.webgpu,delete i.webgl,!e)throw new Error("No available renderer for the current environment");const r=new e;return await r.init(i),r}const Uo="8.15.0";class zo{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,Uo)}static destroy(){}}zo.extension=$.Application;class gf{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,Uo)}destroy(){this._renderer=null}}gf.extension={type:[$.WebGLSystem,$.WebGPUSystem],name:"initHook",priority:-10};const Ho=class cr{constructor(...t){this.stage=new pe,t[0]!==void 0&&Y(at,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.stage||(this.stage=new pe),this.renderer=await mf(t),cr._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Y(at,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,e=!1){const i=cr._plugins.slice(0);i.reverse(),i.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Ho._plugins=[];let Vo=Ho;Ft.handleByList($.Application,Vo._plugins);Ft.add(zo);const kn=[{offset:0,color:"white"},{offset:1,color:"black"}],Ir=class ur{constructor(...t){this.uid=nt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let e=_f(t);e={...e.type==="radial"?ur.defaultRadialOptions:ur.defaultLinearOptions,...Ya(e)},this._textureSize=e.textureSize,this._wrapMode=e.wrapMode,e.type==="radial"?(this.center=e.center,this.outerCenter=e.outerCenter??this.center,this.innerRadius=e.innerRadius,this.outerRadius=e.outerRadius,this.scale=e.scale,this.rotation=e.rotation):(this.start=e.start,this.end=e.end),this.textureSpace=e.textureSpace,this.type=e.type,e.colorStops.forEach(r=>{this.addColorStop(r.offset,r.color)})}addColorStop(t,e){return this.colorStops.push({offset:t,color:Bt.shared.setValue(e).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:e}=this.start,{x:i,y:r}=this.end,n=i-t,a=r-e;const o=n<0||a<0;if(this._wrapMode==="clamp-to-edge"){if(n<0){const p=t;t=i,i=p,n*=-1}if(a<0){const p=e;e=r,r=p,a*=-1}}const l=this.colorStops.length?this.colorStops:kn,h=this._textureSize,{canvas:c,context:u}=En(h,1),f=o?u.createLinearGradient(this._textureSize,0,0,0):u.createLinearGradient(0,0,this._textureSize,0);Mn(f,l),u.fillStyle=f,u.fillRect(0,0,h,1),this.texture=new X({source:new ri({resource:c,addressMode:this._wrapMode})});const d=Math.sqrt(n*n+a*a),m=Math.atan2(a,n),g=new z;g.scale(d/h,1),g.rotate(m),g.translate(t,e),this.textureSpace==="local"&&g.scale(h,h),this.transform=g}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:kn,e=this._textureSize,{canvas:i,context:r}=En(e,e),{x:n,y:a}=this.center,{x:o,y:l}=this.outerCenter,h=this.innerRadius,c=this.outerRadius,u=o-c,f=l-c,d=e/(c*2),m=(n-u)*d,g=(a-f)*d,p=r.createRadialGradient(m,g,h*d,(o-u)*d,(l-f)*d,c*d);Mn(p,t),r.fillStyle=t[t.length-1].color,r.fillRect(0,0,e,e),r.fillStyle=p,r.translate(m,g),r.rotate(this.rotation),r.scale(1,this.scale),r.translate(-m,-g),r.fillRect(0,0,e,e),this.texture=new X({source:new ri({resource:i,addressMode:this._wrapMode})});const _=new z;_.scale(1/d,1/d),_.translate(u,f),this.textureSpace==="local"&&_.scale(e,e),this.transform=_}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Ir.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Ir.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ps=Ir;function Mn(s,t){for(let e=0;e<t.length;e++){const i=t[e];s.addColorStop(i.offset,i.color)}}function En(s,t){const e=me.get().createCanvas(s,t),i=e.getContext("2d");return{canvas:e,context:i}}function _f(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(Y("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??Ps.defaultLinearOptions.textureSize}),t}const In={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class vf{constructor(t,e){this.uid=nt("fillPattern"),this._tick=0,this.transform=new z,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=In[e].addressModeU,t.source.style.addressModeV=In[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._tick++}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Ni,Rn;function xf(){if(Rn)return Ni;Rn=1,Ni=e;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function e(n){var a=[];return n.replace(t,function(o,l,h){var c=l.toLowerCase();for(h=r(h),c=="m"&&h.length>2&&(a.push([l].concat(h.splice(0,2))),c="l",l=l=="m"?"l":"L");;){if(h.length==s[c])return h.unshift(l),a.push(h);if(h.length<s[c])throw new Error("malformed path data");a.push([l].concat(h.splice(0,s[c])))}}),a}var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function r(n){var a=n.match(i);return a?a.map(Number):[]}return Ni}var yf=xf();const bf=Ha(yf);function wf(s,t){const e=bf(s),i=[];let r=null,n=0,a=0;for(let o=0;o<e.length;o++){const l=e[o],h=l[0],c=l;switch(h){case"M":n=c[1],a=c[2],t.moveTo(n,a);break;case"m":n+=c[1],a+=c[2],t.moveTo(n,a);break;case"H":n=c[1],t.lineTo(n,a);break;case"h":n+=c[1],t.lineTo(n,a);break;case"V":a=c[1],t.lineTo(n,a);break;case"v":a+=c[1],t.lineTo(n,a);break;case"L":n=c[1],a=c[2],t.lineTo(n,a);break;case"l":n+=c[1],a+=c[2],t.lineTo(n,a);break;case"C":n=c[5],a=c[6],t.bezierCurveTo(c[1],c[2],c[3],c[4],n,a);break;case"c":t.bezierCurveTo(n+c[1],a+c[2],n+c[3],a+c[4],n+c[5],a+c[6]),n+=c[5],a+=c[6];break;case"S":n=c[3],a=c[4],t.bezierCurveToShort(c[1],c[2],n,a);break;case"s":t.bezierCurveToShort(n+c[1],a+c[2],n+c[3],a+c[4]),n+=c[3],a+=c[4];break;case"Q":n=c[3],a=c[4],t.quadraticCurveTo(c[1],c[2],n,a);break;case"q":t.quadraticCurveTo(n+c[1],a+c[2],n+c[3],a+c[4]),n+=c[3],a+=c[4];break;case"T":n=c[1],a=c[2],t.quadraticCurveToShort(n,a);break;case"t":n+=c[1],a+=c[2],t.quadraticCurveToShort(n,a);break;case"A":n=c[6],a=c[7],t.arcToSvg(c[1],c[2],c[3],c[4],c[5],n,a);break;case"a":n+=c[6],a+=c[7],t.arcToSvg(c[1],c[2],c[3],c[4],c[5],n,a);break;case"Z":case"z":t.closePath(),i.length>0&&(r=i.pop(),r?(n=r.startX,a=r.startY):(n=0,a=0)),r=null;break;default:Mt(`Unknown SVG path command: ${h}`)}h!=="Z"&&h!=="z"&&r===null&&(r={startX:n,startY:a},i.push(r))}return t}class Rr{constructor(t=0,e=0,i=0){this.type="circle",this.x=t,this.y=e,this.radius=i}clone(){return new Rr(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let r=this.x-t,n=this.y-e;return r*=r,n*=n,r+n<=i}strokeContains(t,e,i,r=.5){if(this.radius===0)return!1;const n=this.x-t,a=this.y-e,o=this.radius,l=(1-r)*i,h=Math.sqrt(n*n+a*a);return h<=o+l&&h>o-(i-l)}getBounds(t){return t||(t=new ht),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Lr{constructor(t=0,e=0,i=0,r=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=i,this.halfHeight=r}clone(){return new Lr(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let i=(t-this.x)/this.halfWidth,r=(e-this.y)/this.halfHeight;return i*=i,r*=r,i+r<=1}strokeContains(t,e,i,r=.5){const{halfWidth:n,halfHeight:a}=this;if(n<=0||a<=0)return!1;const o=i*(1-r),l=i-o,h=n-l,c=a-l,u=n+o,f=a+o,d=t-this.x,m=e-this.y,g=d*d/(h*h)+m*m/(c*c),p=d*d/(u*u)+m*m/(f*f);return g>1&&p<=1}getBounds(t){return t||(t=new ht),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function Sf(s,t,e,i,r,n){const a=s-e,o=t-i,l=r-e,h=n-i,c=a*l+o*h,u=l*l+h*h;let f=-1;u!==0&&(f=c/u);let d,m;f<0?(d=e,m=i):f>1?(d=r,m=n):(d=e+f*l,m=i+f*h);const g=s-d,p=t-m;return g*g+p*p}let Cf,Af;class hs{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const i=[];for(let r=0,n=e.length;r<n;r++)i.push(e[r].x,e[r].y);e=i}this.points=e,this.closePath=!0}isClockwise(){let t=0;const e=this.points,i=e.length;for(let r=0;r<i;r+=2){const n=e[r],a=e[r+1],o=e[(r+2)%i],l=e[(r+3)%i];t+=(o-n)*(l+a)}return t<0}containsPolygon(t){const e=this.getBounds(Cf),i=t.getBounds(Af);if(!e.containsRect(i))return!1;const r=t.points;for(let n=0;n<r.length;n+=2){const a=r[n],o=r[n+1];if(!this.contains(a,o))return!1}return!0}clone(){const t=this.points.slice(),e=new hs(t);return e.closePath=this.closePath,e}contains(t,e){let i=!1;const r=this.points.length/2;for(let n=0,a=r-1;n<r;a=n++){const o=this.points[n*2],l=this.points[n*2+1],h=this.points[a*2],c=this.points[a*2+1];l>e!=c>e&&t<(h-o)*((e-l)/(c-l))+o&&(i=!i)}return i}strokeContains(t,e,i,r=.5){const n=i*i,a=n*(1-r),o=n-a,{points:l}=this,h=l.length-(this.closePath?0:2);for(let c=0;c<h;c+=2){const u=l[c],f=l[c+1],d=l[(c+2)%l.length],m=l[(c+3)%l.length],g=Sf(t,e,u,f,d,m),p=Math.sign((d-u)*(e-f)-(m-f)*(t-u));if(g<=(p<0?o:a))return!0}return!1}getBounds(t){t||(t=new ht);const e=this.points;let i=1/0,r=-1/0,n=1/0,a=-1/0;for(let o=0,l=e.length;o<l;o+=2){const h=e[o],c=e[o+1];i=h<i?h:i,r=h>r?h:r,n=c<n?c:n,a=c>a?c:a}return t.x=i,t.width=r-i,t.y=n,t.height=a-n,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Y("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Y("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Ns=(s,t,e,i,r,n,a)=>{const o=s-e,l=t-i,h=Math.sqrt(o*o+l*l);return h>=r-n&&h<=r+a};class Br{constructor(t=0,e=0,i=0,r=0,n=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n}getBounds(t){return t||(t=new ht),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Br(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let r=t-(this.x+i),n=e-(this.y+i);const a=i*i;if(r*r+n*n<=a||(r=t-(this.x+this.width-i),r*r+n*n<=a)||(n=e-(this.y+this.height-i),r*r+n*n<=a)||(r=t-(this.x+i),r*r+n*n<=a))return!0}return!1}strokeContains(t,e,i,r=.5){const{x:n,y:a,width:o,height:l,radius:h}=this,c=i*(1-r),u=i-c,f=n+h,d=a+h,m=o-h*2,g=l-h*2,p=n+o,_=a+l;return(t>=n-c&&t<=n+u||t>=p-u&&t<=p+c)&&e>=d&&e<=d+g||(e>=a-c&&e<=a+u||e>=_-u&&e<=_+c)&&t>=f&&t<=f+m?!0:t<f&&e<d&&Ns(t,e,f,d,h,u,c)||t>p-h&&e<d&&Ns(t,e,p-h,d,h,u,c)||t>p-h&&e>_-h&&Ns(t,e,p-h,_-h,h,u,c)||t<f&&e>_-h&&Ns(t,e,f,_-h,h,u,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const $o={};function Pf(s,t,e){let i=2166136261;for(let r=0;r<t;r++)i^=s[r].uid,i=Math.imul(i,16777619),i>>>=0;return $o[i]||Tf(s,t,i,e)}function Tf(s,t,e,i){const r={};let n=0;for(let o=0;o<i;o++){const l=o<t?s[o]:X.EMPTY.source;r[n++]=l.source,r[n++]=l.style}const a=new $s(r);return $o[e]=a,a}class Ln{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Bn(s,t){const e=s.byteLength/8|0,i=new Float64Array(s,0,e);new Float64Array(t,0,e).set(i);const n=s.byteLength-e*8;if(n>0){const a=new Uint8Array(s,e*8,n);new Uint8Array(t,e*8,n).set(a)}}const kf={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Mf=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(Mf||{});function Dn(s,t){return t.alphaMode==="no-premultiply-alpha"&&kf[s]||s}const Ef=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function If(s){let t="";for(let e=0;e<s;++e)e>0&&(t+=`
else `),e<s-1&&(t+=`if(test == ${e}.0){}`);return t}function Rf(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const i=Ef.replace(/%forloop%/gi,If(s));if(t.shaderSource(e,i),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(e)}return s}let De=null;function Lf(){var t;if(De)return De;const s=Po();return De=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),De=Rf(De,s),(t=s.getExtension("WEBGL_lose_context"))==null||t.loseContext(),De}class Bf{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class Df{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Bf,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const cs=[];let ni=0;vi.register({clear:()=>{if(cs.length>0)for(const s of cs)s&&s.destroy();cs.length=0,ni=0}});function Fn(){return ni>0?cs[--ni]:new Df}function Gn(s){cs[ni++]=s}let Je=0;const Yo=class qo{constructor(t){this.uid=nt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...qo.defaultOptions,...t},t.maxTextures||(Y("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=Lf());const{maxTextures:e,attributesInitialSize:i,indicesInitialSize:r}=t;this.attributeBuffer=new Ln(i*4),this.indexBuffer=new Uint16Array(r),this.maxTextures=e}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Gn(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const i=t._batch.textures.ids[e._source.uid];return!i&&i!==0?!1:(t._textureId=i,t.texture=e,!0)}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let i=Fn(),r=i.textures;r.clear();const n=e[this.elementStart];let a=Dn(n.blendMode,n.texture._source),o=n.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,h=this.attributeBuffer.uint32View,c=this.indexBuffer;let u=this._batchIndexSize,f=this._batchIndexStart,d="startBatch";const m=this.maxTextures;for(let g=this.elementStart;g<this.elementSize;++g){const p=e[g];e[g]=null;const y=p.texture._source,v=Dn(p.blendMode,y),x=a!==v||o!==p.topology;if(y._batchTick===Je&&!x){p._textureId=y._textureBindLocation,u+=p.indexSize,p.packAsQuad?(this.packQuadAttributes(p,l,h,p._attributeStart,p._textureId),this.packQuadIndex(c,p._indexStart,p._attributeStart/this.vertexSize)):(this.packAttributes(p,l,h,p._attributeStart,p._textureId),this.packIndex(p,c,p._indexStart,p._attributeStart/this.vertexSize)),p._batch=i;continue}y._batchTick=Je,(r.count>=m||x)&&(this._finishBatch(i,f,u-f,r,a,o,t,d),d="renderBatch",f=u,a=v,o=p.topology,i=Fn(),r=i.textures,r.clear(),++Je),p._textureId=y._textureBindLocation=r.count,r.ids[y.uid]=r.count,r.textures[r.count++]=y,p._batch=i,u+=p.indexSize,p.packAsQuad?(this.packQuadAttributes(p,l,h,p._attributeStart,p._textureId),this.packQuadIndex(c,p._indexStart,p._attributeStart/this.vertexSize)):(this.packAttributes(p,l,h,p._attributeStart,p._textureId),this.packIndex(p,c,p._indexStart,p._attributeStart/this.vertexSize))}r.count>0&&(this._finishBatch(i,f,u-f,r,a,o,t,d),f=u,++Je),this.elementStart=this.elementSize,this._batchIndexStart=f,this._batchIndexSize=u}_finishBatch(t,e,i,r,n,a,o,l){t.gpuBindGroup=null,t.bindGroup=null,t.action=l,t.batcher=this,t.textures=r,t.blendMode=n,t.topology=a,t.start=e,t.size=i,++Je,this.batches[this.batchIndex++]=t,o.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,this.attributeBuffer.size*2),i=new Ln(e);Bn(this.attributeBuffer.rawBinaryData,i.rawBinaryData),this.attributeBuffer=i}_resizeIndexBuffer(t){const e=this.indexBuffer;let i=Math.max(t,e.length*1.5);i+=i%2;const r=i>65535?new Uint32Array(i):new Uint16Array(i);if(r.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let n=0;n<e.length;n++)r[n]=e[n];else Bn(e.buffer,r.buffer);this.indexBuffer=r}packQuadIndex(t,e,i){t[e]=i+0,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+0,t[e+4]=i+2,t[e+5]=i+3}packIndex(t,e,i,r){const n=t.indices,a=t.indexSize,o=t.indexOffset,l=t.attributeOffset;for(let h=0;h<a;h++)e[i++]=r+n[h+o]-l}destroy(t={}){var e;if(this.batches!==null){for(let i=0;i<this.batchIndex;i++)Gn(this.batches[i]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,t.shader&&((e=this.shader)==null||e.destroy(),this.shader=null);for(let i=0;i<this._elements.length;i++)this._elements[i]&&(this._elements[i]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};Yo.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Ff=Yo;var yt=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(yt||{});class ys extends ae{constructor(t){let{data:e,size:i}=t;const{usage:r,label:n,shrinkToFit:a}=t;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=nt("buffer"),this._resourceType="buffer",this._resourceId=nt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,i??(i=e==null?void 0:e.byteLength);const o=!!e;this.descriptor={size:i,usage:r,mappedAtCreation:o,label:n},this.shrinkToFit=a??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&yt.STATIC)}set static(t){t?this.descriptor.usage|=yt.STATIC:this.descriptor.usage&=~yt.STATIC}setDataWithSize(t,e,i){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t){i&&this.emit("update",this);return}const r=this._data;if(this._data=t,this._dataInt32=null,!r||r.length!==t.length){!this.shrinkToFit&&r&&t.byteLength<r.byteLength?i&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=nt("resource"),this.emit("change",this));return}i&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Wo(s,t){if(!(s instanceof ys)){let e=t?yt.INDEX:yt.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),e=yt.INDEX|yt.COPY_DST):(s=new Float32Array(s),e=yt.VERTEX|yt.COPY_DST)),s=new ys({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:e})}return s}function Gf(s,t,e){const i=s.getAttribute(t);if(!i)return e.minX=0,e.minY=0,e.maxX=0,e.maxY=0,e;const r=i.buffer.data;let n=1/0,a=1/0,o=-1/0,l=-1/0;const h=r.BYTES_PER_ELEMENT,c=(i.offset||0)/h,u=(i.stride||2*4)/h;for(let f=c;f<r.length;f+=u){const d=r[f],m=r[f+1];d>o&&(o=d),m>l&&(l=m),d<n&&(n=d),m<a&&(a=m)}return e.minX=n,e.minY=a,e.maxX=o,e.maxY=l,e}function Of(s){return(s instanceof ys||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=Wo(s.buffer,!1),s}class jf extends ae{constructor(t={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=nt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Nt,this._boundsDirty=!0;const{attributes:e,indexBuffer:i,topology:r}=t;if(this.buffers=[],this.attributes={},e)for(const n in e)this.addAttribute(n,e[n]);this.instanceCount=t.instanceCount??1,i&&this.addIndex(i),this.topology=r||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}addAttribute(t,e){const i=Of(e);this.buffers.indexOf(i.buffer)===-1&&(this.buffers.push(i.buffer),i.buffer.on("update",this.onBufferUpdate,this),i.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=i}addIndex(t){this.indexBuffer=Wo(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Gf(this,"aPosition",this._bounds)):this._bounds}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null)}destroy(t=!1){var e;this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.unload(),(e=this.indexBuffer)==null||e.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Nf=new Float32Array(1),Uf=new Uint32Array(1);class zf extends jf{constructor(){const e=new ys({data:Nf,label:"attribute-batch-buffer",usage:yt.VERTEX|yt.COPY_DST,shrinkToFit:!1}),i=new ys({data:Uf,label:"index-batch-buffer",usage:yt.INDEX|yt.COPY_DST,shrinkToFit:!1}),r=6*4;super({attributes:{aPosition:{buffer:e,format:"float32x2",stride:r,offset:0},aUV:{buffer:e,format:"float32x2",stride:r,offset:2*4},aColor:{buffer:e,format:"unorm8x4",stride:r,offset:4*4},aTextureIdAndRound:{buffer:e,format:"uint16x2",stride:r,offset:5*4}},indexBuffer:i})}}function On(s,t,e){if(s)for(const i in s){const r=i.toLocaleLowerCase(),n=t[r];if(n){let a=s[i];i==="header"&&(a=a.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),e&&n.push(`//----${e}----//`),n.push(a)}else Mt(`${i} placement hook does not exist in shader`)}}const Hf=/\{\{(.*?)\}\}/g;function jn(s){var i;const t={};return(((i=s.match(Hf))==null?void 0:i.map(r=>r.replace(/[{()}]/g,"")))??[]).forEach(r=>{t[r]=[]}),t}function Nn(s,t){let e;const i=/@in\s+([^;]+);/g;for(;(e=i.exec(s))!==null;)t.push(e[1])}function Un(s,t,e=!1){const i=[];Nn(t,i),s.forEach(o=>{o.header&&Nn(o.header,i)});const r=i;e&&r.sort();const n=r.map((o,l)=>`       @location(${l}) ${o},`).join(`
`);let a=t.replace(/@in\s+[^;]+;\s*/g,"");return a=a.replace("{{in}}",`
${n}
`),a}function zn(s,t){let e;const i=/@out\s+([^;]+);/g;for(;(e=i.exec(s))!==null;)t.push(e[1])}function Vf(s){const e=/\b(\w+)\s*:/g.exec(s);return e?e[1]:""}function $f(s){const t=/@.*?\s+/g;return s.replace(t,"")}function Yf(s,t){const e=[];zn(t,e),s.forEach(l=>{l.header&&zn(l.header,e)});let i=0;const r=e.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${i++}) ${l}`).join(`,
`),n=e.sort().map(l=>`       var ${$f(l)};`).join(`
`),a=`return VSOutput(
            ${e.sort().map(l=>` ${Vf(l)}`).join(`,
`)});`;let o=t.replace(/@out\s+[^;]+;\s*/g,"");return o=o.replace("{{struct}}",`
${r}
`),o=o.replace("{{start}}",`
${n}
`),o=o.replace("{{return}}",`
${a}
`),o}function Hn(s,t){let e=s;for(const i in t){const r=t[i];r.join(`
`).length?e=e.replace(`{{${i}}}`,`//-----${i} START-----//
${r.join(`
`)}
//----${i} FINISH----//`):e=e.replace(`{{${i}}}`,"")}return e}const ce=Object.create(null),Ui=new Map;let qf=0;function Wf({template:s,bits:t}){const e=Xo(s,t);if(ce[e])return ce[e];const{vertex:i,fragment:r}=Jf(s,t);return ce[e]=Jo(i,r,t),ce[e]}function Xf({template:s,bits:t}){const e=Xo(s,t);return ce[e]||(ce[e]=Jo(s.vertex,s.fragment,t)),ce[e]}function Jf(s,t){const e=t.map(a=>a.vertex).filter(a=>!!a),i=t.map(a=>a.fragment).filter(a=>!!a);let r=Un(e,s.vertex,!0);r=Yf(e,r);const n=Un(i,s.fragment,!0);return{vertex:r,fragment:n}}function Xo(s,t){return t.map(e=>(Ui.has(e)||Ui.set(e,qf++),Ui.get(e))).sort((e,i)=>e-i).join("-")+s.vertex+s.fragment}function Jo(s,t,e){const i=jn(s),r=jn(t);return e.forEach(n=>{On(n.vertex,i,n.name),On(n.fragment,r,n.name)}),{vertex:Hn(s,i),fragment:Hn(t,r)}}const Kf=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Zf=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Qf=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,tp=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,ep={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},sp={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function ip({bits:s,name:t}){const e=Wf({template:{fragment:Zf,vertex:Kf},bits:[ep,...s]});return yi.from({name:t,vertex:{source:e.vertex,entryPoint:"main"},fragment:{source:e.fragment,entryPoint:"main"}})}function rp({bits:s,name:t}){return new ko({name:t,...Xf({template:{vertex:Qf,fragment:tp},bits:[sp,...s]})})}const np={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},ap={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},zi={};function op(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let e=0;for(let i=0;i<s;i++)t.push(`@group(1) @binding(${e++}) var textureSource${i+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${e++}) var textureSampler${i+1}: sampler;`)}return t.join(`
`)}function lp(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let e=0;e<s;e++)e===s-1?t.push("  default:{"):t.push(`  case ${e}:{`),t.push(`      outColor = textureSampleGrad(textureSource${e+1}, textureSampler${e+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function hp(s){return zi[s]||(zi[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${op(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${lp(s)}
            `}}),zi[s]}const Hi={};function cp(s){const t=[];for(let e=0;e<s;e++)e>0&&t.push("else"),e<s-1&&t.push(`if(vTextureId < ${e}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${e}], vUV);`),t.push("}");return t.join(`
`)}function up(s){return Hi[s]||(Hi[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${cp(s)}
            `}}),Hi[s]}const dp={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},fp={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Vn={};function pp(s){let t=Vn[s];if(t)return t;const e=new Int32Array(s);for(let i=0;i<s;i++)e[i]=i;return t=Vn[s]=new Ro({uTextures:{value:e,type:"i32",size:s}},{isStatic:!0}),t}class $n extends Er{constructor(t){const e=rp({name:"batch",bits:[ap,up(t),fp]}),i=ip({name:"batch",bits:[np,hp(t),dp]});super({glProgram:e,gpuProgram:i,resources:{batchSamplers:pp(t)}}),this.maxTextures=t}}let Ke=null;const Ko=class Zo extends Ff{constructor(t){super(t),this.geometry=new zf,this.name=Zo.extension.name,this.vertexSize=6,Ke??(Ke=new $n(t.maxTextures)),this.shader=Ke}packAttributes(t,e,i,r,n){const a=n<<16|t.roundPixels&65535,o=t.transform,l=o.a,h=o.b,c=o.c,u=o.d,f=o.tx,d=o.ty,{positions:m,uvs:g}=t,p=t.color,_=t.attributeOffset,y=_+t.attributeSize;for(let v=_;v<y;v++){const x=v*2,S=m[x],C=m[x+1];e[r++]=l*S+c*C+f,e[r++]=u*C+h*S+d,e[r++]=g[x],e[r++]=g[x+1],i[r++]=p,i[r++]=a}}packQuadAttributes(t,e,i,r,n){const a=t.texture,o=t.transform,l=o.a,h=o.b,c=o.c,u=o.d,f=o.tx,d=o.ty,m=t.bounds,g=m.maxX,p=m.minX,_=m.maxY,y=m.minY,v=a.uvs,x=t.color,S=n<<16|t.roundPixels&65535;e[r+0]=l*p+c*y+f,e[r+1]=u*y+h*p+d,e[r+2]=v.x0,e[r+3]=v.y0,i[r+4]=x,i[r+5]=S,e[r+6]=l*g+c*y+f,e[r+7]=u*y+h*g+d,e[r+8]=v.x1,e[r+9]=v.y1,i[r+10]=x,i[r+11]=S,e[r+12]=l*g+c*_+f,e[r+13]=u*_+h*g+d,e[r+14]=v.x2,e[r+15]=v.y2,i[r+16]=x,i[r+17]=S,e[r+18]=l*p+c*_+f,e[r+19]=u*_+h*p+d,e[r+20]=v.x3,e[r+21]=v.y3,i[r+22]=x,i[r+23]=S}_updateMaxTextures(t){this.shader.maxTextures!==t&&(Ke=new $n(t),this.shader=Ke)}destroy(){this.shader=null,super.destroy()}};Ko.extension={type:[$.Batcher],name:"default"};let mp=Ko;class gp{constructor(t){this.items=Object.create(null);const{renderer:e,type:i,onUnload:r,priority:n,name:a}=t;this._renderer=e,e.gc.addResourceHash(this,"items",i,n??0),this._onUnload=r,this.name=a}add(t){return this.items[t.uid]?!1:(this.items[t.uid]=t,t.once("unload",this.remove,this),t._gcLastUsed=this._renderer.gc.now,!0)}remove(t,...e){var r;if(!this.items[t.uid])return;const i=t._gpuData[this._renderer.uid];i&&((r=this._onUnload)==null||r.call(this,t,...e),i.destroy(),t._gpuData[this._renderer.uid]=null,this.items[t.uid]=null)}removeAll(...t){Object.values(this.items).forEach(e=>e&&this.remove(e,...t))}destroy(...t){this.removeAll(...t),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function _p(s,t,e,i,r,n,a,o=null){let l=0;e*=t,r*=n;const h=o.a,c=o.b,u=o.c,f=o.d,d=o.tx,m=o.ty;for(;l<a;){const g=s[e],p=s[e+1];i[r]=h*g+u*p+d,i[r+1]=c*g+f*p+m,r+=n,e+=t,l++}}function vp(s,t,e,i){let r=0;for(t*=e;r<i;)s[t]=0,s[t+1]=0,t+=e,r++}function Qo(s,t,e,i,r){const n=t.a,a=t.b,o=t.c,l=t.d,h=t.tx,c=t.ty;e||(e=0),i||(i=2),r||(r=s.length/i-e);let u=e*i;for(let f=0;f<r;f++){const d=s[u],m=s[u+1];s[u]=n*d+o*m+h,s[u+1]=a*d+l*m+c,u+=i}}const xp=new z;class tl{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,e=t>>16|t&65280|(t&255)<<16,i=this.renderable;return i?io(e,i.groupColor)+(this.alpha*i.groupAlpha*255<<24):e+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||xp}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const bs={extension:{type:$.ShapeBuilder,name:"circle"},build(s,t){let e,i,r,n,a,o;if(s.type==="circle"){const x=s;if(a=o=x.radius,a<=0)return!1;e=x.x,i=x.y,r=n=0}else if(s.type==="ellipse"){const x=s;if(a=x.halfWidth,o=x.halfHeight,a<=0||o<=0)return!1;e=x.x,i=x.y,r=n=0}else{const x=s,S=x.width/2,C=x.height/2;e=x.x+S,i=x.y+C,a=o=Math.max(0,Math.min(x.radius,Math.min(S,C))),r=S-a,n=C-o}if(r<0||n<0)return!1;const l=Math.ceil(2.3*Math.sqrt(a+o)),h=l*8+(r?4:0)+(n?4:0);if(h===0)return!1;if(l===0)return t[0]=t[6]=e+r,t[1]=t[3]=i+n,t[2]=t[4]=e-r,t[5]=t[7]=i-n,!0;let c=0,u=l*4+(r?2:0)+2,f=u,d=h,m=r+a,g=n,p=e+m,_=e-m,y=i+g;if(t[c++]=p,t[c++]=y,t[--u]=y,t[--u]=_,n){const x=i-g;t[f++]=_,t[f++]=x,t[--d]=x,t[--d]=p}for(let x=1;x<l;x++){const S=Math.PI/2*(x/l),C=r+Math.cos(S)*a,w=n+Math.sin(S)*o,R=e+C,I=e-C,k=i+w,M=i-w;t[c++]=R,t[c++]=k,t[--u]=k,t[--u]=I,t[f++]=I,t[f++]=M,t[--d]=M,t[--d]=R}m=r,g=n+o,p=e+m,_=e-m,y=i+g;const v=i-g;return t[c++]=p,t[c++]=y,t[--d]=v,t[--d]=p,r&&(t[c++]=_,t[c++]=y,t[--d]=v,t[--d]=_),!0},triangulate(s,t,e,i,r,n){if(s.length===0)return;let a=0,o=0;for(let c=0;c<s.length;c+=2)a+=s[c],o+=s[c+1];a/=s.length/2,o/=s.length/2;let l=i;t[l*e]=a,t[l*e+1]=o;const h=l++;for(let c=0;c<s.length;c+=2)t[l*e]=s[c],t[l*e+1]=s[c+1],c>0&&(r[n++]=l,r[n++]=h,r[n++]=l-1),l++;r[n++]=h+1,r[n++]=h,r[n++]=l-1}},yp={...bs,extension:{...bs.extension,name:"ellipse"}},bp={...bs,extension:{...bs.extension,name:"roundedRectangle"}},el=1e-4,Yn=1e-4;function wp(s){const t=s.length;if(t<6)return 1;let e=0;for(let i=0,r=s[t-2],n=s[t-1];i<t;i+=2){const a=s[i],o=s[i+1];e+=(a-r)*(o+n),r=a,n=o}return e<0?-1:1}function qn(s,t,e,i,r,n,a,o){const l=s-e*r,h=t-i*r,c=s+e*n,u=t+i*n;let f,d;a?(f=i,d=-e):(f=-i,d=e);const m=l+f,g=h+d,p=c+f,_=u+d;return o.push(m,g),o.push(p,_),2}function ve(s,t,e,i,r,n,a,o){const l=e-s,h=i-t;let c=Math.atan2(l,h),u=Math.atan2(r-s,n-t);o&&c<u?c+=Math.PI*2:!o&&c>u&&(u+=Math.PI*2);let f=c;const d=u-c,m=Math.abs(d),g=Math.sqrt(l*l+h*h),p=(15*m*Math.sqrt(g)/Math.PI>>0)+1,_=d/p;if(f+=_,o){a.push(s,t),a.push(e,i);for(let y=1,v=f;y<p;y++,v+=_)a.push(s,t),a.push(s+Math.sin(v)*g,t+Math.cos(v)*g);a.push(s,t),a.push(r,n)}else{a.push(e,i),a.push(s,t);for(let y=1,v=f;y<p;y++,v+=_)a.push(s+Math.sin(v)*g,t+Math.cos(v)*g),a.push(s,t);a.push(r,n),a.push(s,t)}return p*2}function Sp(s,t,e,i,r,n){const a=el;if(s.length===0)return;const o=t;let l=o.alignment;if(t.alignment!==.5){let G=wp(s);l=(l-.5)*G+.5}const h=new pt(s[0],s[1]),c=new pt(s[s.length-2],s[s.length-1]),u=i,f=Math.abs(h.x-c.x)<a&&Math.abs(h.y-c.y)<a;if(u){s=s.slice(),f&&(s.pop(),s.pop(),c.set(s[s.length-2],s[s.length-1]));const G=(h.x+c.x)*.5,rt=(c.y+h.y)*.5;s.unshift(G,rt),s.push(G,rt)}const d=r,m=s.length/2;let g=s.length;const p=d.length/2,_=o.width/2,y=_*_,v=o.miterLimit*o.miterLimit;let x=s[0],S=s[1],C=s[2],w=s[3],R=0,I=0,k=-(S-w),M=x-C,D=0,j=0,N=Math.sqrt(k*k+M*M);k/=N,M/=N,k*=_,M*=_;const O=l,T=(1-O)*2,L=O*2;u||(o.cap==="round"?g+=ve(x-k*(T-L)*.5,S-M*(T-L)*.5,x-k*T,S-M*T,x+k*L,S+M*L,d,!0)+2:o.cap==="square"&&(g+=qn(x,S,k,M,T,L,!0,d))),d.push(x-k*T,S-M*T),d.push(x+k*L,S+M*L);for(let G=1;G<m-1;++G){x=s[(G-1)*2],S=s[(G-1)*2+1],C=s[G*2],w=s[G*2+1],R=s[(G+1)*2],I=s[(G+1)*2+1],k=-(S-w),M=x-C,N=Math.sqrt(k*k+M*M),k/=N,M/=N,k*=_,M*=_,D=-(w-I),j=C-R,N=Math.sqrt(D*D+j*j),D/=N,j/=N,D*=_,j*=_;const rt=C-x,vt=S-w,dt=C-R,ot=I-w,St=rt*dt+vt*ot,E=vt*dt-ot*rt,V=E<0;if(Math.abs(E)<.001*Math.abs(St)){d.push(C-k*T,w-M*T),d.push(C+k*L,w+M*L),St>=0&&(o.join==="round"?g+=ve(C,w,C-k*T,w-M*T,C-D*T,w-j*T,d,!1)+4:g+=2,d.push(C-D*L,w-j*L),d.push(C+D*T,w+j*T));continue}const oe=(-k+x)*(-M+w)-(-k+C)*(-M+S),Ee=(-D+R)*(-j+w)-(-D+C)*(-j+I),Ie=(rt*Ee-dt*oe)/E,Re=(ot*oe-vt*Ee)/E,Vt=(Ie-C)*(Ie-C)+(Re-w)*(Re-w),Ct=C+(Ie-C)*T,Qt=w+(Re-w)*T,ge=C-(Ie-C)*L,_e=w-(Re-w)*L,ll=Math.min(rt*rt+vt*vt,dt*dt+ot*ot),Gr=V?T:L,hl=ll+Gr*Gr*y;Vt<=hl?o.join==="bevel"||Vt/y>v?(V?(d.push(Ct,Qt),d.push(C+k*L,w+M*L),d.push(Ct,Qt),d.push(C+D*L,w+j*L)):(d.push(C-k*T,w-M*T),d.push(ge,_e),d.push(C-D*T,w-j*T),d.push(ge,_e)),g+=2):o.join==="round"?V?(d.push(Ct,Qt),d.push(C+k*L,w+M*L),g+=ve(C,w,C+k*L,w+M*L,C+D*L,w+j*L,d,!0)+4,d.push(Ct,Qt),d.push(C+D*L,w+j*L)):(d.push(C-k*T,w-M*T),d.push(ge,_e),g+=ve(C,w,C-k*T,w-M*T,C-D*T,w-j*T,d,!1)+4,d.push(C-D*T,w-j*T),d.push(ge,_e)):(d.push(Ct,Qt),d.push(ge,_e)):(d.push(C-k*T,w-M*T),d.push(C+k*L,w+M*L),o.join==="round"?V?g+=ve(C,w,C+k*L,w+M*L,C+D*L,w+j*L,d,!0)+2:g+=ve(C,w,C-k*T,w-M*T,C-D*T,w-j*T,d,!1)+2:o.join==="miter"&&Vt/y<=v&&(V?(d.push(ge,_e),d.push(ge,_e)):(d.push(Ct,Qt),d.push(Ct,Qt)),g+=2),d.push(C-D*T,w-j*T),d.push(C+D*L,w+j*L),g+=2)}x=s[(m-2)*2],S=s[(m-2)*2+1],C=s[(m-1)*2],w=s[(m-1)*2+1],k=-(S-w),M=x-C,N=Math.sqrt(k*k+M*M),k/=N,M/=N,k*=_,M*=_,d.push(C-k*T,w-M*T),d.push(C+k*L,w+M*L),u||(o.cap==="round"?g+=ve(C-k*(T-L)*.5,w-M*(T-L)*.5,C-k*T,w-M*T,C+k*L,w+M*L,d,!1)+2:o.cap==="square"&&(g+=qn(C,w,k,M,T,L,!1,d)));const st=Yn*Yn;for(let G=p;G<g+p-2;++G)x=d[G*2],S=d[G*2+1],C=d[(G+1)*2],w=d[(G+1)*2+1],R=d[(G+2)*2],I=d[(G+2)*2+1],!(Math.abs(x*(w-I)+C*(I-S)+R*(S-w))<st)&&n.push(G,G+1,G+2)}function Cp(s,t,e,i){const r=el;if(s.length===0)return;const n=s[0],a=s[1],o=s[s.length-2],l=s[s.length-1],h=t||Math.abs(n-o)<r&&Math.abs(a-l)<r,c=e,u=s.length/2,f=c.length/2;for(let d=0;d<u;d++)c.push(s[d*2]),c.push(s[d*2+1]);for(let d=0;d<u-1;d++)i.push(f+d,f+d+1);h&&i.push(f+u-1,f)}function sl(s,t,e,i,r,n,a){const o=cf(s,t,2);if(!o)return;for(let h=0;h<o.length;h+=3)n[a++]=o[h]+r,n[a++]=o[h+1]+r,n[a++]=o[h+2]+r;let l=r*i;for(let h=0;h<s.length;h+=2)e[l]=s[h],e[l+1]=s[h+1],l+=i}const Ap=[],Pp={extension:{type:$.ShapeBuilder,name:"polygon"},build(s,t){for(let e=0;e<s.points.length;e++)t[e]=s.points[e];return!0},triangulate(s,t,e,i,r,n){sl(s,Ap,t,e,i,r,n)}},Tp={extension:{type:$.ShapeBuilder,name:"rectangle"},build(s,t){const e=s,i=e.x,r=e.y,n=e.width,a=e.height;return n>0&&a>0?(t[0]=i,t[1]=r,t[2]=i+n,t[3]=r,t[4]=i+n,t[5]=r+a,t[6]=i,t[7]=r+a,!0):!1},triangulate(s,t,e,i,r,n){let a=0;i*=e,t[i+a]=s[0],t[i+a+1]=s[1],a+=e,t[i+a]=s[2],t[i+a+1]=s[3],a+=e,t[i+a]=s[6],t[i+a+1]=s[7],a+=e,t[i+a]=s[4],t[i+a+1]=s[5],a+=e;const o=i/e;r[n++]=o,r[n++]=o+1,r[n++]=o+2,r[n++]=o+1,r[n++]=o+3,r[n++]=o+2}},kp={extension:{type:$.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,!0},triangulate(s,t,e,i,r,n){let a=0;i*=e,t[i+a]=s[0],t[i+a+1]=s[1],a+=e,t[i+a]=s[2],t[i+a+1]=s[3],a+=e,t[i+a]=s[4],t[i+a+1]=s[5];const o=i/e;r[n++]=o,r[n++]=o+1,r[n++]=o+2}},Mp=new z,Ep=new ht;function Ip(s,t,e,i){const r=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const a=e.getBounds(Ep);t.width&&a.pad(t.width);const{x:o,y:l}=a,h=1/a.width,c=1/a.height,u=-o*h,f=-l*c,d=r.a,m=r.b,g=r.c,p=r.d;r.a*=h,r.b*=h,r.c*=c,r.d*=c,r.tx=u*d+f*g+r.tx,r.ty=u*m+f*p+r.ty}else r.translate(t.texture.frame.x,t.texture.frame.y),r.scale(1/t.texture.source.width,1/t.texture.source.height);const n=t.texture.source.style;return!(t.fill instanceof Ps)&&n.addressMode==="clamp-to-edge"&&(n.addressMode="repeat",n.update()),i&&r.append(Mp.copyFrom(i).invert()),r}const bi={};Ft.handleByMap($.ShapeBuilder,bi);Ft.add(Tp,Pp,kp,bs,yp,bp);const Rp=new ht,Lp=new z;function Bp(s,t){const{geometryData:e,batches:i}=t;i.length=0,e.indices.length=0,e.vertices.length=0,e.uvs.length=0;for(let r=0;r<s.instructions.length;r++){const n=s.instructions[r];if(n.action==="texture")Dp(n.data,i,e);else if(n.action==="fill"||n.action==="stroke"){const a=n.action==="stroke",o=n.data.path.shapePath,l=n.data.style,h=n.data.hole;a&&h&&Wn(h.shapePath,l,!0,i,e),h&&(o.shapePrimitives[o.shapePrimitives.length-1].holes=h.shapePath.shapePrimitives),Wn(o,l,a,i,e)}}}function Dp(s,t,e){const i=[],r=bi.rectangle,n=Rp;n.x=s.dx,n.y=s.dy,n.width=s.dw,n.height=s.dh;const a=s.transform;if(!r.build(n,i))return;const{vertices:o,uvs:l,indices:h}=e,c=h.length,u=o.length/2;a&&Qo(i,a),r.triangulate(i,o,2,u,h,c);const f=s.image,d=f.uvs;l.push(d.x0,d.y0,d.x1,d.y1,d.x3,d.y3,d.x2,d.y2);const m=Dt.get(tl);m.indexOffset=c,m.indexSize=h.length-c,m.attributeOffset=u,m.attributeSize=o.length/2-u,m.baseColor=s.style,m.alpha=s.alpha,m.texture=f,m.geometryData=e,t.push(m)}function Wn(s,t,e,i,r){const{vertices:n,uvs:a,indices:o}=r;s.shapePrimitives.forEach(({shape:l,transform:h,holes:c})=>{const u=[],f=bi[l.type];if(!f.build(l,u))return;const d=o.length,m=n.length/2;let g="triangle-list";if(h&&Qo(u,h),e){const v=l.closePath??!0,x=t;x.pixelLine?(Cp(u,v,n,o),g="line-list"):Sp(u,x,!1,v,n,o)}else if(c){const v=[],x=u.slice();Fp(c).forEach(C=>{v.push(x.length/2),x.push(...C)}),sl(x,v,n,2,m,o,d)}else f.triangulate(u,n,2,m,o,d);const p=a.length/2,_=t.texture;if(_!==X.WHITE){const v=Ip(Lp,t,l,h);_p(n,2,m,a,p,2,n.length/2-m,v)}else vp(a,p,2,n.length/2-m);const y=Dt.get(tl);y.indexOffset=d,y.indexSize=o.length-d,y.attributeOffset=m,y.attributeSize=n.length/2-m,y.baseColor=t.color,y.alpha=t.alpha,y.texture=_,y.geometryData=r,y.topology=g,i.push(y)})}function Fp(s){const t=[];for(let e=0;e<s.length;e++){const i=s[e].shape,r=[];bi[i.type].build(i,r)&&t.push(r)}return t}class Gp{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(t=>{Dt.return(t)}),this.graphicsData&&Dt.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class Op{constructor(){this.instructions=new oo}init(t){const e=t.maxTextures;this.batcher?this.batcher._updateMaxTextures(e):this.batcher=new mp({maxTextures:e}),this.instructions.reset()}get geometry(){return Y(Ru,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const Dr=class dr{constructor(t){this._renderer=t,this._managedContexts=new gp({renderer:t,type:"resource",name:"graphicsContext"})}init(t){dr.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??dr.defaultOptions.bezierSmoothness}getContextRenderData(t){return t._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(t)}updateGpuContext(t){const e=!!t._gpuData[this._renderer.uid],i=t._gpuData[this._renderer.uid]||this._initContext(t);if(t.dirty||!e){e&&i.reset(),Bp(t,i);const r=t.batchMode;t.customShader||r==="no-batch"?i.isBatchable=!1:r==="auto"?i.isBatchable=i.geometryData.vertices.length<400:i.isBatchable=!0,t.dirty=!1}return i}getGpuContext(t){return t._gpuData[this._renderer.uid]||this._initContext(t)}_initContextRenderData(t){const e=Dt.get(Op,{maxTextures:this._renderer.limits.maxBatchableTextures}),i=t._gpuData[this._renderer.uid],{batches:r,geometryData:n}=i;i.graphicsData=e;const a=n.vertices.length,o=n.indices.length;for(let u=0;u<r.length;u++)r[u].applyTransform=!1;const l=e.batcher;l.ensureAttributeBuffer(a),l.ensureIndexBuffer(o),l.begin();for(let u=0;u<r.length;u++){const f=r[u];l.add(f)}l.finish(e.instructions);const h=l.geometry;h.indexBuffer.setDataWithSize(l.indexBuffer,l.indexSize,!0),h.buffers[0].setDataWithSize(l.attributeBuffer.float32View,l.attributeSize,!0);const c=l.batches;for(let u=0;u<c.length;u++){const f=c[u];f.bindGroup=Pf(f.textures.textures,f.textures.count,this._renderer.limits.maxBatchableTextures)}return e}_initContext(t){const e=new Gp;return e.context=t,t._gpuData[this._renderer.uid]=e,this._managedContexts.add(t),e}destroy(){this._managedContexts.destroy(),this._renderer=null}};Dr.extension={type:[$.WebGLSystem,$.WebGPUSystem,$.CanvasSystem],name:"graphicsContext"};Dr.defaultOptions={bezierSmoothness:.5};let il=Dr;const jp=8,Us=11920929e-14,Np=1;function rl(s,t,e,i,r,n,a,o,l,h){const u=Math.min(.99,Math.max(0,h??il.defaultOptions.bezierSmoothness));let f=(Np-u)/1;return f*=f,Up(t,e,i,r,n,a,o,l,s,f),s}function Up(s,t,e,i,r,n,a,o,l,h){fr(s,t,e,i,r,n,a,o,l,h,0),l.push(a,o)}function fr(s,t,e,i,r,n,a,o,l,h,c){if(c>jp)return;const u=(s+e)/2,f=(t+i)/2,d=(e+r)/2,m=(i+n)/2,g=(r+a)/2,p=(n+o)/2,_=(u+d)/2,y=(f+m)/2,v=(d+g)/2,x=(m+p)/2,S=(_+v)/2,C=(y+x)/2;if(c>0){let w=a-s,R=o-t;const I=Math.abs((e-a)*R-(i-o)*w),k=Math.abs((r-a)*R-(n-o)*w);if(I>Us&&k>Us){if((I+k)*(I+k)<=h*(w*w+R*R)){l.push(S,C);return}}else if(I>Us){if(I*I<=h*(w*w+R*R)){l.push(S,C);return}}else if(k>Us){if(k*k<=h*(w*w+R*R)){l.push(S,C);return}}else if(w=S-(s+a)/2,R=C-(t+o)/2,w*w+R*R<=h){l.push(S,C);return}}fr(s,t,u,f,_,y,S,C,l,h,c+1),fr(S,C,v,x,g,p,a,o,l,h,c+1)}const zp=8,Hp=11920929e-14,Vp=1;function $p(s,t,e,i,r,n,a,o){const h=Math.min(.99,Math.max(0,o??il.defaultOptions.bezierSmoothness));let c=(Vp-h)/1;return c*=c,Yp(t,e,i,r,n,a,s,c),s}function Yp(s,t,e,i,r,n,a,o){pr(a,s,t,e,i,r,n,o,0),a.push(r,n)}function pr(s,t,e,i,r,n,a,o,l){if(l>zp)return;const h=(t+i)/2,c=(e+r)/2,u=(i+n)/2,f=(r+a)/2,d=(h+u)/2,m=(c+f)/2;let g=n-t,p=a-e;const _=Math.abs((i-n)*p-(r-a)*g);if(_>Hp){if(_*_<=o*(g*g+p*p)){s.push(d,m);return}}else if(g=d-(t+n)/2,p=m-(e+a)/2,g*g+p*p<=o){s.push(d,m);return}pr(s,t,e,h,c,d,m,o,l+1),pr(s,d,m,u,f,n,a,o,l+1)}function nl(s,t,e,i,r,n,a,o){let l=Math.abs(r-n);(!a&&r>n||a&&n>r)&&(l=2*Math.PI-l),o||(o=Math.max(6,Math.floor(6*Math.pow(i,1/3)*(l/Math.PI)))),o=Math.max(o,3);let h=l/o,c=r;h*=a?-1:1;for(let u=0;u<o+1;u++){const f=Math.cos(c),d=Math.sin(c),m=t+f*i,g=e+d*i;s.push(m,g),c+=h}}function qp(s,t,e,i,r,n){const a=s[s.length-2],l=s[s.length-1]-e,h=a-t,c=r-e,u=i-t,f=Math.abs(l*u-h*c);if(f<1e-8||n===0){(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e);return}const d=l*l+h*h,m=c*c+u*u,g=l*c+h*u,p=n*Math.sqrt(d)/f,_=n*Math.sqrt(m)/f,y=p*g/d,v=_*g/m,x=p*u+_*h,S=p*c+_*l,C=h*(_+y),w=l*(_+y),R=u*(p+v),I=c*(p+v),k=Math.atan2(w-S,C-x),M=Math.atan2(I-S,R-x);nl(s,x+t,S+e,n,k,M,h*c>u*l)}const us=Math.PI*2,Vi={centerX:0,centerY:0,ang1:0,ang2:0},$i=({x:s,y:t},e,i,r,n,a,o,l)=>{s*=e,t*=i;const h=r*s-n*t,c=n*s+r*t;return l.x=h+a,l.y=c+o,l};function Wp(s,t){const e=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),i=t===1.5707963267948966?.551915024494:e,r=Math.cos(s),n=Math.sin(s),a=Math.cos(s+t),o=Math.sin(s+t);return[{x:r-n*i,y:n+r*i},{x:a+o*i,y:o-a*i},{x:a,y:o}]}const Xn=(s,t,e,i)=>{const r=s*i-t*e<0?-1:1;let n=s*e+t*i;return n>1&&(n=1),n<-1&&(n=-1),r*Math.acos(n)},Xp=(s,t,e,i,r,n,a,o,l,h,c,u,f)=>{const d=Math.pow(r,2),m=Math.pow(n,2),g=Math.pow(c,2),p=Math.pow(u,2);let _=d*m-d*p-m*g;_<0&&(_=0),_/=d*p+m*g,_=Math.sqrt(_)*(a===o?-1:1);const y=_*r/n*u,v=_*-n/r*c,x=h*y-l*v+(s+e)/2,S=l*y+h*v+(t+i)/2,C=(c-y)/r,w=(u-v)/n,R=(-c-y)/r,I=(-u-v)/n,k=Xn(1,0,C,w);let M=Xn(C,w,R,I);o===0&&M>0&&(M-=us),o===1&&M<0&&(M+=us),f.centerX=x,f.centerY=S,f.ang1=k,f.ang2=M};function Jp(s,t,e,i,r,n,a,o=0,l=0,h=0){if(n===0||a===0)return;const c=Math.sin(o*us/360),u=Math.cos(o*us/360),f=u*(t-i)/2+c*(e-r)/2,d=-c*(t-i)/2+u*(e-r)/2;if(f===0&&d===0)return;n=Math.abs(n),a=Math.abs(a);const m=Math.pow(f,2)/Math.pow(n,2)+Math.pow(d,2)/Math.pow(a,2);m>1&&(n*=Math.sqrt(m),a*=Math.sqrt(m)),Xp(t,e,i,r,n,a,l,h,c,u,f,d,Vi);let{ang1:g,ang2:p}=Vi;const{centerX:_,centerY:y}=Vi;let v=Math.abs(p)/(us/4);Math.abs(1-v)<1e-7&&(v=1);const x=Math.max(Math.ceil(v),1);p/=x;let S=s[s.length-2],C=s[s.length-1];const w={x:0,y:0};for(let R=0;R<x;R++){const I=Wp(g,p),{x:k,y:M}=$i(I[0],n,a,u,c,_,y,w),{x:D,y:j}=$i(I[1],n,a,u,c,_,y,w),{x:N,y:O}=$i(I[2],n,a,u,c,_,y,w);rl(s,S,C,k,M,D,j,N,O),S=N,C=O,g+=p}}function Kp(s,t,e){const i=(a,o)=>{const l=o.x-a.x,h=o.y-a.y,c=Math.sqrt(l*l+h*h),u=l/c,f=h/c;return{len:c,nx:u,ny:f}},r=(a,o)=>{a===0?s.moveTo(o.x,o.y):s.lineTo(o.x,o.y)};let n=t[t.length-1];for(let a=0;a<t.length;a++){const o=t[a%t.length],l=o.radius??e;if(l<=0){r(a,o),n=o;continue}const h=t[(a+1)%t.length],c=i(o,n),u=i(o,h);if(c.len<1e-4||u.len<1e-4){r(a,o),n=o;continue}let f=Math.asin(c.nx*u.ny-c.ny*u.nx),d=1,m=!1;c.nx*u.nx-c.ny*-u.ny<0?f<0?f=Math.PI+f:(f=Math.PI-f,d=-1,m=!0):f>0&&(d=-1,m=!0);const g=f/2;let p,_=Math.abs(Math.cos(g)*l/Math.sin(g));_>Math.min(c.len/2,u.len/2)?(_=Math.min(c.len/2,u.len/2),p=Math.abs(_*Math.sin(g)/Math.cos(g))):p=l;const y=o.x+u.nx*_+-u.ny*p*d,v=o.y+u.ny*_+u.nx*p*d,x=Math.atan2(c.ny,c.nx)+Math.PI/2*d,S=Math.atan2(u.ny,u.nx)-Math.PI/2*d;a===0&&s.moveTo(y+Math.cos(x)*p,v+Math.sin(x)*p),s.arc(y,v,p,x,S,m),n=o}}function Zp(s,t,e,i){const r=(o,l)=>Math.sqrt((o.x-l.x)**2+(o.y-l.y)**2),n=(o,l,h)=>({x:o.x+(l.x-o.x)*h,y:o.y+(l.y-o.y)*h}),a=t.length;for(let o=0;o<a;o++){const l=t[(o+1)%a],h=l.radius??e;if(h<=0){o===0?s.moveTo(l.x,l.y):s.lineTo(l.x,l.y);continue}const c=t[o],u=t[(o+2)%a],f=r(c,l);let d;if(f<1e-4)d=l;else{const p=Math.min(f/2,h);d=n(l,c,p/f)}const m=r(u,l);let g;if(m<1e-4)g=l;else{const p=Math.min(m/2,h);g=n(l,u,p/m)}o===0?s.moveTo(d.x,d.y):s.lineTo(d.x,d.y),s.quadraticCurveTo(l.x,l.y,g.x,g.y,i)}}const Qp=new ht;class tm{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Nt,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const i=this._currentPoly.points,r=i[i.length-2],n=i[i.length-1];return(r!==t||n!==e)&&i.push(t,e),this}arc(t,e,i,r,n,a){this._ensurePoly(!1);const o=this._currentPoly.points;return nl(o,t,e,i,r,n,a),this}arcTo(t,e,i,r,n){this._ensurePoly();const a=this._currentPoly.points;return qp(a,t,e,i,r,n),this}arcToSvg(t,e,i,r,n,a,o){const l=this._currentPoly.points;return Jp(l,this._currentPoly.lastX,this._currentPoly.lastY,a,o,t,e,i,r,n),this}bezierCurveTo(t,e,i,r,n,a,o){this._ensurePoly();const l=this._currentPoly;return rl(this._currentPoly.points,l.lastX,l.lastY,t,e,i,r,n,a,o),this}quadraticCurveTo(t,e,i,r,n){this._ensurePoly();const a=this._currentPoly;return $p(this._currentPoly.points,a.lastX,a.lastY,t,e,i,r,n),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0),t.transform(e));const i=this.shapePrimitives,r=i.length;for(let n=0;n<t.instructions.length;n++){const a=t.instructions[n];this[a.action](...a.data)}if(t.checkForHoles&&i.length-r>1){let n=null;for(let a=r;a<i.length;a++){const o=i[a];if(o.shape.type==="polygon"){const l=o.shape,h=n==null?void 0:n.shape;h&&h.containsPolygon(l)?(n.holes||(n.holes=[]),n.holes.push(o),i.copyWithin(a,a+1),i.length--,a--):n=o}}}return this}finish(t=!1){this.endPoly(t)}rect(t,e,i,r,n){return this.drawShape(new ht(t,e,i,r),n),this}circle(t,e,i,r){return this.drawShape(new Rr(t,e,i),r),this}poly(t,e,i){const r=new hs(t);return r.closePath=e,this.drawShape(r,i),this}regularPoly(t,e,i,r,n=0,a){r=Math.max(r|0,3);const o=-1*Math.PI/2+n,l=Math.PI*2/r,h=[];for(let c=0;c<r;c++){const u=o-c*l;h.push(t+i*Math.cos(u),e+i*Math.sin(u))}return this.poly(h,!0,a),this}roundPoly(t,e,i,r,n,a=0,o){if(r=Math.max(r|0,3),n<=0)return this.regularPoly(t,e,i,r,a);const l=i*Math.sin(Math.PI/r)-.001;n=Math.min(n,l);const h=-1*Math.PI/2+a,c=Math.PI*2/r,u=(r-2)*Math.PI/r/2;for(let f=0;f<r;f++){const d=f*c+h,m=t+i*Math.cos(d),g=e+i*Math.sin(d),p=d+Math.PI+u,_=d-Math.PI-u,y=m+n*Math.cos(p),v=g+n*Math.sin(p),x=m+n*Math.cos(_),S=g+n*Math.sin(_);f===0?this.moveTo(y,v):this.lineTo(y,v),this.quadraticCurveTo(m,g,x,S,o)}return this.closePath()}roundShape(t,e,i=!1,r){return t.length<3?this:(i?Zp(this,t,e,r):Kp(this,t,e),this.closePath())}filletRect(t,e,i,r,n){if(n===0)return this.rect(t,e,i,r);const a=Math.min(i,r)/2,o=Math.min(a,Math.max(-a,n)),l=t+i,h=e+r,c=o<0?-o:0,u=Math.abs(o);return this.moveTo(t,e+u).arcTo(t+c,e+c,t+u,e,u).lineTo(l-u,e).arcTo(l-c,e+c,l,e+u,u).lineTo(l,h-u).arcTo(l-c,h-c,t+i-u,h,u).lineTo(t+u,h).arcTo(t+c,h-c,t,h-u,u).closePath()}chamferRect(t,e,i,r,n,a){if(n<=0)return this.rect(t,e,i,r);const o=Math.min(n,Math.min(i,r)/2),l=t+i,h=e+r,c=[t+o,e,l-o,e,l,e+o,l,h-o,l-o,h,t+o,h,t,h-o,t,e+o];for(let u=c.length-1;u>=2;u-=2)c[u]===c[u-2]&&c[u-1]===c[u-3]&&c.splice(u-1,2);return this.poly(c,!0,a)}ellipse(t,e,i,r,n){return this.drawShape(new Lr(t,e,i,r),n),this}roundRect(t,e,i,r,n,a){return this.drawShape(new Br(t,e,i,r,n),a),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let i=this._currentPoly;return i&&this.endPoly(),i=new hs,i.points.push(t,e),this._currentPoly=i,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new hs,t)){const e=this.shapePrimitives[this.shapePrimitives.length-1];if(e){let i=e.shape.x,r=e.shape.y;if(e.transform&&!e.transform.isIdentity()){const n=e.transform,a=i;i=n.a*i+n.c*r+n.tx,r=n.b*a+n.d*r+n.ty}this._currentPoly.points.push(i,r)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const i=t.instructions[e];this[i.action](...i.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let i=0;i<e.length;i++){const r=e[i],n=r.shape.getBounds(Qp);r.transform?t.addRect(n,r.transform):t.addRect(n)}return t}}class ie{constructor(t,e=!1){this.instructions=[],this.uid=nt("graphicsPath"),this._dirty=!0,this.checkForHoles=e,typeof t=="string"?wf(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new tm(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,i,r,n){const a=this.instructions[this.instructions.length-1],o=this.getLastPoint(pt.shared);let l=0,h=0;if(!a||a.action!=="bezierCurveTo")l=o.x,h=o.y;else{l=a.data[2],h=a.data[3];const c=o.x,u=o.y;l=c+(c-l),h=u+(u-h)}return this.instructions.push({action:"bezierCurveTo",data:[l,h,t,e,i,r,n]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,i){const r=this.instructions[this.instructions.length-1],n=this.getLastPoint(pt.shared);let a=0,o=0;if(!r||r.action!=="quadraticCurveTo")a=n.x,o=n.y;else{a=r.data[0],o=r.data[1];const l=n.x,h=n.y;a=l+(l-a),o=h+(h-o)}return this.instructions.push({action:"quadraticCurveTo",data:[a,o,t,e,i]}),this._dirty=!0,this}rect(t,e,i,r,n){return this.instructions.push({action:"rect",data:[t,e,i,r,n]}),this._dirty=!0,this}circle(t,e,i,r){return this.instructions.push({action:"circle",data:[t,e,i,r]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,i,r,n,a,o){n||(n=r/2);const l=-1*Math.PI/2+a,h=i*2,c=Math.PI*2/h,u=[];for(let f=0;f<h;f++){const d=f%2?n:r,m=f*c+l;u.push(t+d*Math.cos(m),e+d*Math.sin(m))}return this.poly(u,!0,o),this}clone(t=!1){const e=new ie;if(e.checkForHoles=this.checkForHoles,!t)e.instructions=this.instructions.slice();else for(let i=0;i<this.instructions.length;i++){const r=this.instructions[i];e.instructions.push({action:r.action,data:r.data.slice()})}return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,i=t.b,r=t.c,n=t.d,a=t.tx,o=t.ty;let l=0,h=0,c=0,u=0,f=0,d=0,m=0,g=0;for(let p=0;p<this.instructions.length;p++){const _=this.instructions[p],y=_.data;switch(_.action){case"moveTo":case"lineTo":l=y[0],h=y[1],y[0]=e*l+r*h+a,y[1]=i*l+n*h+o;break;case"bezierCurveTo":c=y[0],u=y[1],f=y[2],d=y[3],l=y[4],h=y[5],y[0]=e*c+r*u+a,y[1]=i*c+n*u+o,y[2]=e*f+r*d+a,y[3]=i*f+n*d+o,y[4]=e*l+r*h+a,y[5]=i*l+n*h+o;break;case"quadraticCurveTo":c=y[0],u=y[1],l=y[2],h=y[3],y[0]=e*c+r*u+a,y[1]=i*c+n*u+o,y[2]=e*l+r*h+a,y[3]=i*l+n*h+o;break;case"arcToSvg":l=y[5],h=y[6],m=y[0],g=y[1],y[0]=e*m+r*g,y[1]=i*m+n*g,y[5]=e*l+r*h+a,y[6]=i*l+n*h+o;break;case"circle":y[4]=Ze(y[3],t);break;case"rect":y[4]=Ze(y[4],t);break;case"ellipse":y[8]=Ze(y[8],t);break;case"roundRect":y[5]=Ze(y[5],t);break;case"addPath":y[0].transform(t);break;case"poly":y[2]=Ze(y[2],t);break;default:Mt("unknown transform action",_.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,i=this.instructions[e];if(!i)return t.x=0,t.y=0,t;for(;i.action==="closePath";){if(e--,e<0)return t.x=0,t.y=0,t;i=this.instructions[e]}switch(i.action){case"moveTo":case"lineTo":t.x=i.data[0],t.y=i.data[1];break;case"quadraticCurveTo":t.x=i.data[2],t.y=i.data[3];break;case"bezierCurveTo":t.x=i.data[4],t.y=i.data[5];break;case"arc":case"arcToSvg":t.x=i.data[5],t.y=i.data[6];break;case"addPath":i.data[0].getLastPoint(t);break}return t}}function Ze(s,t){return s?s.prepend(t):t.clone()}function it(s,t,e){const i=s.getAttribute(t);return i?Number(i):e}function em(s,t){const e=s.querySelectorAll("defs");for(let i=0;i<e.length;i++){const r=e[i];for(let n=0;n<r.children.length;n++){const a=r.children[n];switch(a.nodeName.toLowerCase()){case"lineargradient":t.defs[a.id]=sm(a);break;case"radialgradient":t.defs[a.id]=im();break}}}}function sm(s){const t=it(s,"x1",0),e=it(s,"y1",0),i=it(s,"x2",1),r=it(s,"y2",0),n=s.getAttribute("gradientUnits")||"objectBoundingBox",a=new Ps(t,e,i,r,n==="objectBoundingBox"?"local":"global");for(let o=0;o<s.children.length;o++){const l=s.children[o],h=it(l,"offset",0),c=Bt.shared.setValue(l.getAttribute("stop-color")).toNumber();a.addColorStop(h,c)}return a}function im(s){return Mt("[SVG Parser] Radial gradients are not yet supported"),new Ps(0,0,1,0)}function Jn(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const Kn={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function al(s,t){const e=s.getAttribute("style"),i={},r={},n={strokeStyle:i,fillStyle:r,useFill:!1,useStroke:!1};for(const a in Kn){const o=s.getAttribute(a);o&&Zn(t,n,a,o.trim())}if(e){const a=e.split(";");for(let o=0;o<a.length;o++){const l=a[o].trim(),[h,c]=l.split(":");Kn[h]&&Zn(t,n,h,c.trim())}}return{strokeStyle:n.useStroke?i:null,fillStyle:n.useFill?r:null,useFill:n.useFill,useStroke:n.useStroke}}function Zn(s,t,e,i){switch(e){case"stroke":if(i!=="none"){if(i.startsWith("url(")){const r=Jn(i);t.strokeStyle.fill=s.defs[r]}else t.strokeStyle.color=Bt.shared.setValue(i).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(i);break;case"fill":if(i!=="none"){if(i.startsWith("url(")){const r=Jn(i);t.fillStyle.fill=s.defs[r]}else t.fillStyle.color=Bt.shared.setValue(i).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(i);break;case"stroke-opacity":t.strokeStyle.alpha=Number(i);break;case"opacity":t.fillStyle.alpha=Number(i),t.strokeStyle.alpha=Number(i);break}}function rm(s){if(s.length<=2)return!0;const t=s.map(o=>o.area).sort((o,l)=>l-o),[e,i]=t,r=t[t.length-1],n=e/i,a=i/r;return!(n>3&&a<2)}function nm(s){return s.split(/(?=[Mm])/).filter(i=>i.trim().length>0)}function am(s){const t=s.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!t||t.length<4)return 0;const e=t.map(Number),i=[],r=[];for(let c=0;c<e.length;c+=2)c+1<e.length&&(i.push(e[c]),r.push(e[c+1]));if(i.length===0||r.length===0)return 0;const n=Math.min(...i),a=Math.max(...i),o=Math.min(...r),l=Math.max(...r);return(a-n)*(l-o)}function Qn(s,t){const e=new ie(s,!1);for(const i of e.instructions)t.instructions.push(i)}function om(s,t){if(typeof s=="string"){const a=document.createElement("div");a.innerHTML=s.trim(),s=a.querySelector("svg")}const e={context:t,defs:{},path:new ie};em(s,e);const i=s.children,{fillStyle:r,strokeStyle:n}=al(s,e);for(let a=0;a<i.length;a++){const o=i[a];o.nodeName.toLowerCase()!=="defs"&&ol(o,e,r,n)}return t}function ol(s,t,e,i){const r=s.children,{fillStyle:n,strokeStyle:a}=al(s,t);n&&e?e={...e,...n}:n&&(e=n),a&&i?i={...i,...a}:a&&(i=a);const o=!e&&!i;o&&(e={color:0});let l,h,c,u,f,d,m,g,p,_,y,v,x,S,C,w,R;switch(s.nodeName.toLowerCase()){case"path":{S=s.getAttribute("d");const I=s.getAttribute("fill-rule"),k=nm(S),M=I==="evenodd",D=k.length>1;if(M&&D){const N=k.map(T=>({path:T,area:am(T)}));if(N.sort((T,L)=>L.area-T.area),k.length>3||!rm(N))for(let T=0;T<N.length;T++){const L=N[T],st=T===0;t.context.beginPath();const G=new ie(void 0,!0);Qn(L.path,G),t.context.path(G),st?(e&&t.context.fill(e),i&&t.context.stroke(i)):t.context.cut()}else for(let T=0;T<N.length;T++){const L=N[T],st=T%2===1;t.context.beginPath();const G=new ie(void 0,!0);Qn(L.path,G),t.context.path(G),st?t.context.cut():(e&&t.context.fill(e),i&&t.context.stroke(i))}}else{const N=I?I==="evenodd":!0;C=new ie(S,N),t.context.path(C),e&&t.context.fill(e),i&&t.context.stroke(i)}break}case"circle":m=it(s,"cx",0),g=it(s,"cy",0),p=it(s,"r",0),t.context.ellipse(m,g,p,p),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"rect":l=it(s,"x",0),h=it(s,"y",0),w=it(s,"width",0),R=it(s,"height",0),_=it(s,"rx",0),y=it(s,"ry",0),_||y?t.context.roundRect(l,h,w,R,_||y):t.context.rect(l,h,w,R),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"ellipse":m=it(s,"cx",0),g=it(s,"cy",0),_=it(s,"rx",0),y=it(s,"ry",0),t.context.beginPath(),t.context.ellipse(m,g,_,y),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"line":c=it(s,"x1",0),u=it(s,"y1",0),f=it(s,"x2",0),d=it(s,"y2",0),t.context.beginPath(),t.context.moveTo(c,u),t.context.lineTo(f,d),i&&t.context.stroke(i);break;case"polygon":x=s.getAttribute("points"),v=x.match(/-?\d+/g).map(I=>parseInt(I,10)),t.context.poly(v,!0),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"polyline":x=s.getAttribute("points"),v=x.match(/-?\d+/g).map(I=>parseInt(I,10)),t.context.poly(v,!1),i&&t.context.stroke(i);break;case"g":case"svg":break;default:{Mt(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}o&&(e=null);for(let I=0;I<r.length;I++)ol(r[I],t,e,i)}function lm(s){return Bt.isColorLike(s)}function ta(s){return s instanceof vf}function ea(s){return s instanceof Ps}function hm(s){return s instanceof X}function cm(s,t,e){const i=Bt.shared.setValue(t??0);return s.color=i.toNumber(),s.alpha=i.alpha===1?e.alpha:i.alpha,s.texture=X.WHITE,{...e,...s}}function um(s,t,e){return s.texture=t,{...e,...s}}function sa(s,t,e){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...e,...s}}function ia(s,t,e){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...e,...s}}function dm(s,t){const e={...t,...s},i=Bt.shared.setValue(e.color);return e.alpha*=i.alpha,e.color=i.toNumber(),e}function as(s,t){if(s==null)return null;const e={},i=s;return lm(s)?cm(e,s,t):hm(s)?um(e,s,t):ta(s)?sa(e,s,t):ea(s)?ia(e,s,t):i.fill&&ta(i.fill)?sa(i,i.fill,t):i.fill&&ea(i.fill)?ia(i,i.fill,t):dm(i,t)}function ra(s,t){const{width:e,alignment:i,miterLimit:r,cap:n,join:a,pixelLine:o,...l}=t,h=as(s,l);return h?{width:e,alignment:i,miterLimit:r,cap:n,join:a,pixelLine:o,...h}:null}const fm=new pt,na=new z,Fr=class Yt extends ae{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=nt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new ie,this._transform=new z,this._fillStyle={...Yt.defaultFillStyle},this._strokeStyle={...Yt.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Nt,this._boundsDirty=!0}clone(){const t=new Yt;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=as(t,Yt.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=ra(t,Yt.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=as(t,Yt.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=as(t,Yt.defaultStrokeStyle),this}texture(t,e,i,r,n,a){return this.instructions.push({action:"texture",data:{image:t,dx:i||0,dy:r||0,dw:n||t.frame.width,dh:a||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?Bt.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new ie,this}fill(t,e){let i;const r=this.instructions[this.instructions.length-1];return this._tick===0&&(r==null?void 0:r.action)==="stroke"?i=r.data.path:i=this._activePath.clone(),i?(t!=null&&(e!==void 0&&typeof t=="number"&&(Y(at,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:e}),this._fillStyle=as(t,Yt.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(pt.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(t){let e;const i=this.instructions[this.instructions.length-1];return this._tick===0&&(i==null?void 0:i.action)==="fill"?e=i.data.path:e=this._activePath.clone(),e?(t!=null&&(this._strokeStyle=ra(t,Yt.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:e}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],i=this._activePath.clone();if(e&&(e.action==="stroke"||e.action==="fill"))if(e.data.hole)e.data.hole.addPath(i);else{e.data.hole=i;break}}return this._initNextPathLocation(),this}arc(t,e,i,r,n,a){this._tick++;const o=this._transform;return this._activePath.arc(o.a*t+o.c*e+o.tx,o.b*t+o.d*e+o.ty,i,r,n,a),this}arcTo(t,e,i,r,n){this._tick++;const a=this._transform;return this._activePath.arcTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*i+a.c*r+a.tx,a.b*i+a.d*r+a.ty,n),this}arcToSvg(t,e,i,r,n,a,o){this._tick++;const l=this._transform;return this._activePath.arcToSvg(t,e,i,r,n,l.a*a+l.c*o+l.tx,l.b*a+l.d*o+l.ty),this}bezierCurveTo(t,e,i,r,n,a,o){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*t+l.c*e+l.tx,l.b*t+l.d*e+l.ty,l.a*i+l.c*r+l.tx,l.b*i+l.d*r+l.ty,l.a*n+l.c*a+l.tx,l.b*n+l.d*a+l.ty,o),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,e,i,r){return this._tick++,this._activePath.ellipse(t,e,i,r,this._transform.clone()),this}circle(t,e,i){return this._tick++,this._activePath.circle(t,e,i,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const i=this._transform;return this._activePath.lineTo(i.a*t+i.c*e+i.tx,i.b*t+i.d*e+i.ty),this}moveTo(t,e){this._tick++;const i=this._transform,r=this._activePath.instructions,n=i.a*t+i.c*e+i.tx,a=i.b*t+i.d*e+i.ty;return r.length===1&&r[0].action==="moveTo"?(r[0].data[0]=n,r[0].data[1]=a,this):(this._activePath.moveTo(n,a),this)}quadraticCurveTo(t,e,i,r,n){this._tick++;const a=this._transform;return this._activePath.quadraticCurveTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*i+a.c*r+a.tx,a.b*i+a.d*r+a.ty,n),this}rect(t,e,i,r){return this._tick++,this._activePath.rect(t,e,i,r,this._transform.clone()),this}roundRect(t,e,i,r,n){return this._tick++,this._activePath.roundRect(t,e,i,r,n,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,i,r,n=0,a){return this._tick++,this._activePath.regularPoly(t,e,i,r,n,a),this}roundPoly(t,e,i,r,n,a){return this._tick++,this._activePath.roundPoly(t,e,i,r,n,a),this}roundShape(t,e,i,r){return this._tick++,this._activePath.roundShape(t,e,i,r),this}filletRect(t,e,i,r,n){return this._tick++,this._activePath.filletRect(t,e,i,r,n),this}chamferRect(t,e,i,r,n,a){return this._tick++,this._activePath.chamferRect(t,e,i,r,n,a),this}star(t,e,i,r,n=0,a=0){return this._tick++,this._activePath.star(t,e,i,r,n,a,this._transform.clone()),this}svg(t){return this._tick++,om(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,i,r,n,a){return t instanceof z?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,i,r,n,a),this)}transform(t,e,i,r,n,a){return t instanceof z?(this._transform.append(t),this):(na.set(t,e,i,r,n,a),this._transform.append(na),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const i=this.instructions[e],r=i.action;if(r==="fill"){const n=i.data;t.addBounds(n.path.bounds)}else if(r==="texture"){const n=i.data;t.addFrame(n.dx,n.dy,n.dx+n.dw,n.dy+n.dh,n.transform)}if(r==="stroke"){const n=i.data,a=n.style.alignment,o=n.style.width*(1-a),l=n.path.bounds;t.addFrame(l.minX-o,l.minY-o,l.maxX+o,l.maxY+o)}}return t}containsPoint(t){var r;if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let i=!1;for(let n=0;n<e.length;n++){const a=e[n],o=a.data,l=o.path;if(!a.action||!l)continue;const h=o.style,c=l.shapePath.shapePrimitives;for(let u=0;u<c.length;u++){const f=c[u].shape;if(!h||!f)continue;const d=c[u].transform,m=d?d.applyInverse(t,fm):t;if(a.action==="fill")i=f.contains(m.x,m.y);else{const p=h;i=f.strokeContains(m.x,m.y,p.width,p.alignment)}const g=o.hole;if(g){const p=(r=g.shapePath)==null?void 0:r.shapePrimitives;if(p)for(let _=0;_<p.length;_++)p[_].shape.contains(m.x,m.y)&&(i=!1)}if(i)return!0}}return i}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null)}destroy(t=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const i=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(i)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(i))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Fr.defaultFillStyle={color:16777215,alpha:1,texture:X.WHITE,matrix:null,fill:null,textureSpace:"local"};Fr.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:X.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Qe=Fr;class ai extends ho{constructor(t){t instanceof Qe&&(t={context:t});const{context:e,roundPixels:i,...r}=t||{};super({label:"Graphics",...r}),this.renderPipeId="graphics",e?this.context=e:(this.context=this._ownedContext=new Qe,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=i??!1}set context(t){t!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=t,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_onTouch(t){this._gcLastUsed=t,this._context._gcLastUsed=t}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new ai(this._context.clone()):(this._ownedContext=null,new ai(this._context))}lineStyle(t,e,i){Y(at,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const r={};return t&&(r.width=t),e&&(r.color=e),i&&(r.alpha=i),this.context.strokeStyle=r,this}beginFill(t,e){Y(at,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const i={};return t!==void 0&&(i.color=t),e!==void 0&&(i.alpha=e),this.context.fillStyle=i,this}endFill(){Y(at,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Qe.defaultStrokeStyle.width||t.color!==Qe.defaultStrokeStyle.color||t.alpha!==Qe.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Y(at,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Y(at,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Y(at,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Y(at,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Y(at,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Y(at,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}Ft.add(wu,Su);var pm=F('<div id="bg" class="svelte-1j88gxk"></div>');function mm(s,t){Ut(t,!1);let e=wr(),i;async function r(){const a=new Vo;await a.init({backgroundAlpha:0,resizeTo:window});const o=[];for(let l=0;l<50;l++){const h=new ai;h.fill({color:"#6b8b9e",alpha:.6}),h.rect(0,0,1,30),h.fill(),h.x=Math.random()*window.innerWidth,h.y=Math.random()*window.innerHeight,h.speed=Math.random()*16+10,h.angle=-15,o.push(h),a.stage.addChild(h)}return a.ticker.add(()=>{o.forEach(l=>{l.y+=l.speed,l.x+=l.speed*.15,l.y>window.innerHeight&&(l.y=-30,l.x=Math.random()*window.innerWidth)})}),a}Ih(()=>(r().then(a=>{i=a,b(e).appendChild(a.canvas)}),()=>{i&&i.destroy(!0,{children:!0})})),_i();var n=pm();ja(n,a=>U(e,a),()=>b(e)),B(s,n),zt()}function gm(s){s.preventDefault(),Se()}var _m=s=>s.key==="Enter"&&Se(),vm=s=>s.stopPropagation(),xm=s=>s.stopPropagation(),ym=s=>{Xt(s),Se()},bm=F('<li class="terminalNavItem svelte-n6qwrt"><a class="svelte-n6qwrt"><span class="promptSymbol svelte-n6qwrt"></span> <span class="operator svelte-n6qwrt">$</span> <span class="function svelte-n6qwrt">navigate</span> <span class="string svelte-n6qwrt"> </span></a></li>'),wm=F('<ul class="terminalNav svelte-n6qwrt"><!> <li class="terminalNavItem svelte-n6qwrt"><a href="#close" class="svelte-n6qwrt"><span class="promptSymbol svelte-n6qwrt"></span> <span class="operator svelte-n6qwrt">$</span> <span class="function svelte-n6qwrt">navigate</span> <span class="string svelte-n6qwrt">CLOSE TERMINAL</span> <span class="terminalCursor svelte-n6qwrt">‚ñà</span></a></li></ul> <p class="svelte-n6qwrt"><span class="comment svelte-n6qwrt"># Press ESC or click menu icon again to close</span></p> <div class="themeToggleContainer svelte-n6qwrt"><span class="comment svelte-n6qwrt"># Toggle theme:</span> <!></div>',1),Sm=F('<div class="mobileMenuOverlay svelte-n6qwrt" role="button" tabindex="-1"><div class="mobileMenuContainer svelte-n6qwrt" role="dialog" tabindex="-1"><!></div></div>');function Cm(s,t){Ut(t,!0);const e=[{class:"terminalPrompt",text:"",cursor:!0},{text:"run navigation.sh",class:"terminalTypedText",cursor:!0},{text:`
#!/bin/bash
navigate() {

  local location="$1"
  cd "$location"
  echo "You are now in: $(pwd)"

}`,class:"terminalResponse",cursor:!1,render:"slow"},{class:"children",cursor:!1}],i=[{text:"Home",href:"#hero"},{text:"About",href:"#about"},{text:"Skills",href:"#skills"},{text:"Work",href:"#work-experience"},{text:"Projects",href:"#projects"},{text:"Contact",href:"#contact"}];It(()=>{const o=l=>{l.key==="Escape"&&Jr()&&Se()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)});var r=gi(),n=re(r);{var a=o=>{var l=Sm();l.__click=function(...u){Se==null||Se.apply(this,u)},l.__keydown=[_m];var h=A(l);h.__click=[vm],h.__keydown=[xm];var c=A(h);fe(c,{title:"~/navigation.sh",content:e,children:f=>{var d=wm(),m=re(d),g=A(m);ut(g,17,()=>i,ct,(R,I)=>{var k=bm(),M=A(k);M.__click=[ym];var D=A(M);D.textContent=">";var j=P(D);j.nodeValue="  ";var N=P(j,2);N.nodeValue="  ";var O=P(N,2);O.nodeValue="   ";var T=P(O),L=A(T);q(()=>{Q(M,"href",b(I).href),H(L,`./${b(I).text??""}`)}),B(R,k)});var p=P(g,2),_=A(p);_.__click=[gm];var y=A(_);y.textContent=">";var v=P(y);v.nodeValue="  ";var x=P(v,2);x.nodeValue="  ";var S=P(x,2);S.nodeValue="   ";var C=P(m,4),w=P(A(C),2);Na(w,{}),B(f,d)},$$slots:{default:!0}}),B(o,l)};bt(n,o=>{Jr()&&o(a)})}B(s,r),zt()}Cs(["click","keydown"]);var Am=F('<div class="screenOverlay svelte-1d2t2dl"></div> <div class="vignette svelte-1d2t2dl"></div>',1),Pm=F('<div class="appContainer svelte-1d2t2dl"><!> <!> <!> <div class="mainContent svelte-1d2t2dl"><!></div> <!></div> <!>',1);function Tm(s,t){Ut(t,!1),_i();var e=Pm(),i=re(e),r=A(i);{var n=d=>{var m=Am();B(d,m)};bt(r,d=>{ze()==="retro"&&d(n)})}var a=P(r,2);{var o=d=>{mm(d,{})};bt(a,d=>{ze()==="rain"&&d(o)})}var l=P(a,2);zh(l);var h=P(l,2),c=A(h);xu(c);var u=P(h,2);qh(u,{});var f=P(i,2);Cm(f,{}),B(s,e),zt()}ph(Tm,{target:document.getElementById("app")});export{Bt as $,No as A,yt as B,pe as C,me as D,$ as E,Dt as F,vi as G,eo as H,Nt as I,lo as J,mn as K,ms as L,z as M,Gd as N,Yd as O,pt as P,ht as Q,ar as R,Er as S,Bs as T,ir as U,uf as V,_n as W,Bi as X,vn as Y,pd as Z,Xa as _,yi as a,dd as a0,ro as a1,Uo as a2,Y as a3,at as a4,gf as a5,jf as a6,Rf as a7,rp as a8,ap as a9,up as aa,fp as ab,pp as ac,Qe as ad,as as ae,ra as af,Ps as ag,vf as ah,ri as ai,Ge as aj,tl as ak,Dn as al,Ln as am,ai as an,Du as ao,il as ap,ko as b,ae as c,gp as d,Ft as e,Bn as f,Pf as g,Mf as h,ys as i,$s as j,Mr as k,Go as l,_o as m,en as n,Ht as o,Ro as p,ip as q,Xu as r,np as s,hp as t,nt as u,dp as v,Mt as w,X as x,Bu as y,mp as z};
