const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-BsOJQmIH.js","assets/webworkerAll-gdcBLbvg.js","assets/colorToUniform-CcwJrwir.js","assets/CanvasPool-DyTBO3yV.js","assets/WebGPURenderer-CsnnvXxc.js","assets/SharedSystems-ChHjeU0E.js","assets/WebGLRenderer-CF0X7V64.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();const Dr=!1;var ur=Array.isArray,nl=Array.prototype.indexOf,dr=Array.from,al=Object.defineProperty,je=Object.getOwnPropertyDescriptor,ia=Object.getOwnPropertyDescriptors,ol=Object.prototype,ll=Array.prototype,fr=Object.getPrototypeOf,Fr=Object.isExtensible;const ra=()=>{};function hl(s){return s()}function Ui(s){for(var t=0;t<s.length;t++)s[t]()}const jt=2,na=4,ri=8,pr=16,re=32,Pe=64,Vs=128,Mt=256,$s=512,St=1024,Jt=2048,Te=4096,ee=8192,ni=16384,cl=32768,ai=65536,ul=1<<17,dl=1<<19,aa=1<<20,Hi=1<<21,be=Symbol("$state"),fl=Symbol("legacy props"),pl=Symbol("");function oa(s){return s===this.v}function ml(s,t){return s!=s?t==t:s!==t||s!==null&&typeof s=="object"||typeof s=="function"}function mr(s){return!ml(s,this.v)}function gl(s){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _l(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function vl(s){throw new Error("https://svelte.dev/e/effect_orphan")}function xl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yl(s){throw new Error("https://svelte.dev/e/props_invalid_value")}function bl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function wl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Sl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let He=!1,Cl=!1;function Al(){He=!0}const gr=1,_r=2,la=4,Pl=8,Tl=16,Ml=1,kl=2,El=4,Il=8,Rl=16,Ll=1,Bl=2,yt=Symbol(),Dl="http://www.w3.org/1999/xhtml";function Fl(s){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let it=null;function Gr(s){it=s}function zt(s,t=!1,e){var i=it={p:it,c:null,d:!1,e:null,m:!1,s,x:null,l:null};He&&!t&&(it.l={s:null,u:null,r1:[],r2:us(!1)}),va(()=>{i.d=!0})}function Ut(s){const t=it;if(t!==null){const a=t.e;if(a!==null){var e=K,i=J;t.e=null;try{for(var r=0;r<a.length;r++){var n=a[r];ce(n.effect),Zt(n.reaction),xr(n.fn)}}finally{ce(e),Zt(i)}}it=t.p,t.m=!0}return{}}function oi(){return!He||it!==null&&it.l===null}function qt(s){if(typeof s!="object"||s===null||be in s)return s;const t=fr(s);if(t!==ol&&t!==ll)return s;var e=new Map,i=ur(s),r=tt(0),n=J,a=o=>{var l=J;Zt(n);var h=o();return Zt(l),h};return i&&e.set("length",tt(s.length)),new Proxy(s,{defineProperty(o,l,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&bl();var c=e.get(l);return c===void 0?(c=a(()=>tt(h.value)),e.set(l,c)):N(c,a(()=>qt(h.value))),!0},deleteProperty(o,l){var h=e.get(l);if(h===void 0)l in o&&(e.set(l,a(()=>tt(yt))),xi(r));else{if(i&&typeof l=="string"){var c=e.get("length"),u=Number(l);Number.isInteger(u)&&u<c.v&&N(c,u)}N(h,yt),xi(r)}return!0},get(o,l,h){var d;if(l===be)return s;var c=e.get(l),u=l in o;if(c===void 0&&(!u||(d=je(o,l))!=null&&d.writable)&&(c=a(()=>tt(qt(u?o[l]:yt))),e.set(l,c)),c!==void 0){var f=b(c);return f===yt?void 0:f}return Reflect.get(o,l,h)},getOwnPropertyDescriptor(o,l){var h=Reflect.getOwnPropertyDescriptor(o,l);if(h&&"value"in h){var c=e.get(l);c&&(h.value=b(c))}else if(h===void 0){var u=e.get(l),f=u==null?void 0:u.v;if(u!==void 0&&f!==yt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return h},has(o,l){var f;if(l===be)return!0;var h=e.get(l),c=h!==void 0&&h.v!==yt||Reflect.has(o,l);if(h!==void 0||K!==null&&(!c||(f=je(o,l))!=null&&f.writable)){h===void 0&&(h=a(()=>tt(c?qt(o[l]):yt)),e.set(l,h));var u=b(h);if(u===yt)return!1}return c},set(o,l,h,c){var x;var u=e.get(l),f=l in o;if(i&&l==="length")for(var d=h;d<u.v;d+=1){var m=e.get(d+"");m!==void 0?N(m,yt):d in o&&(m=a(()=>tt(yt)),e.set(d+"",m))}u===void 0?(!f||(x=je(o,l))!=null&&x.writable)&&(u=a(()=>tt(void 0)),N(u,a(()=>qt(h))),e.set(l,u)):(f=u.v!==yt,N(u,a(()=>qt(h))));var g=Reflect.getOwnPropertyDescriptor(o,l);if(g!=null&&g.set&&g.set.call(c,h),!f){if(i&&typeof l=="string"){var p=e.get("length"),v=Number(l);Number.isInteger(v)&&v>=p.v&&N(p,v+1)}xi(r)}return!0},ownKeys(o){b(r);var l=Reflect.ownKeys(o).filter(u=>{var f=e.get(u);return f===void 0||f.v!==yt});for(var[h,c]of e)c.v!==yt&&!(h in o)&&l.push(h);return l},setPrototypeOf(){wl()}})}function xi(s,t=1){N(s,s.v+t)}function Oe(s){var t=jt|Jt,e=J!==null&&(J.f&jt)!==0?J:null;return K===null||e!==null&&(e.f&Mt)!==0?t|=Mt:K.f|=aa,{ctx:it,deps:null,effects:null,equals:oa,f:t,fn:s,reactions:null,rv:0,v:null,wv:0,parent:e??K}}function ns(s){const t=Oe(s);return Aa(t),t}function Tt(s){const t=Oe(s);return t.equals=mr,t}function ha(s){var t=s.effects;if(t!==null){s.effects=null;for(var e=0;e<t.length;e+=1)Kt(t[e])}}function Gl(s){for(var t=s.parent;t!==null;){if((t.f&jt)===0)return t;t=t.parent}return null}function ca(s){var t,e=K;ce(Gl(s));try{ha(s),t=ka(s)}finally{ce(e)}return t}function ua(s){var t=ca(s),e=(le||(s.f&Mt)!==0)&&s.deps!==null?Te:St;Ot(s,e),s.equals(t)||(s.v=t,s.wv=Ta())}const cs=new Map;function us(s,t){var e={f:0,v:s,reactions:null,equals:oa,rv:0,wv:0};return e}function tt(s,t){const e=us(s);return Aa(e),e}function vr(s,t=!1){var i;const e=us(s);return t||(e.equals=mr),He&&it!==null&&it.l!==null&&((i=it.l).s??(i.s=[])).push(e),e}function N(s,t,e=!1){J!==null&&!Wt&&oi()&&(J.f&(jt|pr))!==0&&!(xt!=null&&xt.includes(s))&&Sl();let i=e?qt(t):t;return Vi(s,i)}function Vi(s,t){if(!s.equals(t)){var e=s.v;bs?cs.set(s,t):cs.set(s,e),s.v=t,(s.f&jt)!==0&&((s.f&Jt)!==0&&ca(s),Ot(s,(s.f&Mt)===0?St:Te)),s.wv=Ta(),fa(s,Jt),oi()&&K!==null&&(K.f&St)!==0&&(K.f&(re|Pe))===0&&(Et===null?Wl([s]):Et.push(s))}return t}function da(s,t=1){var e=b(s),i=t===1?e++:e--;return N(s,e),i}function fa(s,t){var e=s.reactions;if(e!==null)for(var i=oi(),r=e.length,n=0;n<r;n++){var a=e[n],o=a.f;(o&Jt)===0&&(!i&&a===K||(Ot(a,t),(o&(St|Mt))!==0&&((o&jt)!==0?fa(a,Te):di(a))))}}let jl=!1;var jr,pa,ma,ga;function Ol(){if(jr===void 0){jr=window,pa=/Firefox/.test(navigator.userAgent);var s=Element.prototype,t=Node.prototype,e=Text.prototype;ma=je(t,"firstChild").get,ga=je(t,"nextSibling").get,Fr(s)&&(s.__click=void 0,s.__className=void 0,s.__attributes=null,s.__style=void 0,s.__e=void 0),Fr(e)&&(e.__t=void 0)}}function li(s=""){return document.createTextNode(s)}function Ys(s){return ma.call(s)}function hi(s){return ga.call(s)}function A(s,t){return Ys(s)}function Se(s,t){{var e=Ys(s);return e instanceof Comment&&e.data===""?hi(e):e}}function T(s,t=1,e=!1){let i=s;for(;t--;)i=hi(i);return i}function Nl(s){s.textContent=""}function _a(s){K===null&&J===null&&vl(),J!==null&&(J.f&Mt)!==0&&K===null&&_l(),bs&&gl()}function zl(s,t){var e=t.last;e===null?t.last=t.first=s:(e.next=s,s.prev=e,t.last=s)}function Me(s,t,e,i=!0){var r=K,n={ctx:it,deps:null,nodes_start:null,nodes_end:null,f:s|Jt,first:null,fn:t,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(e)try{wr(n),n.f|=cl}catch(l){throw Kt(n),l}else t!==null&&di(n);var a=e&&n.deps===null&&n.first===null&&n.nodes_start===null&&n.teardown===null&&(n.f&(aa|Vs))===0;if(!a&&i&&(r!==null&&zl(n,r),J!==null&&(J.f&jt)!==0)){var o=J;(o.effects??(o.effects=[])).push(n)}return n}function va(s){const t=Me(ri,null,!1);return Ot(t,St),t.teardown=s,t}function It(s){_a();var t=K!==null&&(K.f&re)!==0&&it!==null&&!it.m;if(t){var e=it;(e.e??(e.e=[])).push({fn:s,effect:K,reaction:J})}else{var i=xr(s);return i}}function Ul(s){return _a(),xa(s)}function Hl(s){const t=Me(Pe,s,!0);return()=>{Kt(t)}}function Vl(s){const t=Me(Pe,s,!0);return(e={})=>new Promise(i=>{e.outro?qs(t,()=>{Kt(t),i(void 0)}):(Kt(t),i(void 0))})}function xr(s){return Me(na,s,!1)}function xa(s){return Me(ri,s,!0)}function q(s,t=[],e=Oe){const i=t.map(e);return ci(()=>s(...i.map(b)))}function ci(s,t=0){return Me(ri|pr|t,s,!0)}function Ne(s,t=!0){return Me(ri|re,s,!0,t)}function ya(s){var t=s.teardown;if(t!==null){const e=bs,i=J;Or(!0),Zt(null);try{t.call(null)}finally{Or(e),Zt(i)}}}function ba(s,t=!1){var e=s.first;for(s.first=s.last=null;e!==null;){var i=e.next;(e.f&Pe)!==0?e.parent=null:Kt(e,t),e=i}}function $l(s){for(var t=s.first;t!==null;){var e=t.next;(t.f&re)===0&&Kt(t),t=e}}function Kt(s,t=!0){var e=!1;(t||(s.f&dl)!==0)&&s.nodes_start!==null&&(Yl(s.nodes_start,s.nodes_end),e=!0),ba(s,t&&!e),Zs(s,0),Ot(s,ni);var i=s.transitions;if(i!==null)for(const n of i)n.stop();ya(s);var r=s.parent;r!==null&&r.first!==null&&wa(s),s.next=s.prev=s.teardown=s.ctx=s.deps=s.fn=s.nodes_start=s.nodes_end=null}function Yl(s,t){for(;s!==null;){var e=s===t?null:hi(s);s.remove(),s=e}}function wa(s){var t=s.parent,e=s.prev,i=s.next;e!==null&&(e.next=i),i!==null&&(i.prev=e),t!==null&&(t.first===s&&(t.first=i),t.last===s&&(t.last=e))}function qs(s,t){var e=[];yr(s,e,!0),Sa(e,()=>{Kt(s),t&&t()})}function Sa(s,t){var e=s.length;if(e>0){var i=()=>--e||t();for(var r of s)r.out(i)}else t()}function yr(s,t,e){if((s.f&ee)===0){if(s.f^=ee,s.transitions!==null)for(const a of s.transitions)(a.is_global||e)&&t.push(a);for(var i=s.first;i!==null;){var r=i.next,n=(i.f&ai)!==0||(i.f&re)!==0;yr(i,t,n?e:!1),i=r}}}function Ws(s){Ca(s,!0)}function Ca(s,t){if((s.f&ee)!==0){s.f^=ee,(s.f&St)===0&&(s.f^=St),ws(s)&&(Ot(s,Jt),di(s));for(var e=s.first;e!==null;){var i=e.next,r=(e.f&ai)!==0||(e.f&re)!==0;Ca(e,r?t:!1),e=i}if(s.transitions!==null)for(const n of s.transitions)(n.is_global||t)&&n.in()}}let Xs=[];function ql(){var s=Xs;Xs=[],Ui(s)}function br(s){Xs.length===0&&queueMicrotask(ql),Xs.push(s)}let Ns=!1,$i=!1,Js=null,we=!1,bs=!1;function Or(s){bs=s}let zs=[];let J=null,Wt=!1;function Zt(s){J=s}let K=null;function ce(s){K=s}let xt=null;function Aa(s){J!==null&&J.f&Hi&&(xt===null?xt=[s]:xt.push(s))}let _t=null,Pt=0,Et=null;function Wl(s){Et=s}let Pa=1,Ks=0,le=!1;function Ta(){return++Pa}function ws(s){var u;var t=s.f;if((t&Jt)!==0)return!0;if((t&Te)!==0){var e=s.deps,i=(t&Mt)!==0;if(e!==null){var r,n,a=(t&$s)!==0,o=i&&K!==null&&!le,l=e.length;if(a||o){var h=s,c=h.parent;for(r=0;r<l;r++)n=e[r],(a||!((u=n==null?void 0:n.reactions)!=null&&u.includes(h)))&&(n.reactions??(n.reactions=[])).push(h);a&&(h.f^=$s),o&&c!==null&&(c.f&Mt)===0&&(h.f^=Mt)}for(r=0;r<l;r++)if(n=e[r],ws(n)&&ua(n),n.wv>s.wv)return!0}(!i||K!==null&&!le)&&Ot(s,St)}return!1}function Xl(s,t){for(var e=t;e!==null;){if((e.f&Vs)!==0)try{e.fn(s);return}catch{e.f^=Vs}e=e.parent}throw Ns=!1,s}function Nr(s){return(s.f&ni)===0&&(s.parent===null||(s.parent.f&Vs)===0)}function ui(s,t,e,i){if(Ns){if(e===null&&(Ns=!1),Nr(t))throw s;return}if(e!==null&&(Ns=!0),Xl(s,t),Nr(t))throw s}function Ma(s,t,e=!0){var i=s.reactions;if(i!==null)for(var r=0;r<i.length;r++){var n=i[r];xt!=null&&xt.includes(s)||((n.f&jt)!==0?Ma(n,t,!1):t===n&&(e?Ot(n,Jt):(n.f&St)!==0&&Ot(n,Te),di(n)))}}function ka(s){var d;var t=_t,e=Pt,i=Et,r=J,n=le,a=xt,o=it,l=Wt,h=s.f;_t=null,Pt=0,Et=null,le=(h&Mt)!==0&&(Wt||!we||J===null),J=(h&(re|Pe))===0?s:null,xt=null,Gr(s.ctx),Wt=!1,Ks++,s.f|=Hi;try{var c=(0,s.fn)(),u=s.deps;if(_t!==null){var f;if(Zs(s,Pt),u!==null&&Pt>0)for(u.length=Pt+_t.length,f=0;f<_t.length;f++)u[Pt+f]=_t[f];else s.deps=u=_t;if(!le)for(f=Pt;f<u.length;f++)((d=u[f]).reactions??(d.reactions=[])).push(s)}else u!==null&&Pt<u.length&&(Zs(s,Pt),u.length=Pt);if(oi()&&Et!==null&&!Wt&&u!==null&&(s.f&(jt|Te|Jt))===0)for(f=0;f<Et.length;f++)Ma(Et[f],s);return r!==null&&r!==s&&(Ks++,Et!==null&&(i===null?i=Et:i.push(...Et))),c}finally{_t=t,Pt=e,Et=i,J=r,le=n,xt=a,Gr(o),Wt=l,s.f^=Hi}}function Jl(s,t){let e=t.reactions;if(e!==null){var i=nl.call(e,s);if(i!==-1){var r=e.length-1;r===0?e=t.reactions=null:(e[i]=e[r],e.pop())}}e===null&&(t.f&jt)!==0&&(_t===null||!_t.includes(t))&&(Ot(t,Te),(t.f&(Mt|$s))===0&&(t.f^=$s),ha(t),Zs(t,0))}function Zs(s,t){var e=s.deps;if(e!==null)for(var i=t;i<e.length;i++)Jl(s,e[i])}function wr(s){var t=s.f;if((t&ni)===0){Ot(s,St);var e=K,i=it,r=we;K=s,we=!0;try{(t&pr)!==0?$l(s):ba(s),ya(s);var n=ka(s);s.teardown=typeof n=="function"?n:null,s.wv=Pa;var a=s.deps,o;Dr&&Cl&&s.f&Jt}catch(l){ui(l,s,e,i||s.ctx)}finally{we=r,K=e}}}function Kl(){try{xl()}catch(s){if(Js!==null)ui(s,Js,null);else throw s}}function Zl(){var s=we;try{var t=0;for(we=!0;zs.length>0;){t++>1e3&&Kl();var e=zs,i=e.length;zs=[];for(var r=0;r<i;r++){var n=th(e[r]);Ql(n)}cs.clear()}}finally{$i=!1,we=s,Js=null}}function Ql(s){var t=s.length;if(t!==0)for(var e=0;e<t;e++){var i=s[e];if((i.f&(ni|ee))===0)try{ws(i)&&(wr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?wa(i):i.fn=null))}catch(r){ui(r,i,null,i.ctx)}}}function di(s){$i||($i=!0,queueMicrotask(Zl));for(var t=Js=s;t.parent!==null;){t=t.parent;var e=t.f;if((e&(Pe|re))!==0){if((e&St)===0)return;t.f^=St}}zs.push(t)}function th(s){for(var t=[],e=s;e!==null;){var i=e.f,r=(i&(re|Pe))!==0,n=r&&(i&St)!==0;if(!n&&(i&ee)===0){if((i&na)!==0)t.push(e);else if(r)e.f^=St;else try{ws(e)&&wr(e)}catch(l){ui(l,e,null,e.ctx)}var a=e.first;if(a!==null){e=a;continue}}var o=e.parent;for(e=e.next;e===null&&o!==null;)e=o.next,o=o.parent}return t}function b(s){var t=s.f,e=(t&jt)!==0;if(J!==null&&!Wt){if(!(xt!=null&&xt.includes(s))){var i=J.deps;s.rv<Ks&&(s.rv=Ks,_t===null&&i!==null&&i[Pt]===s?Pt++:_t===null?_t=[s]:(!le||!_t.includes(s))&&_t.push(s))}}else if(e&&s.deps===null&&s.effects===null){var r=s,n=r.parent;n!==null&&(n.f&Mt)===0&&(r.f^=Mt)}return e&&(r=s,ws(r)&&ua(r)),bs&&cs.has(s)?cs.get(s):s.v}function ds(s){var t=Wt;try{return Wt=!0,s()}finally{Wt=t}}const eh=-7169;function Ot(s,t){s.f=s.f&eh|t}function sh(s){if(!(typeof s!="object"||!s||s instanceof EventTarget)){if(be in s)Yi(s);else if(!Array.isArray(s))for(let t in s){const e=s[t];typeof e=="object"&&e&&be in e&&Yi(e)}}}function Yi(s,t=new Set){if(typeof s=="object"&&s!==null&&!(s instanceof EventTarget)&&!t.has(s)){t.add(s),s instanceof Date&&s.getTime();for(let i in s)try{Yi(s[i],t)}catch{}const e=fr(s);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const i=ia(e);for(let r in i){const n=i[r].get;if(n)try{n.call(s)}catch{}}}}}const ih=["touchstart","touchmove"];function rh(s){return ih.includes(s)}function nh(s){var t=J,e=K;Zt(null),ce(null);try{return s()}finally{Zt(t),ce(e)}}const Ea=new Set,qi=new Set;function ah(s,t,e,i={}){function r(n){if(i.capture||Ze.call(t,n),!n.cancelBubble)return nh(()=>e==null?void 0:e.call(this,n))}return s.startsWith("pointer")||s.startsWith("touch")||s==="wheel"?br(()=>{t.addEventListener(s,r,i)}):t.addEventListener(s,r,i),r}function Ia(s,t,e,i,r){var n={capture:i,passive:r},a=ah(s,t,e,n);(t===document.body||t===window||t===document)&&va(()=>{t.removeEventListener(s,a,n)})}function fi(s){for(var t=0;t<s.length;t++)Ea.add(s[t]);for(var e of qi)e(s)}function Ze(s){var x;var t=this,e=t.ownerDocument,i=s.type,r=((x=s.composedPath)==null?void 0:x.call(s))||[],n=r[0]||s.target,a=0,o=s.__root;if(o){var l=r.indexOf(o);if(l!==-1&&(t===document||t===window)){s.__root=t;return}var h=r.indexOf(t);if(h===-1)return;l<=h&&(a=l)}if(n=r[a]||s.target,n!==t){al(s,"currentTarget",{configurable:!0,get(){return n||e}});var c=J,u=K;Zt(null),ce(null);try{for(var f,d=[];n!==null;){var m=n.assignedSlot||n.parentNode||n.host||null;try{var g=n["__"+i];if(g!=null&&(!n.disabled||s.target===n))if(ur(g)){var[p,...v]=g;p.apply(n,[s,...v])}else g.call(n,s)}catch(_){f?d.push(_):f=_}if(s.cancelBubble||m===t||m===null)break;n=m}if(f){for(let _ of d)queueMicrotask(()=>{throw _});throw f}}finally{s.__root=t,delete s.currentTarget,Zt(c),ce(u)}}}function oh(s){var t=document.createElement("template");return t.innerHTML=s,t.content}function Qs(s,t){var e=K;e.nodes_start===null&&(e.nodes_start=s,e.nodes_end=t)}function G(s,t){var e=(t&Ll)!==0,i=(t&Bl)!==0,r,n=!s.startsWith("<!>");return()=>{r===void 0&&(r=oh(n?s:"<!>"+s),e||(r=Ys(r)));var a=i||pa?document.importNode(r,!0):r.cloneNode(!0);if(e){var o=Ys(a),l=a.lastChild;Qs(o,l)}else Qs(a,a);return a}}function lh(s=""){{var t=li(s+"");return Qs(t,t),t}}function Sr(){var s=document.createDocumentFragment(),t=document.createComment(""),e=li();return s.append(t,e),Qs(t,e),s}function B(s,t){s!==null&&s.before(t)}function H(s,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(s.__t??(s.__t=s.nodeValue))&&(s.__t=e,s.nodeValue=e+"")}function hh(s,t){return ch(s,t)}const Re=new Map;function ch(s,{target:t,anchor:e,props:i={},events:r,context:n,intro:a=!0}){Ol();var o=new Set,l=u=>{for(var f=0;f<u.length;f++){var d=u[f];if(!o.has(d)){o.add(d);var m=rh(d);t.addEventListener(d,Ze,{passive:m});var g=Re.get(d);g===void 0?(document.addEventListener(d,Ze,{passive:m}),Re.set(d,1)):Re.set(d,g+1)}}};l(dr(Ea)),qi.add(l);var h=void 0,c=Vl(()=>{var u=e??t.appendChild(li());return Ne(()=>{if(n){zt({});var f=it;f.c=n}r&&(i.$$events=r),h=s(u,i)||{},n&&Ut()}),()=>{var m;for(var f of o){t.removeEventListener(f,Ze);var d=Re.get(f);--d===0?(document.removeEventListener(f,Ze),Re.delete(f)):Re.set(f,d)}qi.delete(l),u!==e&&((m=u.parentNode)==null||m.removeChild(u))}});return uh.set(h,c),h}let uh=new WeakMap;function wt(s,t,[e,i]=[0,0]){var r=s,n=null,a=null,o=yt,l=e>0?ai:0,h=!1;const c=(f,d=!0)=>{h=!0,u(d,f)},u=(f,d)=>{o!==(o=f)&&(o?(n?Ws(n):d&&(n=Ne(()=>d(r))),a&&qs(a,()=>{a=null})):(a?Ws(a):d&&(a=Ne(()=>d(r,[e+1,i]))),n&&qs(n,()=>{n=null})))};ci(()=>{h=!1,t(c),h||u(null,null)},l)}function dt(s,t){return t}function dh(s,t,e,i){for(var r=[],n=t.length,a=0;a<n;a++)yr(t[a].e,r,!0);var o=n>0&&r.length===0&&e!==null;if(o){var l=e.parentNode;Nl(l),l.append(e),i.clear(),oe(s,t[0].prev,t[n-1].next)}Sa(r,()=>{for(var h=0;h<n;h++){var c=t[h];o||(i.delete(c.k),oe(s,c.prev,c.next)),Kt(c.e,!o)}})}function ft(s,t,e,i,r,n=null){var a=s,o={flags:t,items:new Map,first:null},l=(t&la)!==0;if(l){var h=s;a=h.appendChild(li())}var c=null,u=!1,f=Tt(()=>{var d=e();return ur(d)?d:d==null?[]:dr(d)});ci(()=>{var d=b(f),m=d.length;u&&m===0||(u=m===0,fh(d,o,a,r,t,i,e),n!==null&&(m===0?c?Ws(c):c=Ne(()=>n(a)):c!==null&&qs(c,()=>{c=null})),b(f))})}function fh(s,t,e,i,r,n,a){var z,j,P,L;var o=(r&Pl)!==0,l=(r&(gr|_r))!==0,h=s.length,c=t.items,u=t.first,f=u,d,m=null,g,p=[],v=[],x,_,y,S;if(o)for(S=0;S<h;S+=1)x=s[S],_=n(x,S),y=c.get(_),y!==void 0&&((z=y.a)==null||z.measure(),(g??(g=new Set)).add(y));for(S=0;S<h;S+=1){if(x=s[S],_=n(x,S),y=c.get(_),y===void 0){var C=f?f.e.nodes_start:e;m=mh(C,t,m,m===null?t.first:m.next,x,_,S,i,r,a),c.set(_,m),p=[],v=[],f=m.next;continue}if(l&&ph(y,x,S,r),(y.e.f&ee)!==0&&(Ws(y.e),o&&((j=y.a)==null||j.unfix(),(g??(g=new Set)).delete(y))),y!==f){if(d!==void 0&&d.has(y)){if(p.length<v.length){var w=v[0],I;m=w.prev;var R=p[0],M=p[p.length-1];for(I=0;I<p.length;I+=1)zr(p[I],w,e);for(I=0;I<v.length;I+=1)d.delete(v[I]);oe(t,R.prev,M.next),oe(t,m,R),oe(t,M,w),f=w,m=M,S-=1,p=[],v=[]}else d.delete(y),zr(y,f,e),oe(t,y.prev,y.next),oe(t,y,m===null?t.first:m.next),oe(t,m,y),m=y;continue}for(p=[],v=[];f!==null&&f.k!==_;)(f.e.f&ee)===0&&(d??(d=new Set)).add(f),v.push(f),f=f.next;if(f===null)continue;y=f}p.push(y),m=y,f=y.next}if(f!==null||d!==void 0){for(var E=d===void 0?[]:dr(d);f!==null;)(f.e.f&ee)===0&&E.push(f),f=f.next;var F=E.length;if(F>0){var O=(r&la)!==0&&h===0?e:null;if(o){for(S=0;S<F;S+=1)(P=E[S].a)==null||P.measure();for(S=0;S<F;S+=1)(L=E[S].a)==null||L.fix()}dh(t,E,O,c)}}o&&br(()=>{var Z;if(g!==void 0)for(y of g)(Z=y.a)==null||Z.apply()}),K.first=t.first&&t.first.e,K.last=m&&m.e}function ph(s,t,e,i){(i&gr)!==0&&Vi(s.v,t),(i&_r)!==0?Vi(s.i,e):s.i=e}function mh(s,t,e,i,r,n,a,o,l,h){var c=(l&gr)!==0,u=(l&Tl)===0,f=c?u?vr(r):us(r):r,d=(l&_r)===0?a:us(a),m={i:d,v:f,k:n,a:null,e:null,prev:e,next:i};try{return m.e=Ne(()=>o(s,f,d,h),jl),m.e.prev=e&&e.e,m.e.next=i&&i.e,e===null?t.first=m:(e.next=m,e.e.next=m.e),i!==null&&(i.prev=m,i.e.prev=m.e),m}finally{}}function zr(s,t,e){for(var i=s.next?s.next.e.nodes_start:e,r=t?t.e.nodes_start:e,n=s.e.nodes_start;n!==i;){var a=hi(n);r.before(n),n=a}}function oe(s,t,e){t===null?s.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function gh(s,t,...e){var i=s,r=ra,n;ci(()=>{r!==(r=t())&&(n&&(Kt(n),n=null),n=Ne(()=>r(i,...e)))},ai)}function Ra(s){var t,e,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=Ra(s[t]))&&(i&&(i+=" "),i+=e)}else for(e in s)s[e]&&(i&&(i+=" "),i+=e);return i}function _h(){for(var s,t,e=0,i="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=Ra(s))&&(i&&(i+=" "),i+=t);return i}function vh(s){return typeof s=="object"?_h(s):s??""}const Ur=[...` 	
\r\f¬†\v\uFEFF`];function xh(s,t,e){var i=s==null?"":""+s;if(t&&(i=i?i+" "+t:t),e){for(var r in e)if(e[r])i=i?i+" "+r:r;else if(i.length)for(var n=r.length,a=0;(a=i.indexOf(r,a))>=0;){var o=a+n;(a===0||Ur.includes(i[a-1]))&&(o===i.length||Ur.includes(i[o]))?i=(a===0?"":i.substring(0,a))+i.substring(o+1):a=o}}return i===""?null:i}function yh(s,t){return s==null?null:String(s)}function Ce(s,t,e,i,r,n){var a=s.__className;if(a!==e||a===void 0){var o=xh(e,i,n);o==null?s.removeAttribute("class"):s.className=o,s.__className=e}else if(n&&r!==n)for(var l in n){var h=!!n[l];(r==null||h!==!!r[l])&&s.classList.toggle(l,h)}return n}function La(s,t,e,i){var r=s.__style;if(r!==t){var n=yh(t);n==null?s.removeAttribute("style"):s.style.cssText=n,s.__style=t}return i}const bh=Symbol("is custom element"),wh=Symbol("is html");function Sh(s,t){var e=Ba(s);e.checked!==(e.checked=t??void 0)&&(s.checked=t)}function et(s,t,e,i){var r=Ba(s);r[t]!==(r[t]=e)&&(t==="loading"&&(s[pl]=e),e==null?s.removeAttribute(t):typeof e!="string"&&Ch(s).includes(t)?s[t]=e:s.setAttribute(t,e))}function Ba(s){return s.__attributes??(s.__attributes={[bh]:s.nodeName.includes("-"),[wh]:s.namespaceURI===Dl})}var Hr=new Map;function Ch(s){var t=Hr.get(s.nodeName);if(t)return t;Hr.set(s.nodeName,t=[]);for(var e,i=s,r=Element.prototype;r!==i;){e=ia(i);for(var n in e)e[n].set&&t.push(n);i=fr(i)}return t}function Vr(s,t){return s===t||(s==null?void 0:s[be])===t}function Da(s={},t,e,i){return xr(()=>{var r,n;return xa(()=>{r=n,n=[],ds(()=>{s!==e(...n)&&(t(s,...n),r&&Vr(e(...r),s)&&t(null,...r))})}),()=>{br(()=>{n&&Vr(e(...n),s)&&t(null,...n)})}}),s}function pi(s=!1){const t=it,e=t.l.u;if(!e)return;let i=()=>sh(t.s);if(s){let r=0,n={};const a=Oe(()=>{let o=!1;const l=t.s;for(const h in l)l[h]!==n[h]&&(n[h]=l[h],o=!0);return o&&r++,r});i=()=>b(a)}e.b.length&&Ul(()=>{$r(t,i),Ui(e.b)}),It(()=>{const r=ds(()=>e.m.map(hl));return()=>{for(const n of r)typeof n=="function"&&n()}}),e.a.length&&It(()=>{$r(t,i),Ui(e.a)})}function $r(s,t){if(s.l.s)for(const e of s.l.s)b(e);t()}let As=!1;function Ah(s){var t=As;try{return As=!1,[s(),As]}finally{As=t}}function Yr(s){var t;return((t=s.ctx)==null?void 0:t.d)??!1}function Rt(s,t,e,i){var C;var r=(e&Ml)!==0,n=!He||(e&kl)!==0,a=(e&Il)!==0,o=(e&Rl)!==0,l=!1,h;a?[h,l]=Ah(()=>s[t]):h=s[t];var c=be in s||fl in s,u=a&&(((C=je(s,t))==null?void 0:C.set)??(c&&t in s&&(w=>s[t]=w)))||void 0,f=i,d=!0,m=!1,g=()=>(m=!0,d&&(d=!1,o?f=ds(i):f=i),f);h===void 0&&i!==void 0&&(u&&n&&yl(),h=g(),u&&u(h));var p;if(n)p=()=>{var w=s[t];return w===void 0?g():(d=!0,m=!1,w)};else{var v=(r?Oe:Tt)(()=>s[t]);v.f|=ul,p=()=>{var w=b(v);return w!==void 0&&(f=void 0),w===void 0?f:w}}if((e&El)===0)return p;if(u){var x=s.$$legacy;return function(w,I){return arguments.length>0?((!n||!I||x||l)&&u(I?p():w),w):p()}}var _=!1,y=vr(h),S=Oe(()=>{var w=p(),I=b(y);return _?(_=!1,I):y.v=w});return a&&b(S),r||(S.equals=mr),function(w,I){if(arguments.length>0){const R=I?b(S):n&&a?qt(w):w;if(!S.equals(R)){if(_=!0,N(y,R),m&&f!==void 0&&(f=R),Yr(S))return w;ds(()=>b(S))}return w}return Yr(S)?S.v:b(S)}}function Ph(s){it===null&&Fl(),He&&it.l!==null?Th(it).m.push(s):It(()=>{const t=ds(s);if(typeof t=="function")return t})}function Th(s){var t=s.l;return t.u??(t.u={a:[],b:[],m:[]})}const Mh="5";var sa;typeof window<"u"&&((sa=window.__svelte??(window.__svelte={})).v??(sa.v=new Set)).add(Mh);Al();var kh=G("<span> </span>");function Eh(s,t){zt(t,!0);let e=tt(""),i=tt(null),r=tt(0);const n=60,a=250,o=300;Hl(()=>{N(r,0),N(e,""),b(i)&&clearTimeout(b(i));const c=()=>{if(b(r)>=t.text.length)return;const u=t.text[b(r)];if(N(e,b(e)+u),da(r),b(r)<t.text.length){const f=/^[.,_!?;:]$/.test(u)?a:n;N(i,setTimeout(c,f),!0)}};return N(i,setTimeout(c,o),!0),()=>{b(i)&&clearTimeout(b(i))}});var l=kh(),h=A(l);q(()=>H(h,b(e))),B(s,l),Ut()}const Ih=typeof localStorage<"u"&&localStorage.getItem("theme")||"retro";let Qe=tt(qt(Ih));function fs(){return b(Qe)}function Rh(){N(Qe,b(Qe)==="retro"?"rain":"retro",!0),document.documentElement.setAttribute("data-theme",b(Qe)),localStorage.setItem("theme",b(Qe))}var Lh=G('<div class="scanEffect svelte-142ekje"></div>'),Bh=G("<div><!></div>"),Dh=G('<span class="blinkingCursor svelte-142ekje">‚ñà</span>'),Fh=G('<div class="terminal svelte-142ekje"><!> <div class="terminalHeader svelte-142ekje"><div class="terminalTitle svelte-142ekje"> </div> <div class="terminalButtons svelte-142ekje"><div class="terminalButton yellow svelte-142ekje"></div> <div class="terminalButton green svelte-142ekje"></div> <div class="terminalButton red svelte-142ekje"></div></div></div> <div class="terminalContent svelte-142ekje"><!> <!></div></div>');function ue(s,t){zt(t,!0);const e={CHAR_SPEED:50,INITIAL_DELAY:300,RESPONSE_PROCESSING_SPEED:0,INTERSECTION_THRESHOLD:.3},i=Rt(t,"children",3,null),r=Rt(t,"height",3,"550px");let n,a=null,o=!1,l="",h=null,c=tt(!1),u=tt(!0),f=tt(qt([])),d=tt(0),m=tt(!1),g=tt(null);const p={initialized:!1,processedAllContent:!1,typingIndex:0,timeouts:{},prevContentSignature:""};function v(){Object.values(p.timeouts).forEach(k=>{k&&clearTimeout(k)}),p.timeouts={}}function x(){p.initialized=!1,p.processedAllContent=!1,p.typingIndex=0,N(d,0),N(f,[],!0),N(m,!1),N(g,null),v()}function _(k){(k==null?void 0:k.cursor)!==void 0&&N(u,k.cursor,!0)}function y(){o||(o=!0,requestAnimationFrame(()=>{!a&&n&&(a=n.querySelector(".terminalContent")),a&&a.scrollTo({top:a.scrollHeight,behavior:"smooth"}),o=!1}))}function S(k){return k===h||(h=k,l=JSON.stringify(k.map(V=>V.text||""))),l}function C(k){return(k==null?void 0:k.class)==="terminalTypedText"||(k==null?void 0:k.render)==="slow"}function w(){return b(d)<t.content.length&&!b(m)&&b(c)}function I(k){b(f).push(k)}function R(k){b(f).push({...k,text:""})}function M(k){if(b(f).length>0){const V=b(f).length-1;b(f)[V]={...b(f)[V],text:b(f)[V].text+k}}}function E(){if(!b(g)||p.typingIndex>=b(g).text.length){N(m,!1),N(g,null),N(d,b(d)+1);return}const k=b(g).text[p.typingIndex];M(k),y(),p.typingIndex++;const V=b(g).class==="terminalResponse"?e.RESPONSE_PROCESSING_SPEED:e.CHAR_SPEED;p.timeouts.typeChar=setTimeout(E,V)}function F(k){I(k),N(d,b(d)+1),_(k),y()}function O(k){p.timeouts.processContent=setTimeout(()=>{_(k),C(k)?(R(k),N(m,!0),N(g,k,!0)):k&&(I(k),N(d,b(d)+1),y())},e.RESPONSE_PROCESSING_SPEED)}function z(){if(!w())return;const k=t.content[b(d)];if(b(d)===0&&p.initialized&&(k==null?void 0:k.class)==="terminalPrompt"){N(d,1);return}(k==null?void 0:k.class)==="terminalPrompt"?F(k):O(k)}It(()=>v),It(()=>{if(typeof window>"u"||!n)return;const k=new IntersectionObserver(([V])=>{V.isIntersecting&&(N(c,!0),k.unobserve(n))},{threshold:e.INTERSECTION_THRESHOLD,root:null});return k.observe(n),()=>{n&&k.unobserve(n)}}),It(()=>{if(!t.content||t.content.length===0)return;const k=S(t.content);k!==p.prevContentSignature&&(p.prevContentSignature=k,x())}),It(()=>{var k;!b(c)||p.initialized||!t.content.length||(p.initialized=!0,((k=t.content[0])==null?void 0:k.class)==="terminalPrompt"&&(N(f,[t.content[0]],!0),N(d,1)))}),It(()=>{if(b(d)>=t.content.length&&!p.processedAllContent&&t.content.length>0){p.processedAllContent=!0;const k=t.content[t.content.length-1];_(k)}}),It(()=>{if(!(!b(c)||!b(g)))return p.typingIndex=0,p.timeouts.typeChar=setTimeout(E,e.INITIAL_DELAY),()=>{p.timeouts.typeChar&&clearTimeout(p.timeouts.typeChar)}}),It(()=>(w()&&z(),()=>{p.timeouts.processContent&&clearTimeout(p.timeouts.processContent)}));var j=Fh(),P=A(j);{var L=k=>{var V=Lh();B(k,V)};wt(P,k=>{fs()==="retro"&&k(L)})}var Z=T(P,2),D=A(Z),Q=A(D),ut=T(Z,2),ot=A(ut);ft(ot,17,()=>b(f),dt,(k,V)=>{var ae=Bh(),ke=A(ae);{var Ee=Vt=>{var Ct=Sr(),Qt=Se(Ct);gh(Qt,()=>i()??ra),B(Vt,Ct)},Ie=Vt=>{var Ct=lh();q(()=>H(Ct,b(V).text||"")),B(Vt,Ct)};wt(ke,Vt=>{b(V).class==="children"?Vt(Ee):Vt(Ie,!1)})}q(()=>Ce(ae,1,vh(b(V).class||""),"svelte-142ekje")),B(k,ae)});var nt=T(ot,2);{var pt=k=>{var V=Dh();B(k,V)};wt(nt,k=>{b(u)&&k(pt)})}Da(j,k=>n=k,()=>n),q(()=>{H(Q,t.title),La(ut,`height: ${r()??""}`)}),B(s,j),Ut()}const Gh=(s,t)=>{Rh(),console.log(`${fs()} ${b(t)}`)};var jh=G('<label class="switch svelte-e7h8rz"><input type="checkbox" class="svelte-e7h8rz"> <span class="slider round svelte-e7h8rz"></span></label>');function Oh(s,t){zt(t,!0);let e=ns(()=>fs()==="rain");var i=jh(),r=A(i);r.__change=[Gh,e],q(()=>Sh(r,b(e))),B(s,i),Ut()}fi(["change"]);function Xt(s){s.preventDefault();const t=s.target.getAttribute("href"),e=document.querySelector(t);if(e){const i=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||70;window.scrollTo({top:e.offsetTop-i,behavior:"smooth"})}}function Nh(s,t){N(t,!b(t))}function zh(s,t){s.preventDefault(),N(t,!1)}var Uh=G('<li class="svelte-s1ug7j"><a class="navLink svelte-s1ug7j"> </a></li>'),Hh=(s,t)=>{Xt(s),N(t,!1)},Vh=G('<li class="terminalNavItem svelte-s1ug7j"><a class="svelte-s1ug7j"><span class="promptSymbol svelte-s1ug7j"></span> <span class="operator svelte-s1ug7j">$</span> <span class="function svelte-s1ug7j">navigate</span> <span class="string svelte-s1ug7j"> </span></a></li>'),$h=G('<ul class="terminalNav svelte-s1ug7j"><!> <li class="terminalNavItem svelte-s1ug7j"><a href="#close" class="svelte-s1ug7j"><span class="promptSymbol svelte-s1ug7j"></span> <span class="operator svelte-s1ug7j">$</span> <span class="function svelte-s1ug7j">navigate</span> <span class="string svelte-s1ug7j">CLOSE TERMINAL</span> <span class="terminalCursor svelte-s1ug7j">‚ñà</span></a></li></ul> <p class="svelte-s1ug7j"><span class="comment svelte-s1ug7j"># Press ESC or click menu icon again to close</span></p>',1),Yh=G('<div class="mobileMenuOverlay svelte-s1ug7j"><div class="mobileMenuContainer svelte-s1ug7j"><!></div></div>'),qh=G('<header class="header svelte-s1ug7j" id="header"><div class="container headerInner svelte-s1ug7j"><p class="logo svelte-s1ug7j"> <!>‚ñà</p> <button class="hamburger svelte-s1ug7j" aria-label="Toggle navigation menu"><span class="svelte-s1ug7j"></span> <span class="svelte-s1ug7j"></span> <span class="svelte-s1ug7j"></span></button> <nav class="nav svelte-s1ug7j"><ul class="navMenu svelte-s1ug7j"><!> <li class="svelte-s1ug7j"><!></li></ul></nav></div> <!></header>');function Wh(s,t){zt(t,!0);let e=tt(!1);const i=[{class:"terminalPrompt",text:"",cursor:!0},{text:"run navigation.sh",class:"terminalTypedText",cursor:!0},{text:`
#!/bin/bash
navigate() {

  local location="$1"
  cd "$location"
  echo "You are now in: $(pwd)"

}`,class:"terminalResponse",cursor:!1,render:"slow"},{class:"children",cursor:!1}],r=[{text:"Home",href:"#hero"},{text:"About",href:"#about"},{text:"Skills",href:"#skills"},{text:"Work",href:"#work-experience"},{text:"Projects",href:"#projects"},{text:"Contact",href:"#contact"}];It(()=>{const x=_=>{_.key==="Escape"&&b(e)&&N(e,!1)};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)});var n=qh(),a=A(n),o=A(a),l=A(o);l.nodeValue="> ";var h=T(l);Eh(h,{text:"Dev_Portfolio.sh "});var c=T(o,2);c.__click=[Nh,e];var u=T(c,2),f=A(u),d=A(f);ft(d,17,()=>r,dt,(x,_)=>{var y=Uh(),S=A(y);S.__click=function(...w){Xt==null||Xt.apply(this,w)};var C=A(S);q(()=>{et(S,"href",b(_).href),H(C,b(_).text)}),B(x,y)});var m=T(d,2),g=A(m);Oh(g,{});var p=T(a,2);{var v=x=>{var _=Yh(),y=A(_),S=A(y);ue(S,{title:"~/navigation.sh",content:i,children:w=>{var I=$h(),R=Se(I),M=A(R);ft(M,17,()=>r,dt,(L,Z)=>{var D=Vh(),Q=A(D);Q.__click=[Hh,e];var ut=A(Q);ut.textContent=">";var ot=T(ut);ot.nodeValue="  ";var nt=T(ot,2);nt.nodeValue="  ";var pt=T(nt,2);pt.nodeValue="   ";var k=T(pt),V=A(k);q(()=>{et(Q,"href",b(Z).href),H(V,`./${b(Z).text??""}`)}),B(L,D)});var E=T(M,2),F=A(E);F.__click=[zh,e];var O=A(F);O.textContent=">";var z=T(O);z.nodeValue="  ";var j=T(z,2);j.nodeValue="  ";var P=T(j,2);P.nodeValue="   ",B(w,I)},$$slots:{default:!0}}),B(x,_)};wt(p,x=>{b(e)&&x(v)})}B(s,n),Ut()}fi(["click"]);const Fa="data:image/svg+xml,%3csvg%20width='98'%20height='96'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M48.854%200C21.839%200%200%2022%200%2049.217c0%2021.756%2013.993%2040.172%2033.405%2046.69%202.427.49%203.316-1.059%203.316-2.362%200-1.141-.08-5.052-.08-9.127-13.59%202.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015%204.934.326%207.523%205.052%207.523%205.052%204.367%207.496%2011.404%205.378%2014.235%204.074.404-3.178%201.699-5.378%203.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283%200-5.378%201.94-9.778%205.014-13.2-.485-1.222-2.184-6.275.486-13.038%200%200%204.125-1.304%2013.426%205.052a46.97%2046.97%200%200%201%2012.214-1.63c4.125%200%208.33.571%2012.213%201.63%209.302-6.356%2013.427-5.052%2013.427-5.052%202.67%206.763.97%2011.816.485%2013.038%203.155%203.422%205.015%207.822%205.015%2013.2%200%2018.905-11.404%2023.06-22.324%2024.283%201.78%201.548%203.316%204.481%203.316%209.126%200%206.6-.08%2011.897-.08%2013.526%200%201.304.89%202.853%203.316%202.364%2019.412-6.52%2033.405-24.935%2033.405-46.691C97.707%2022%2075.788%200%2048.854%200z'%20fill='%23fff'/%3e%3c/svg%3e",Ga="/assets/LI-In-Bug-CHBsXBEb.png",Xh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='31.88'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20257'%3e%3cdefs%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb466'%20x1='-.828%25'%20x2='57.636%25'%20y1='7.652%25'%20y2='78.411%25'%3e%3cstop%20offset='0%25'%20stop-color='%2341D1FF'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23BD34FE'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb467'%20x1='43.376%25'%20x2='50.316%25'%20y1='2.242%25'%20y2='89.03%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFEA83'%3e%3c/stop%3e%3cstop%20offset='8.333%25'%20stop-color='%23FFDD35'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFA800'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb466)'%20d='M255.153%2037.938L134.897%20252.976c-2.483%204.44-8.862%204.466-11.382.048L.875%2037.958c-2.746-4.814%201.371-10.646%206.827-9.67l120.385%2021.517a6.537%206.537%200%200%200%202.322-.004l117.867-21.483c5.438-.991%209.574%204.796%206.877%209.62Z'%3e%3c/path%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb467)'%20d='M185.432.063L96.44%2017.501a3.268%203.268%200%200%200-2.634%203.014l-5.474%2092.456a3.268%203.268%200%200%200%203.997%203.378l24.777-5.718c2.318-.535%204.413%201.507%203.936%203.838l-7.361%2036.047c-.495%202.426%201.782%204.5%204.151%203.78l15.304-4.649c2.372-.72%204.652%201.36%204.15%203.788l-11.698%2056.621c-.732%203.542%203.979%205.473%205.943%202.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505%204.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z'%3e%3c/path%3e%3c/svg%3e",Jh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='26.6'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20308'%3e%3cpath%20fill='%23FF3E00'%20d='M239.682%2040.707C211.113-.182%20154.69-12.301%20113.895%2013.69L42.247%2059.356a82.198%2082.198%200%200%200-37.135%2055.056a86.566%2086.566%200%200%200%208.536%2055.576a82.425%2082.425%200%200%200-12.296%2030.719a87.596%2087.596%200%200%200%2014.964%2066.244c28.574%2040.893%2084.997%2053.007%20125.787%2027.016l71.648-45.664a82.182%2082.182%200%200%200%2037.135-55.057a86.601%2086.601%200%200%200-8.53-55.577a82.409%2082.409%200%200%200%2012.29-30.718a87.573%2087.573%200%200%200-14.963-66.244'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.889%20270.841c-23.102%206.007-47.497-3.036-61.103-22.648a52.685%2052.685%200%200%201-9.003-39.85a49.978%2049.978%200%200%201%201.713-6.693l1.35-4.115l3.671%202.697a92.447%2092.447%200%200%200%2028.036%2014.007l2.663.808l-.245%202.659a16.067%2016.067%200%200%200%202.89%2010.656a17.143%2017.143%200%200%200%2018.397%206.828a15.786%2015.786%200%200%200%204.403-1.935l71.67-45.672a14.922%2014.922%200%200%200%206.734-9.977a15.923%2015.923%200%200%200-2.713-12.011a17.156%2017.156%200%200%200-18.404-6.832a15.78%2015.78%200%200%200-4.396%201.933l-27.35%2017.434a52.298%2052.298%200%200%201-14.553%206.391c-23.101%206.007-47.497-3.036-61.101-22.649a52.681%2052.681%200%200%201-9.004-39.849a49.428%2049.428%200%200%201%2022.34-33.114l71.664-45.677a52.218%2052.218%200%200%201%2014.563-6.398c23.101-6.007%2047.497%203.036%2061.101%2022.648a52.685%2052.685%200%200%201%209.004%2039.85a50.559%2050.559%200%200%201-1.713%206.692l-1.35%204.116l-3.67-2.693a92.373%2092.373%200%200%200-28.037-14.013l-2.664-.809l.246-2.658a16.099%2016.099%200%200%200-2.89-10.656a17.143%2017.143%200%200%200-18.398-6.828a15.786%2015.786%200%200%200-4.402%201.935l-71.67%2045.674a14.898%2014.898%200%200%200-6.73%209.975a15.9%2015.9%200%200%200%202.709%2012.012a17.156%2017.156%200%200%200%2018.404%206.832a15.841%2015.841%200%200%200%204.402-1.935l27.345-17.427a52.147%2052.147%200%200%201%2014.552-6.397c23.101-6.006%2047.497%203.037%2061.102%2022.65a52.681%2052.681%200%200%201%209.003%2039.848a49.453%2049.453%200%200%201-22.34%2033.12l-71.664%2045.673a52.218%2052.218%200%200%201-14.563%206.398'%3e%3c/path%3e%3c/svg%3e";var Kh=G('<a class="footerLink svelte-1w0p3u2"> </a>'),Zh=G('<footer class="footer svelte-1w0p3u2"><div class="container"><div class="footerContent svelte-1w0p3u2"><div class="footerLogo svelte-1w0p3u2">Dev_Portfolio</div> <div class="footerLinks svelte-1w0p3u2"></div> <div class="socialLinks svelte-1w0p3u2"><a href="https://github.com/BDS-001" target="_blank" rel="noopener noreferrer" class="socialLink svelte-1w0p3u2" aria-label="Visit my GitHub profile"><img alt="GitHub" class="githubIcon svelte-1w0p3u2"></a> <a href="https://www.linkedin.com/in/brian-s-98151921a/" target="_blank" rel="noopener noreferrer" class="socialLink svelte-1w0p3u2" aria-label="Connect with me on LinkedIn"><img alt="LinkedIn" class="linkedinIcon svelte-1w0p3u2"></a></div></div> <div class="builtWith svelte-1w0p3u2"><span class="builtWithText svelte-1w0p3u2">Built with</span> <div class="techIcons svelte-1w0p3u2"><a href="https://vite.dev" target="_blank" rel="noreferrer" class="techLogo svelte-1w0p3u2"><img alt="Vite Logo" class="svelte-1w0p3u2"> <span>Vite</span></a> <a href="https://svelte.dev" target="_blank" rel="noreferrer" class="techLogo svelte svelte-1w0p3u2"><img alt="Svelte Logo" class="svelte-1w0p3u2"> <span>Svelte</span></a></div></div> <div class="copyright svelte-1w0p3u2"> </div></div></footer>');function Qh(s,t){zt(t,!1);const e=[{text:"Home",href:"#hero"},{text:"About",href:"#about"},{text:"Skills",href:"#skills"},{text:"Projects",href:"#projects"},{text:"Contact",href:"#contact"}];pi();var i=Zh(),r=A(i),n=A(r),a=T(A(n),2);ft(a,5,()=>e,dt,(y,S)=>{var C=Kh(),w=A(C);q(()=>{et(C,"href",b(S).href),H(w,b(S).text)}),Ia("click",C,function(...I){Xt==null||Xt.apply(this,I)}),B(y,C)});var o=T(a,2),l=A(o),h=A(l);et(h,"src",Fa);var c=T(l,2),u=A(c);et(u,"src",Ga);var f=T(n,2),d=T(A(f),2),m=A(d),g=A(m);et(g,"src",Xh);var p=T(m,2),v=A(p);et(v,"src",Jh);var x=T(f,2),_=A(x);q(y=>H(_,`¬© ${y??""} BDS. All Rights Reserved.`),[()=>new Date().getFullYear()],Tt),B(s,i),Ut()}var tc=G(`<section id="hero" class="hero svelte-fsg6j8"><div class="container svelte-fsg6j8"><div class="heroContent svelte-fsg6j8"><h1 class="svelte-fsg6j8">Hello, I'm <span class="nameHighlight svelte-fsg6j8">Brian.</span> <span class="devHighlight svelte-fsg6j8">Fullstack Developer.</span></h1> <!> <p class="svelte-fsg6j8">I specialize in creating responsive web applications with clean, efficient code and
        intuitive user interfaces. Let's work together to bring your ideas to life!</p> <a href="#contact" class="ctaButton svelte-fsg6j8">Get In Touch</a></div></div></section>`);function ec(s){const t=[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"sudo boot_sequence.sh -v",class:"terminalTypedText",cursor:!0},{text:`
  SYSTEM INITIALIZATION SEQUENCE
  ----------------------------------------
  [‚úì] Core Systems............... ONLINE
  [‚úì] Neural Network............ ACTIVE
  [‚úì] Language Processors....... LOADED
  [‚úì] Dev Environment.......... READY
  
  Loading welcome module...
  `,class:"terminalResponse",cursor:!1,render:"slow"},{text:`
  __        __   _ 
  \\ \\      / /__| | ___ ___  _ __ ___   ___    
   \\ \\ /\\ / / _ \\ |/ __/ _ \\| '_ ' _ \\ / _ \\
    \\ V  V /  __/ | (_| (_) | | | | | |  __/ 
     \\_/\\_/ \\___|_|\\___\\___/|_| |_| |_|\\___|
     `,class:"terminalResponse",cursor:!1,render:"slow"},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}];var e=tc(),i=A(e),r=A(i),n=A(r),a=T(A(n),2);a.nodeValue="  ";var o=T(n,2);ue(o,{title:"~/portfolio/intro",content:t});var l=T(o,4);Ia("click",l,function(...h){Xt==null||Xt.apply(this,h)}),B(s,e)}var sc=G('<h2 class="sectionTitle svelte-psqpog"> </h2>');function Ss(s,t){var e=sc(),i=A(e);q(()=>H(i,t.title)),B(s,e)}var ic=G(`<section id="about" class="aboutSection svelte-lqtsgg"><div class="container"><!> <!> <div class="aboutContent svelte-lqtsgg"><div class="aboutInfo svelte-lqtsgg"><p class="svelte-lqtsgg"> </p> <p class="svelte-lqtsgg">I've built multiple projects showcased on my GitHub, each one representing a new challenge
          I took on to expand my skills. These projects reflect my growth as a developer and my
          commitment to writing clean, maintainable code.</p> <p class="svelte-lqtsgg">For the past year, I've been working on 2 significant freelance projects, developing a
          company website from the ground up. This long-term engagement has given me invaluable
          real-world experience in understanding client needs, meeting deadlines, and delivering
          professional results.</p></div> <div class="experienceCards svelte-lqtsgg"><div class="experienceCard svelte-lqtsgg"><div class="experienceIcon svelte-lqtsgg">üíº</div> <div class="experienceDetails svelte-lqtsgg"><h3 class="svelte-lqtsgg">Professional Experience</h3> <p class="svelte-lqtsgg"> </p></div></div> <div class="experienceCard svelte-lqtsgg"><div class="experienceIcon svelte-lqtsgg">üè¢</div> <div class="experienceDetails svelte-lqtsgg"><h3 class="svelte-lqtsgg">Professional Projects</h3> <p class="svelte-lqtsgg">2 Live Client Projects</p></div></div> <div class="experienceCard svelte-lqtsgg"><div class="experienceIcon svelte-lqtsgg">üöÄ</div> <div class="experienceDetails svelte-lqtsgg"><h3 class="svelte-lqtsgg">Personal Projects</h3> <p class="svelte-lqtsgg">Multiple Projects - available on github</p></div></div></div></div></div></section>`);function rc(s,t){zt(t,!0);const e=2022,i=2023,r=ns(()=>new Date().getFullYear()-e+1),n=ns(()=>new Date().getFullYear()-i),a=ns(()=>[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"access personnel_database.db --profile=BDS-001",class:"terminalTypedText",cursor:!0},{text:`
  Accessing Secure Database...
  Authentication Required...
  Biometric scan: COMPLETE
  Access granted.
  
  Loading Personnel File [ID: BDS-001]
  `,class:"terminalResponse",render:"slow",cursor:!1},{text:`
  /**************************************
   *        DEVELOPER PROFILE: 001       *
   **************************************/
  
  NAME: BRIAN | BDS-001
  STATUS: ACTIVE
  CLEARANCE: LEVEL 5 - FULLSTACK
  DEPLOYMENT HISTORY: ${b(r)} YEARS
  
  CAREER TRAJECTORY:
  ‚îî‚îÄ YEAR 0: Initiation Protocol - University Courses: Database Design & Development
  ‚îî‚îÄ YEAR 1: Fundamentals Skill Acquisition - Harvard's: CS50x | CS50p | CS50w via edx
  ‚îî‚îÄ YEAR 2: Framework Integration - Odin Project: HTML/CSS/JavaScript/React/postgress/jest/Node.js
  ‚îî‚îÄ YEAR 3: Professional Deployment - Completed: Freelance Project, Odin Project | Current Status: Continuous Learning
  
  MISSION ACCOMPLISHMENTS:
  ‚îú‚îÄ Multiple Personal Project Deployments
  ‚îú‚îÄ 1 Year Active Freelance Service
  ‚îú‚îÄ 1 Major Client Website Development
  ‚îî‚îÄ Continuous Skill Improvement Protocol Active
  
  CURRENT OBJECTIVE: 
  ‚îî‚îÄ SEEKING PERMANENT DEPLOYMENT OPPORTUNITIES
  
  [EOF]
  `,class:"terminalResponse",render:"slow",cursor:!1},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}]);var o=ic(),l=A(o),h=A(l);Ss(h,{title:"About Me"});var c=T(h,2);ue(c,{get content(){return b(a)},title:"~/portfolio/about"});var u=T(c,2),f=A(u),d=A(f),m=A(d),g=T(f,2),p=A(g),v=T(A(p),2),x=T(A(v),2),_=A(x);q(()=>{H(m,`Hello, I'm a self-taught developer who has been on a continuous learning journey for the
          past ${b(r)??""}
          years. Starting with simple coding and database development in university while pursuing my
          bachelors of science degree with a focus on health tech and informatics, I discovered my passion
          for computer science. What began as a hobby has evolved into a serious pursuit of creating
          efficient, user-friendly applications.`),H(_,`${b(n)??""} Year${b(n)>1?"s":""}`)}),B(s,o),Ut()}var nc=G("<span></span>"),ac=G('<div class="skillItem svelte-1dq7e2r"><span class="skillName svelte-1dq7e2r"> </span> <div class="skillLevel svelte-1dq7e2r"></div></div>'),oc=G('<div class="skillCategory svelte-1dq7e2r"><h3 class="skillCategoryTitle svelte-1dq7e2r"> </h3> <div></div></div>');function lc(s,t){let e=Rt(t,"title",8),i=Rt(t,"skills",8);function r(h){const c=[];for(let u=0;u<5;u++)c.push(u<h);return c}var n=oc(),a=A(n),o=A(a),l=T(a,2);ft(l,5,i,dt,(h,c)=>{var u=ac(),f=A(u),d=A(f),m=T(f,2);ft(m,5,()=>r(b(c).level),dt,(g,p)=>{var v=nc();q(()=>Ce(v,1,`skillPip ${b(p)?"filled":""}`,"svelte-1dq7e2r")),B(g,v)}),q(()=>H(d,b(c).name)),B(h,u)}),q(()=>H(o,e())),B(s,n)}var hc=G('<div class="terminalOutput svelte-1jv4g3e" slot="default"><div class="falloutSkillsHeader svelte-1jv4g3e"><h2 class="falloutSkillsTitle svelte-1jv4g3e">S.K.I.L.L.S.</h2> <p class="falloutSkillsSubtitle svelte-1jv4g3e">Software Knowledge Integration, Language Libraries & Systems</p></div> <div class="falloutSkillsGrid svelte-1jv4g3e"></div></div>'),cc=G(`<section id="skills" class="skillsSection svelte-1jv4g3e"><div class="container"><!> <div class="terminal svelte-1jv4g3e"><!></div> <div class="additionalSkills svelte-1jv4g3e"><p><strong>Other skills:</strong> Asynchronous JavaScript (Promises, Async/Await), Debugging, Object-Oriented
        Programming, Functional Programming, Test-Driven Development, Module Bundling, State Management,
        DOM Manipulation, API Integration, CRUD Operations, Form Validation, C (Fundamentals), Lua (Game
        Programming), Linux Basics, VS Code</p> <p class="infoText svelte-1jv4g3e"><i class="fas fa-info-circle infoIcon svelte-1jv4g3e"></i> Completed The Odin Project's Fullstack JavaScript path and actively building projects for my
        portfolio</p></div></div></section>`);function uc(s){const t=[{title:"Front-End",icon:"laptop-code",skills:[{name:"JavaScript (ES6+)",level:4},{name:"HTML5/CSS3",level:4},{name:"React",level:4},{name:"Webpack",level:3},{name:"Responsive Design",level:4}]},{title:"Back-End",icon:"server",skills:[{name:"Node.js",level:4},{name:"Express.js",level:4},{name:"RESTful APIs",level:4},{name:"Python",level:3},{name:"Authentication",level:3}]},{title:"Database & Storage",icon:"database",skills:[{name:"PostgreSQL",level:4},{name:"Prisma ORM",level:3},{name:"SQL",level:4},{name:"MySQL",level:3},{name:"Database Design",level:3}]},{title:"Developer Tools",icon:"tools",skills:[{name:"Git & GitHub",level:4},{name:"Command Line",level:3},{name:"npm",level:4},{name:"Jest",level:2},{name:"Chrome DevTools",level:3}]}],e=[{class:"terminalPrompt",text:"BDS-001:~ $",cursor:!0},{text:" xdg-open ./skills.html",class:"terminalTypedText",cursor:!0},{text:`
Initializing...`,class:"terminalResponse",render:"slow"},{text:"Processing Skills...",class:"terminalResponse",render:"slow"},{text:"Rendering Skills...",class:"terminalResponse",render:"slow"},{class:"children",cursor:!1},{class:"terminalPrompt",cursor:!0,text:"BDS-001:~ $ "}];var i=cc(),r=A(i),n=A(r);Ss(n,{title:"My Skills"});var a=T(n,2),o=A(a);ue(o,{title:"~/portfolio/skills",content:e,height:"880px",children:(l,h)=>{var c=hc(),u=T(A(c),2);ft(u,5,()=>t,dt,(f,d)=>{lc(f,{get title(){return b(d).title},get skills(){return b(d).skills}})}),B(l,c)},$$slots:{default:!0}}),B(s,i)}const dc="/assets/featured-B2Eo2dDc.png",fc="/assets/chatSphere-BOOYRHGy.png",pc="/assets/AdminDashboard-Czd24UAr.png",mc="/assets/battleship-CeqjUsd6.png",gc="/assets/blog-DKXiY6l0.png",_c="/assets/calculator-EcRMlBlk.png",vc="/assets/etch-CBmWDn3A.png",xc="/assets/fileUploader-168H9H_v.png",yc="/assets/MemoryGame-B7aJzlnE.png",bc="/assets/ascii-smvffVZM.png",wc="/assets/library-Cd4et4Lv.png",Sc="/assets/miniMessage-CzQPKqCv.png",Cc="/assets/RPS-QveF0Tvl.png",Ac="/assets/sudoku-TVXgy5mK.png",Pc="/assets/tictac-DNzsL1Fd.png",Tc="/assets/todo-BnCRr9AW.png",Mc="/assets/waldo-DOsl5Pn3.png",kc="/assets/gameInventory-C0EaSL9z.png",Ec="/assets/members-CA3-dDKl.png",Ic="/assets/shopping-Bw00HqLx.png",Rc="/assets/weather-CxiXIB8W.png",Lc="/assets/cvGenerator-3F1IRlzh.png",Bc="/assets/FormatMyCV-CPoioij0.png",Dc="/assets/NotesApp-DRvvraUx.png",Fc="/assets/archivist-mMd28y3x.png",Gc="/assets/keystrike-CCUygLZs.png",jc="/assets/lootScout-BHtBqkbM.png",Oc="/assets/hobbycardheaven-oNg_mjJ0.png",Nc="/assets/universalScoreTracker-RBUqSKCE.png",yi={"Full-Stack Applications":[{id:"PRJ-001",title:"ChatSphere",image:fc,description:"A full-stack web messaging application that allows users to communicate in real-time with features like direct messaging, group chats, and contact management.",tags:["React","Node.js","Express","PostgreSQL","Prisma","JWT"],demoLink:"",githubLink:"https://github.com/BDS-001/Messaging-App"},{id:"PRJ-002",title:"Where's Waldo Clone",image:Mc,description:"A full-stack photo-tagging game where players search for hidden characters within detailed images, with time tracking and leaderboards.",tags:["React","Node.js","Express","PostgreSQL","Prisma"],demoLink:"",githubLink:"https://github.com/BDS-001/Wheres-Waldo-Photo-Tagging-App"},{id:"PRJ-003",title:"Blog Platform",image:gc,description:"A full-stack blog platform with separate interfaces for content authors and readers, featuring rich text editing, comment system, and user authentication.",tags:["React","Node.js","Express","Prisma","JWT"],demoLink:"",githubLink:"https://github.com/BDS-001/Blog"},{id:"PRJ-004",title:"File Uploader",image:xc,description:"A simple file and folder management system built with Express and Prisma, allowing users to securely upload, organize, and download their files.",tags:["Node.js","Express","PostgreSQL","Prisma","Passport.js","Multer","EJS"],demoLink:"",githubLink:"https://github.com/BDS-001/File-Uploader"},{id:"PRJ-005",title:"Video Game Inventory",image:kc,description:"A full-stack web application for managing a video game collection. Built with Node.js, Express, PostgreSQL, and EJS templating with CRUD operations for video games.",tags:["Node.js","Express","PostgreSQL","EJS","express-validator"],demoLink:"",githubLink:"https://github.com/BDS-001/Inventory-Application"},{id:"PRJ-006",title:"Members Only",image:Ec,description:"A private clubhouse web application where members can write anonymous posts. Inside the clubhouse, members can see who wrote each post, but non-members can only see the content without knowing the author.",tags:["Node.js","Express","PostgreSQL","EJS","Passport.js","bcrypt.js"],demoLink:"",githubLink:"https://github.com/BDS-001/Members-Only"}],"Frontend Applications with API Integration":[{id:"PRJ-007",title:"Pok√©mon Card Memory Game",image:yc,description:"A React memory game that tests your ability to remember which Pok√©mon cards you've already clicked, with score tracking and dynamic card shuffling.",tags:["React","Vite","CSS Modules","Pok√©API"],demoLink:"https://bds-001.github.io/Memory-Card/",githubLink:"https://github.com/BDS-001/Memory-Card"},{id:"PRJ-008",title:"Shopping Site",image:Ic,description:"A React-based e-commerce application that simulates an online shopping experience with product browsing, cart functionality, and checkout process.",tags:["React","React Router","Fake Store API","CSS"],demoLink:"",githubLink:"https://github.com/BDS-001/Shopping-Cart"},{id:"PRJ-009",title:"Weather Forecast Application",image:Rc,description:"A responsive web application that provides detailed weather forecasts with multi-day predictions, hourly breakdowns, and dynamic backgrounds based on conditions.",tags:["HTML","CSS","JavaScript","WeatherAPI","Async/Await"],demoLink:"https://bds-001.github.io/Weather-App/",githubLink:"https://github.com/BDS-001/Weather-App"}],"Mobile Apps":[{id:"PRJ-023",title:"Notes",image:Dc,description:"A privacy-focused mobile note-taking application built with React Native and Expo. Features include real-time autosaving, automatic sorting by last modified date, and a clean dark theme interface. All data is stored locally on the device with no tracking or data collection, providing users with a distraction-free note-taking experience.",tags:["React Native","Expo","AsyncStorage","Expo Router","Context API","Mobile Development"],demoLink:"",githubLink:"https://github.com/BDS-001/Notes-mobile-app"}],"React Projects":[{id:"PRJ-010",title:"Universal Score Tracker",image:Nc,description:"A universal game score tracking application for keeping track of scores across various board games and card games.",tags:["React","Vite","CSS"],demoLink:"https://bds-001.github.io/Universal-Game-Score-Tracker/",githubLink:"https://github.com/BDS-001/Universal-Game-Score-Tracker"},{id:"PRJ-011",title:"CV Generator",image:Lc,description:"A React application that allows users to create and customize their CV/r√©sum√© with a clean, professional output. Features include dynamic form input, live preview, and responsive design.",tags:["React","Vite","UUID","CSS"],demoLink:"",githubLink:"https://github.com/BDS-001/React-CV-Application"}],"JavaScript Applications":[{id:"PRJ-012",title:"Battleship Game",image:mc,description:"A classic implementation of the Battleship board game with two game modes, drag and drop ship placement, turn-based gameplay, and smart AI that targets adjacent squares.",tags:["JavaScript","Webpack","Jest","HTML5 Drag & Drop","TDD"],demoLink:"",githubLink:"https://github.com/BDS-001/Battleship"},{id:"PRJ-013",title:"Task Manager",image:Tc,description:"A feature-rich todo list application with project management, task organization by due date, priority levels, and data persistence using localStorage.",tags:["HTML","CSS","JavaScript","Webpack","localStorage","Bootstrap Icons"],demoLink:"https://bds-001.github.io/TODO-List/",githubLink:"https://github.com/BDS-001/TODO-List"},{id:"PRJ-014",title:"Sudoku Solver",image:Ac,description:"A web-based application for solving Sudoku puzzles using a backtracking algorithm. This interactive tool allows users to input their Sudoku puzzles and get solutions instantly.",tags:["HTML","CSS","JavaScript","Backtracking Algorithm"],demoLink:"https://bds-001.github.io/Sudoku-Solver/",githubLink:"https://github.com/BDS-001/Sudoku-Solver"}],"Intermediate Web Projects":[{id:"PRJ-016",title:"Mini Message Board",image:Sc,description:"A simple interactive message board built with Express.js and PostgreSQL that allows users to create, view, and interact with messages.",tags:["Node.js","Express","EJS","PostgreSQL"],demoLink:"",githubLink:"https://github.com/BDS-001/Mini-Message-Board-"},{id:"PRJ-017",title:"Browser Tic-Tac-Toe",image:Pc,description:"A classic Tic-Tac-Toe game built with vanilla JavaScript featuring customizable player names, score tracking, and a responsive design with a clean UI.",tags:["HTML","CSS","JavaScript","Module Pattern"],demoLink:"https://bds-001.github.io/Tic-Tac-Toe/",githubLink:"https://github.com/BDS-001/Tic-Tac-Toe"},{id:"PRJ-018",title:"My Library",image:wc,description:"A book tracking application that allows users to add books to their virtual library, toggle read status, and remove books when needed with a clean interface.",tags:["HTML","CSS","JavaScript","OOP"],demoLink:"",githubLink:"https://github.com/BDS-001/Library"}],"Beginner Web Projects":[{id:"PRJ-019",title:"Rock Paper Scissors",image:Cc,description:"A classic Rock Paper Scissors game built with HTML, CSS, and JavaScript. Features an interactive UI with visual feedback, score tracking, and a first-to-3 scoring system.",tags:["HTML","CSS","JavaScript"],demoLink:"https://bds-001.github.io/Rock-Paper-Scissors/",githubLink:"https://github.com/BDS-001/Rock-Paper-Scissors"},{id:"PRJ-020",title:"Dashboard Project",image:pc,description:"A responsive dashboard UI built with CSS Grid, featuring a clean modern design with navigation panel, search functionality, project cards, and announcements section.",tags:["HTML","CSS Grid","Bootstrap Icons"],demoLink:"",githubLink:"https://github.com/BDS-001/Admin-Dashboard"},{id:"PRJ-021",title:"Etch-a-Sketch",image:vc,description:"A browser-based drawing application inspired by the classic Etch-a-Sketch toy. This interactive web app allows users to create pixel art by hovering their mouse over a grid.",tags:["HTML","CSS","JavaScript","Flexbox"],demoLink:"https://bds-001.github.io/Etch-a-Sketch/",githubLink:"https://github.com/BDS-001/Etch-a-Sketch"},{id:"PRJ-022",title:"JavaScript Calculator",image:_c,description:"A simple, functional calculator built with vanilla JavaScript, featuring basic arithmetic operations, error handling, and a clean, modern UI with visual feedback.",tags:["HTML","CSS","JavaScript"],demoLink:"https://bds-001.github.io/Calculator/",githubLink:"https://github.com/BDS-001/Calculator"}],Games:[{id:"PRJ-025",title:"MonsterType",image:Gc,description:"A typing-based survival game built with Phaser.js where players eliminate enemies by typing words accurately and quickly. Features multiple enemy types, progressive difficulty, health system with collectible medkits, and responsive design. Currently under active development with ongoing feature enhancements.",tags:["Phaser.js","JavaScript ES6+","Vite","Game Development","OOP","Physics"],demoLink:"https://bds-001.github.io/MonsterType/",githubLink:"https://github.com/BDS-001/MonsterType"}],"Browser Extensions":[{id:"PRJ-024",title:"Archivist",image:Fc,description:"A browser extension that displays a banner on missing webpages if an archive is available on the Wayback Machine. Features a pixel art design with medieval theming and provides quick access to archived versions of unavailable content.",tags:["JavaScript","WebExtensions API","CSS","HTML","Browser Extension"],demoLink:"",githubLink:"https://github.com/BDS-001/Archivist"}]},zc=[{id:"FEATURED-003",title:"LootScout",image:jc,description:"A browser extension that enhances Steam browsing by providing real-time game deal comparisons and pricing analysis. Features a gaming-inspired rarity system (Common to Iridescent) that rates deals based on discount percentages, historical price tracking, and seamless integration with Steam's interface. Built with TypeScript and includes a Vercel proxy server for API access to GG.deals and Steam Store APIs.",tags:["TypeScript","Browser Extension","React","Vite","Vercel","Steam API","Gaming"],demoLink:"",githubLink:"https://github.com/BDS-001/LootScout",downloadLinks:[{text:"Firefox Download",link:"https://addons.mozilla.org/en-US/firefox/addon/lootscout/"}]},{id:"FEATURED-004",title:"FormatMyCV",image:Bc,description:"A reimagined version of the CV Generator with improved architecture. This sleek resume builder uses React Context API for better state management and adds functionality for users to import/export resume data in JSON format and print to PDF. Features an intuitive form interface and real-time preview.",tags:["React","Context API","Vite","CSS","JSON Import/Export"],demoLink:"https://bds-001.github.io/FormatMyCV/",githubLink:"https://github.com/BDS-001/FormatMyCV"},{id:"FEATURED-005",title:"Photo-To-ASCII",image:bc,description:"A JavaScript library that transforms images into ASCII art with multiple rendering modes and customization options. Supports standard ASCII characters, Braille patterns, and edge detection.",tags:["JavaScript","Canvas API","HTML","CSS"],demoLink:"https://bds-001.github.io/Photo-To-ASCII/",githubLink:"https://github.com/BDS-001/Photo-To-ASCII"}],Uc=[{id:"WORK-001",title:"LWK Media",description:"A dynamic production house website showcasing professional video and photo services. This freelance project evolved through three major revisions from a static HTML/CSS/JS site to a full React application. Features include responsive design, Vimeo video integration, Google Forms integration, and SEO optimization with React Helmet, robots.txt, and sitemap.xml. The site showcases various services including business solutions, documentaries, real estate and creative storytelling.",tags:["React","Vite","React Router","React Helmet","SEO","Responsive Design","Client Project"],image:dc,demoLink:"https://www.lwkmedia.com/"},{id:"WORK-002",title:"Hobby Card Heaven",description:"A full-stack e-commerce platform for Pok√©mon card trading built with SvelteKit. The frontend is live and fully functional, featuring dynamic product listings with Sanity CMS integration, advanced filtering and search capabilities, responsive design with mobile-first approach, and comprehensive SEO optimization. Includes contact forms with email integration, social media integration, and strategic API usage management to optimize costs. Backend development is currently in progress to add direct purchasing capabilities and enhanced user features.",tags:["SvelteKit","Full-Stack","Sanity CMS","JavaScript","CSS","SEO","Responsive Design","E-commerce","Email Integration"],image:Oc,demoLink:"https://hobbycardheaven.com/"}];var Hc=G("<span> </span>"),Vc=G('<a target="_blank" rel="noopener noreferrer" class="cardLink svelte-1y5m0bp">View project</a>'),$c=G('<article class="workCard svelte-1y5m0bp"><div class="cardAccentRow svelte-1y5m0bp"><span class="accentDot svelte-1y5m0bp" aria-hidden="true"></span> <span class="accentLabel svelte-1y5m0bp"> </span> <span class="accentDivider svelte-1y5m0bp" aria-hidden="true"></span> <span class="accentNumber svelte-1y5m0bp"> </span></div> <div class="cardBody svelte-1y5m0bp"><div class="cardImage svelte-1y5m0bp"><img class="svelte-1y5m0bp"></div> <div class="cardInfo svelte-1y5m0bp"><div class="cardHeader svelte-1y5m0bp"><div class="cardTitleGroup svelte-1y5m0bp"><span class="cardEyebrow svelte-1y5m0bp">Featured work</span> <h3 class="cardTitle svelte-1y5m0bp"> </h3></div></div> <p class="cardDescription svelte-1y5m0bp"> </p> <div class="cardMetaRow svelte-1y5m0bp"><span class="metaItem svelte-1y5m0bp"><span class="metaLabel svelte-1y5m0bp">Stack</span> <span class="metaValue svelte-1y5m0bp"> </span></span> <span class="metaItem svelte-1y5m0bp"><span class="metaLabel svelte-1y5m0bp">Status</span> <span class="metaValue svelte-1y5m0bp"> </span></span></div> <div class="cardTags svelte-1y5m0bp"></div> <div class="cardFooter svelte-1y5m0bp"><div class="footerNote svelte-1y5m0bp"><span class="metaLabel svelte-1y5m0bp">Deliverable</span> <span class="metaValue svelte-1y5m0bp"> </span></div> <!></div></div></div></article>'),Yc=G('<section class="workSection svelte-1y5m0bp"></section>');function qc(s,t){zt(t,!1);const e=a=>(a+1).toString().padStart(2,"0"),i=a=>Array.isArray(a)&&a.includes("Client Project")?"Client build":"Product build",r=a=>Array.isArray(a)?a.slice(0,3).join(" ¬∑ "):"";pi();var n=Yc();ft(n,5,()=>Uc,dt,(a,o,l)=>{var h=$c();La(h,`--card-index: ${l}`);var c=A(h),u=T(A(c),2),f=A(u),d=T(u,4),m=A(d),g=T(c,2),p=A(g),v=A(p),x=T(p,2),_=A(x),y=A(_),S=T(A(y),2),C=A(S),w=T(_,2),I=A(w),R=T(w,2),M=A(R),E=T(A(M),2),F=A(E),O=T(M,2),z=T(A(O),2),j=A(z),P=T(R,2);ft(P,5,()=>b(o).tags,dt,(nt,pt,k)=>{var V=Hc();const ae=Tt(()=>k%7);var ke=A(V);q(()=>{Ce(V,1,`tag tag-${b(ae)??""}`,"svelte-1y5m0bp"),H(ke,b(pt))}),B(nt,V)});var L=T(P,2),Z=A(L),D=T(A(Z),2),Q=A(D),ut=T(Z,2);{var ot=nt=>{var pt=Vc();q(()=>et(pt,"href",b(o).demoLink)),B(nt,pt)};wt(ut,nt=>{b(o).demoLink&&nt(ot)})}q((nt,pt,k,V)=>{H(f,nt),H(m,`#${pt??""}`),et(v,"src",b(o).image),et(v,"alt",b(o).title),H(C,b(o).title),H(I,b(o).description),H(F,k),H(j,b(o).demoLink?"Live":"In progress"),H(Q,V)},[()=>i(b(o).tags),()=>e(l),()=>r(b(o).tags),()=>i(b(o).tags)],Tt),B(a,h)}),B(s,n),Ut()}var Wc=G('<div slot="default" class="workTerminalBody svelte-1cywtzl"><!></div>'),Xc=G('<section id="work-experience" class="workExperience"><div class="container"><!> <!></div></section>');function Jc(s){const t=[{class:"children",cursor:!1}];var e=Xc(),i=A(e),r=A(i);Ss(r,{title:"Work Experience & Client Projects"});var n=T(r,2);ue(n,{title:"~/portfolio/work-experience",content:t,height:"auto",children:(a,o)=>{var l=Wc(),h=A(l);qc(h,{}),B(a,l)},$$slots:{default:!0}}),B(s,e)}var Kc=G("<span> </span>"),Zc=G('<a target="_blank" rel="noopener noreferrer" class="projectLink svelte-1bxzj5z">View Demo</a>'),Qc=G('<a target="_blank" rel="noopener noreferrer" class="projectLink svelte-1bxzj5z">Source Code</a>'),tu=G('<div class="projectCard svelte-1bxzj5z"><div class="cassetteHeader svelte-1bxzj5z"><div class="cassetteTitle svelte-1bxzj5z"> </div> <div class="projectId svelte-1bxzj5z"> </div></div> <div class="projectImg svelte-1bxzj5z"><img class="imageBase svelte-1bxzj5z" loading="lazy"></div> <div class="cassetteHoles svelte-1bxzj5z"><div class="cassetteHole svelte-1bxzj5z"></div> <div class="cassetteHole svelte-1bxzj5z"></div></div> <div class="projectDetails svelte-1bxzj5z"><h3 class="projectTitle svelte-1bxzj5z"> </h3> <p class="projectDescription lightText svelte-1bxzj5z"> </p> <div class="projectTags tagsContainer svelte-1bxzj5z"></div> <div class="projectLinks svelte-1bxzj5z"><!> <!></div></div> <div class="buffer svelte-1bxzj5z"></div> <div class="cassetteFooter svelte-1bxzj5z"><div class="cassetteReel svelte-1bxzj5z"></div> <div class="cassetteReel svelte-1bxzj5z"></div></div></div>');function qr(s,t){let e=Rt(t,"title",8),i=Rt(t,"image",8),r=Rt(t,"description",8),n=Rt(t,"tags",8),a=Rt(t,"demoLink",8),o=Rt(t,"githubLink",8),l=Rt(t,"id",8,"");var h=tu(),c=A(h),u=A(c),f=A(u),d=T(u,2),m=A(d),g=T(c,2),p=A(g),v=T(g,4),x=A(v),_=A(x),y=T(x,2),S=A(y),C=T(y,2);ft(C,5,n,dt,(F,O,z)=>{var j=Kc();const P=Tt(()=>z%7),L=Tt(()=>b(P)===0?"tagColor1":b(P)===1?"tagColor2":b(P)===2?"tagColor3":b(P)===3?"tagColor4":b(P)===4?"tagColor5":b(P)===5?"tagColor6":"tagColor7");var Z=A(j);q(()=>{Ce(j,1,`projectTag tagBase ${b(L)??""}`,"svelte-1bxzj5z"),H(Z,b(O))}),B(F,j)});var w=T(C,2),I=A(w);{var R=F=>{var O=Zc();q(()=>et(O,"href",a())),B(F,O)};wt(I,F=>{a()&&a()!==""&&F(R)})}var M=T(I,2);{var E=F=>{var O=Qc();q(()=>et(O,"href",o())),B(F,O)};wt(M,F=>{o()&&o()!==""&&F(E)})}q(()=>{H(f,e()),H(m,l()),et(p,"src",i()),et(p,"alt",e()),H(_,e()),H(S,r())}),B(s,h)}var eu=G("<span> </span>"),su=G('<a target="_blank" rel="noopener noreferrer" class="featuredProjectLink svelte-sxc1j4">Live Site</a>'),iu=G('<a target="_blank" rel="noopener noreferrer" class="featuredProjectLink svelte-sxc1j4">Source Code</a>'),ru=G("<a> </a>"),nu=G('<section class="featuredProject svelte-sxc1j4"><div class="featuredCassetteHeader svelte-sxc1j4"><div class="featuredCassetteTitle svelte-sxc1j4"> </div> <div class="featuredProjectId svelte-sxc1j4"></div></div> <div class="featuredProjectContent svelte-sxc1j4"><div class="featuredProjectImage svelte-sxc1j4"><img class="imageBase svelte-sxc1j4" loading="lazy"> <div class="featuredProjectSticker svelte-sxc1j4">FEATURED</div></div> <div class="featuredProjectDetails svelte-sxc1j4"><div class="featuredLabel svelte-sxc1j4">Featured Project</div> <h3 class="featuredProjectTitle svelte-sxc1j4"></h3> <p class="featuredProjectDescription lightText svelte-sxc1j4"></p> <div class="featuredProjectTags tagsContainer svelte-sxc1j4"></div> <div class="featuredProjectLinks svelte-sxc1j4"><!> <!> <!></div></div></div> <div class="featuredCassetteFooter svelte-sxc1j4"><div class="featuredCassetteReel svelte-sxc1j4"></div> <div class="featuredCassetteReel svelte-sxc1j4"></div> <div class="featuredCassetteReel svelte-sxc1j4"></div></div></section>');function au(s,t){let e=Rt(t,"project",8);const{id:i,title:r,image:n,description:a,tags:o,demoLink:l,githubLink:h,downloadLinks:c}=e(),u=typeof navigator<"u"&&navigator.userAgent.includes("Firefox");var f=nu(),d=A(f),m=A(d),g=A(m),p=T(m,2);p.textContent=i;var v=T(d,2),x=A(v),_=A(x);et(_,"src",n),et(_,"alt",r);var y=T(x,2),S=T(A(y),2);S.textContent=r;var C=T(S,2);C.textContent=a;var w=T(C,2);ft(w,5,()=>o,dt,(j,P,L)=>{var Z=eu();const D=Tt(()=>L%7),Q=Tt(()=>b(D)===0?"tagColor1":b(D)===1?"tagColor2":b(D)===2?"tagColor3":b(D)===3?"tagColor4":b(D)===4?"tagColor5":b(D)===5?"tagColor6":"tagColor7");var ut=A(Z);q(()=>{Ce(Z,1,`featuredProjectTag tagBase ${b(Q)??""}`,"svelte-sxc1j4"),H(ut,b(P))}),B(j,Z)});var I=T(w,2),R=A(I);{var M=j=>{var P=su();et(P,"href",l),B(j,P)};wt(R,j=>{l&&l!==""&&j(M)})}var E=T(R,2);{var F=j=>{var P=iu();et(P,"href",h),B(j,P)};wt(E,j=>{h&&h!==""&&j(F)})}var O=T(E,2);{var z=j=>{var P=Sr(),L=Se(P);ft(L,1,()=>c,dt,(Z,D)=>{var Q=ru();const ut=Tt(()=>b(D).link.includes("addons.mozilla.org")||b(D).link.endsWith(".xpi")),ot=Tt(()=>b(ut)&&!u);let nt;var pt=A(Q);q(k=>{et(Q,"href",b(ot)?void 0:b(D).link),et(Q,"target",b(ot)?void 0:"_blank"),et(Q,"rel",b(ot)?void 0:"noopener noreferrer"),nt=Ce(Q,1,`featuredProjectLink downloadLink ${b(ot)?"disabled":""}`,"svelte-sxc1j4",nt,k),H(pt,b(D).text)},[()=>({disabled:b(ot)})],Tt),B(Z,Q)}),B(j,P)};wt(O,j=>{c&&c.length>0&&j(z)})}q(j=>H(g,j),[()=>r.length>20?r.substring(0,20):r],Tt),B(s,f)}var ou=(s,t,e)=>N(t,b(e),!0),lu=G("<button> </button>"),hu=G('<div class="filterButtons svelte-50v1om"></div> <span class="comment svelte-50v1om">// Projects in this section include source code available on GitHub</span> <span class="comment svelte-50v1om">// Select projects feature live demos hosted on GitHub Pages</span>',1),cu=G('<div class="categorySection svelte-50v1om"><h3 class="categoryTitle svelte-50v1om"> </h3> <div class="projectsGrid svelte-50v1om"></div></div>'),uu=G('<div class="categorySection svelte-50v1om"><h3 class="categoryTitle svelte-50v1om"> </h3> <div class="projectsGrid svelte-50v1om"></div></div>'),du=G('<section id="projects" class="projectsSection svelte-50v1om"><div class="container"><!> <div class="terminal"><!></div> <!> <!> <div class="projectsContainer svelte-50v1om"><!></div></div></section>');function fu(s,t){zt(t,!0);let e=tt("All"),i=tt(qt([]));const r=["All",...Object.keys(yi)],n=Object.entries(yi).flatMap(([_,y])=>y.map(S=>({...S,category:_})));It(()=>{b(e)==="All"?N(i,n,!0):N(i,n.filter(_=>_.category===b(e)),!0)});const a=[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"node load-featured-project.js",class:"terminalTypedText",cursor:!0},{text:`
  Connecting to repository...
  Authenticating access...
  Access granted.
  Loading featured project data...
  `,class:"terminalResponse",render:"slow",cursor:!1},{text:`
  _____ _____    _  _____ _   _ ____  _____ ____
 |  ___| ____|  / \\|_   _| | | |  _ \\| ____|  _ \\
 | |_  |  _|   / _ \\ | | | | | | |_) |  _| | | | |
 |  _| | |___ / ___ \\| | | |_| |  _ <| |___| |_| |
 |_|   |_____/_/   \\_\\_|  \\___/|_| \\_\\_____|____/
      `,class:"terminalResponse",cursor:!1,render:"slow"},{text:`
  PROJECTS FOUND: "LootScout", "FormatMyCV", "Photo-To-ASCII"
  STATUS: ‚úì DEPLOYED | ‚úì COMPLETED
  DESC: Gaming browser extension + Resume builder + Image ASCII converter
  TECH: TypeScript, React, Context API, Canvas API, Browser Extensions
  FEATURED COUNT: 3
  `,class:"terminalResponse",render:"slow",cursor:!1},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}],o=[{class:"terminalPrompt",text:"BDS-001:~ $",cursor:!0},{text:" ls",class:"terminalTypedText",cursor:!0},{text:`
  Initializing...
  Loading Project Filters...
  Success.
  `,class:"terminalResponse",render:"slow",cursor:!1},{text:`
  ____  ____   ___      _ _____ ____ _____ ____  
 |  _ \\|  _ \\ / _ \\    | | ____/ ___|_   _/ ___| 
 | |_) | |_) | | | |_  | |  _|| |     | | \\___ \\ 
 |  __/|  _ <| |_| | |_| | |__| |___  | |  ___) |
 |_|   |_| \\_\\\\___/ \\___/|_____\\____| |_| |____/
      `,class:"terminalResponse",cursor:!1,render:"slow"},{text:"Select the project filter options below:",class:"terminalResponse",render:"slow"},{class:"children",cursor:!1},{class:"terminalPrompt",cursor:!0,text:"BDS-001:~ $ "}];var l=du(),h=A(l),c=A(h);Ss(c,{title:"My Projects"});var u=T(c,2),f=A(u);ue(f,{title:"~/portfolio/featuredProject",content:a});var d=T(u,2);ft(d,17,()=>zc,dt,(_,y)=>{au(_,{get project(){return b(y)}})});var m=T(d,2);ue(m,{title:"~/portfolio/Projects",content:o,children:(_,y)=>{var S=hu(),C=Se(S);ft(C,21,()=>r,dt,(w,I)=>{var R=lu();R.__click=[ou,e,I];var M=A(R);q(()=>{Ce(R,1,`filterButton ${b(e)===b(I)?"active":""}`,"svelte-50v1om"),H(M,b(I))}),B(w,R)}),B(_,S)},$$slots:{default:!0}});var g=T(m,2),p=A(g);{var v=_=>{var y=Sr(),S=Se(y);ft(S,17,()=>Object.entries(yi),dt,(C,w)=>{let I=()=>b(w)[0],R=()=>b(w)[1];var M=cu(),E=A(M),F=A(E),O=T(E,2);ft(O,21,R,dt,(z,j)=>{qr(z,{get title(){return b(j).title},get image(){return b(j).image},get description(){return b(j).description},get tags(){return b(j).tags},get demoLink(){return b(j).demoLink},get githubLink(){return b(j).githubLink},get id(){return b(j).id}})}),q(()=>H(F,I())),B(C,M)}),B(_,y)},x=_=>{var y=uu(),S=A(y),C=A(S),w=T(S,2);ft(w,21,()=>b(i),dt,(I,R)=>{qr(I,{get title(){return b(R).title},get image(){return b(R).image},get description(){return b(R).description},get tags(){return b(R).tags},get demoLink(){return b(R).demoLink},get githubLink(){return b(R).githubLink},get id(){return b(R).id}})}),q(()=>H(C,b(e))),B(_,y)};wt(p,_=>{b(e)==="All"?_(v):_(x,!1)})}B(s,l),Ut()}fi(["click"]);var pu=(s,t)=>t("GitHub"),mu=(s,t)=>t("LinkedIn"),gu=G("<p> </p> <p> </p>",1),_u=G(`<div class="terminalContactContent svelte-1cqdsgb"><p class="contactDescription svelte-1cqdsgb">I'm always open to new opportunities and collaborations. Feel free to reach out through
          one of the channels below:</p> <div class="contactButtons svelte-1cqdsgb"><a href="https://github.com/BDS-001" target="_blank" rel="noopener noreferrer" class="contactButton svelte-1cqdsgb"><img alt="GitHub" class="buttonIcon svelte-1cqdsgb"> <span>GitHub</span></a> <a href="https://www.linkedin.com/in/brian-s-98151921a/" target="_blank" rel="noopener noreferrer" class="contactButton svelte-1cqdsgb"><img alt="LinkedIn" class="buttonIcon svelte-1cqdsgb"> <span>LinkedIn</span></a></div> <div class="terminalNote svelte-1cqdsgb"><span class="comment svelte-1cqdsgb">// For direct inquiries, please message through LinkedIn</span> <!></div></div>`),vu=G('<section id="contact" class="contact svelte-1cqdsgb"><div class="container"><!> <!></div></section>');function xu(s){let t=tt("None"),e=tt(0),i=ns(()=>b(e)===0?"":`You have clicked ${b(e)} time${b(e)===1?"":"s"}.`);const r=[{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0},{text:"cat contact_info.txt",class:"terminalTypedText",cursor:!0},{text:`
/**************************************
 * COMMUNICATION INTERFACE ACTIVATED  *
 **************************************/

STATUS: ONLINE
CHANNELS: 2
ENCRYPTION: ENABLED
RESPONSE TIME: < 24 HOURS

> Please select a communication method below:
`,class:"terminalResponse",render:"slow",cursor:!1},{class:"children",cursor:!1},{class:"terminalPrompt",text:"BDS-001:~ $ ",cursor:!0}];function n(c){N(t,c,!0),da(e)}var a=vu(),o=A(a),l=A(o);Ss(l,{title:"Contact Me"});var h=T(l,2);ue(h,{title:"~/portfolio/contact",content:r,children:(c,u)=>{var f=_u(),d=T(A(f),2),m=A(d);m.__click=[pu,n];var g=A(m);et(g,"src",Fa);var p=T(m,2);p.__click=[mu,n];var v=A(p);et(v,"src",Ga);var x=T(d,2),_=T(A(x),2);{var y=S=>{var C=gu(),w=Se(C),I=A(w),R=T(w,2),M=A(R);q(()=>{H(I,`Last clicked: ${b(t)??""}`),H(M,b(i))}),B(S,C)};wt(_,S=>{b(t)!=="None"&&S(y)})}B(c,f)},$$slots:{default:!0}}),B(s,a)}fi(["click"]);var yu=G("<!> <!> <!> <!> <!> <!>",1);function bu(s){var t=yu(),e=Se(t);ec(e);var i=T(e,2);rc(i,{});var r=T(i,2);uc(r);var n=T(r,2);Jc(n);var a=T(n,2);fu(a,{});var o=T(a,2);xu(o),B(s,t)}const wu="modulepreload",Su=function(s){return"/"+s},Wr={},ti=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let a=function(h){return Promise.all(h.map(c=>Promise.resolve(c).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=a(e.map(h=>{if(h=Su(h),h in Wr)return;Wr[h]=!0;const c=h.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":wu,c||(f.as="script"),f.crossOrigin="",f.href=h,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${h}`)))})}))}function n(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&n(o.reason);return t().catch(n)})};var $=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))($||{});const Wi=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},Ps=(s,t)=>Wi(s).priority??t,Ft={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Wi).forEach(t=>{t.type.forEach(e=>{var i,r;return(r=(i=this._removeHandlers)[e])==null?void 0:r.call(i,t)})}),this},add(...s){return s.map(Wi).forEach(t=>{t.type.forEach(e=>{var n,a;const i=this._addHandlers,r=this._queue;i[e]?(a=i[e])==null||a.call(i,t):(r[e]=r[e]||[],(n=r[e])==null||n.push(t))})}),this},handle(s,t,e){var a;const i=this._addHandlers,r=this._removeHandlers;if(i[s]||r[s])throw new Error(`Extension type ${s} already has a handler`);i[s]=t,r[s]=e;const n=this._queue;return n[s]&&((a=n[s])==null||a.forEach(o=>t(o)),delete n[s]),this},handleByMap(s,t){return this.handle(s,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByNamedList(s,t,e=-1){return this.handle(s,i=>{t.findIndex(n=>n.name===i.name)>=0||(t.push({name:i.name,value:i.ref}),t.sort((n,a)=>Ps(a.value,e)-Ps(n.value,e)))},i=>{const r=t.findIndex(n=>n.name===i.name);r!==-1&&t.splice(r,1)})},handleByList(s,t,e=-1){return this.handle(s,i=>{t.includes(i.ref)||(t.push(i.ref),t.sort((r,n)=>Ps(n,e)-Ps(r,e)))},i=>{const r=t.indexOf(i.ref);r!==-1&&t.splice(r,1)})},mixin(s,...t){for(const e of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(e))}},Cu={extension:{type:$.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await ti(()=>import("./browserAll-BsOJQmIH.js"),__vite__mapDeps([0,1,2,3]))}},Au={extension:{type:$.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await ti(()=>import("./webworkerAll-gdcBLbvg.js"),__vite__mapDeps([1,2,3]))}};class mt{constructor(t,e,i){this._x=e||0,this._y=i||0,this._observer=t}clone(t){return new mt(t??this._observer,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}function ja(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var bi={exports:{}},Xr;function Pu(){return Xr||(Xr=1,function(s){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function r(l,h,c){this.fn=l,this.context=h,this.once=c||!1}function n(l,h,c,u,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new r(c,u||l,f),m=e?e+h:h;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function a(l,h){--l._eventsCount===0?l._events=new i:delete l._events[h]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],c,u;if(this._eventsCount===0)return h;for(u in c=this._events)t.call(c,u)&&h.push(e?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h},o.prototype.listeners=function(h){var c=e?e+h:h,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,d=u.length,m=new Array(d);f<d;f++)m[f]=u[f].fn;return m},o.prototype.listenerCount=function(h){var c=e?e+h:h,u=this._events[c];return u?u.fn?1:u.length:0},o.prototype.emit=function(h,c,u,f,d,m){var g=e?e+h:h;if(!this._events[g])return!1;var p=this._events[g],v=arguments.length,x,_;if(p.fn){switch(p.once&&this.removeListener(h,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,c),!0;case 3:return p.fn.call(p.context,c,u),!0;case 4:return p.fn.call(p.context,c,u,f),!0;case 5:return p.fn.call(p.context,c,u,f,d),!0;case 6:return p.fn.call(p.context,c,u,f,d,m),!0}for(_=1,x=new Array(v-1);_<v;_++)x[_-1]=arguments[_];p.fn.apply(p.context,x)}else{var y=p.length,S;for(_=0;_<y;_++)switch(p[_].once&&this.removeListener(h,p[_].fn,void 0,!0),v){case 1:p[_].fn.call(p[_].context);break;case 2:p[_].fn.call(p[_].context,c);break;case 3:p[_].fn.call(p[_].context,c,u);break;case 4:p[_].fn.call(p[_].context,c,u,f);break;default:if(!x)for(S=1,x=new Array(v-1);S<v;S++)x[S-1]=arguments[S];p[_].fn.apply(p[_].context,x)}}return!0},o.prototype.on=function(h,c,u){return n(this,h,c,u,!1)},o.prototype.once=function(h,c,u){return n(this,h,c,u,!0)},o.prototype.removeListener=function(h,c,u,f){var d=e?e+h:h;if(!this._events[d])return this;if(!c)return a(this,d),this;var m=this._events[d];if(m.fn)m.fn===c&&(!f||m.once)&&(!u||m.context===u)&&a(this,d);else{for(var g=0,p=[],v=m.length;g<v;g++)(m[g].fn!==c||f&&!m[g].once||u&&m[g].context!==u)&&p.push(m[g]);p.length?this._events[d]=p.length===1?p[0]:p:a(this,d)}return this},o.prototype.removeAllListeners=function(h){var c;return h?(c=e?e+h:h,this._events[c]&&a(this,c)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,s.exports=o}(bi)),bi.exports}var Tu=Pu();const ne=ja(Tu),Mu=Math.PI*2,ku=180/Math.PI,Eu=Math.PI/180;class gt{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new gt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return wi.x=0,wi.y=0,wi}}const wi=new gt;class U{constructor(t=1,e=0,i=0,r=1,n=0,a=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=a}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,r,n,a){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=a,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new gt;const i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e}applyInverse(t,e){e=e||new gt;const i=this.a,r=this.b,n=this.c,a=this.d,o=this.tx,l=this.ty,h=1/(i*a+n*-r),c=t.x,u=t.y;return e.x=a*h*c+-n*h*u+(l*n-o*a)*h,e.y=i*h*u+-r*h*c+(-l*i+o*r)*h,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,a=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=a*e-this.ty*i,this.ty=a*i+this.ty*e,this}append(t){const e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this}appendFrom(t,e){const i=t.a,r=t.b,n=t.c,a=t.d,o=t.tx,l=t.ty,h=e.a,c=e.b,u=e.c,f=e.d;return this.a=i*h+r*u,this.b=i*c+r*f,this.c=n*h+a*u,this.d=n*c+a*f,this.tx=o*h+l*u+e.tx,this.ty=o*c+l*f+e.ty,this}setTransform(t,e,i,r,n,a,o,l,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-l)*a,this.d=Math.cos(o-l)*a,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,r=this.c,n=this.d,a=t.pivot,o=-Math.atan2(-r,n),l=Math.atan2(i,e),h=Math.abs(o+l);return h<1e-5||Math.abs(Mu-h)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx+(a.x*e+a.y*r),t.position.y=this.ty+(a.x*i+a.y*n),t}invert(){const t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,a=t*r-e*i;return this.a=r/a,this.b=-e/a,this.c=-i/a,this.d=t/a,this.tx=(i*this.ty-r*n)/a,this.ty=-(t*this.ty-e*n)/a,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new U;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Ru.identity()}static get shared(){return Iu.identity()}}const Iu=new U,Ru=new U,_e=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ve=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],xe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ye=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Xi=[],Oa=[],Ts=Math.sign;function Lu(){for(let s=0;s<16;s++){const t=[];Xi.push(t);for(let e=0;e<16;e++){const i=Ts(_e[s]*_e[e]+xe[s]*ve[e]),r=Ts(ve[s]*_e[e]+ye[s]*ve[e]),n=Ts(_e[s]*xe[e]+xe[s]*ye[e]),a=Ts(ve[s]*xe[e]+ye[s]*ye[e]);for(let o=0;o<16;o++)if(_e[o]===i&&ve[o]===r&&xe[o]===n&&ye[o]===a){t.push(o);break}}}for(let s=0;s<16;s++){const t=new U;t.set(_e[s],ve[s],xe[s],ye[s],0,0),Oa.push(t)}}Lu();const W={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>_e[s],uY:s=>ve[s],vX:s=>xe[s],vY:s=>ye[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>Xi[s][t],sub:(s,t)=>Xi[s][W.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?W.S:W.N:Math.abs(t)*2<=Math.abs(s)?s>0?W.E:W.W:t>0?s>0?W.SE:W.SW:s>0?W.NE:W.NW,matrixAppendRotationInv:(s,t,e=0,i=0)=>{const r=Oa[W.inv(t)];r.tx=e,r.ty=i,s.append(r)},transformRectCoords:(s,t,e,i)=>{const{x:r,y:n,width:a,height:o}=s,{x:l,y:h,width:c,height:u}=t;return e===W.E?(i.set(r+l,n+h,a,o),i):e===W.S?i.set(c-n-o+l,r+h,o,a):e===W.W?i.set(c-r-a+l,u-n-o+h,a,o):e===W.N?i.set(n+l,u-r-a+h,o,a):i.set(r+l,n+h,a,o)}},Ms=[new gt,new gt,new gt,new gt];class ct{constructor(t=0,e=0,i=0,r=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ct(0,0,0,0)}clone(){return new ct(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,i,r=.5){const{width:n,height:a}=this;if(n<=0||a<=0)return!1;const o=this.x,l=this.y,h=i*(1-r),c=i-h,u=o-h,f=o+n+h,d=l-h,m=l+a+h,g=o+c,p=o+n-c,v=l+c,x=l+a-c;return t>=u&&t<=f&&e>=d&&e<=m&&!(t>g&&t<p&&e>v&&e<x)}intersects(t,e){if(!e){const I=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=I)return!1;const M=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>M}const i=this.left,r=this.right,n=this.top,a=this.bottom;if(r<=i||a<=n)return!1;const o=Ms[0].set(t.left,t.top),l=Ms[1].set(t.left,t.bottom),h=Ms[2].set(t.right,t.top),c=Ms[3].set(t.right,t.bottom);if(h.x<=o.x||l.y<=o.y)return!1;const u=Math.sign(e.a*e.d-e.b*e.c);if(u===0||(e.apply(o,o),e.apply(l,l),e.apply(h,h),e.apply(c,c),Math.max(o.x,l.x,h.x,c.x)<=i||Math.min(o.x,l.x,h.x,c.x)>=r||Math.max(o.y,l.y,h.y,c.y)<=n||Math.min(o.y,l.y,h.y,c.y)>=a))return!1;const f=u*(l.y-o.y),d=u*(o.x-l.x),m=f*i+d*n,g=f*r+d*n,p=f*i+d*a,v=f*r+d*a;if(Math.max(m,g,p,v)<=f*o.x+d*o.y||Math.min(m,g,p,v)>=f*c.x+d*c.y)return!1;const x=u*(o.y-h.y),_=u*(h.x-o.x),y=x*i+_*n,S=x*r+_*n,C=x*i+_*a,w=x*r+_*a;return!(Math.max(y,S,C,w)<=x*o.x+_*o.y||Math.min(y,S,C,w)>=x*c.x+_*c.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this}scale(t,e=t){return this.x*=t,this.y*=e,this.width*=t,this.height*=e,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=n-r,this}getBounds(t){return t||(t=new ct),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const e=t.x,i=t.y,r=t.x+t.width,n=t.y+t.height;return e>=this.x&&e<this.x+this.width&&i>=this.y&&i<this.y+this.height&&r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height}set(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Si={default:-1};function at(s="default"){return Si[s]===void 0&&(Si[s]=-1),++Si[s]}const Jr=new Set,lt="8.0.0",Bu="8.3.4",Ge={quiet:!1,noColor:!1},Y=(s,t,e=3)=>{if(Ge.quiet||Jr.has(t))return;let i=new Error().stack;const r=`${t}
Deprecated since v${s}`,n=typeof console.groupCollapsed=="function"&&!Ge.noColor;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",r):(i=i.split(`
`).splice(e).join(`
`),n?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r),console.warn(i))),Jr.add(t)};Object.defineProperties(Y,{quiet:{get:()=>Ge.quiet,set:s=>{Ge.quiet=s},enumerable:!0,configurable:!1},noColor:{get:()=>Ge.noColor,set:s=>{Ge.noColor=s},enumerable:!0,configurable:!1}});const Na=()=>{};function Kr(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function Zr(s){return!(s&s-1)&&!!s}function za(s){const t={};for(const e in s)s[e]!==void 0&&(t[e]=s[e]);return t}const Qr=Object.create(null);function Du(s){const t=Qr[s];return t===void 0&&(Qr[s]=at("resource")),t}const Ua=class Ha extends ne{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Ha.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Y(lt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Du(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Ua.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Va=Ua;const $a=class Ya extends ne{constructor(t={}){super(),this.options=t,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=at("textureSource"),this._resourceType="textureSource",this._resourceId=at("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Ya.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Va(za(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var e,i;this.style!==t&&((e=this._style)==null||e.off("change",this._onStyleChange,this),this._style=t,(i=this._style)==null||i.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){var t,e;this._resourceId=at("resource"),this.emit("change",this),this.emit("unload",this);for(const i in this._gpuData)(e=(t=this._gpuData[i])==null?void 0:t.destroy)==null||e.call(t);this._gpuData=Object.create(null)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,i){i||(i=this._resolution),t||(t=this.width),e||(e=this.height);const r=Math.round(t*i),n=Math.round(e*i);return this.width=r/i,this.height=n/i,this._resolution=i,this.pixelWidth===r&&this.pixelHeight===n?!1:(this._refreshPOT(),this.pixelWidth=r,this.pixelHeight=n,this.emit("resize",this),this._resourceId=at("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Zr(this.pixelWidth)&&Zr(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};$a.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ht=$a;class Cr extends Ht{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let i=t.format;i||(e instanceof Float32Array?i="rgba32float":e instanceof Int32Array||e instanceof Uint32Array?i="rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?i="rgba16uint":(e instanceof Int8Array,i="bgra8unorm")),super({...t,resource:e,format:i}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Cr.extension=$.TextureSource;const tn=new U;class Fu{constructor(t,e){this.mapCoord=new U,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof e>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var e;this.texture!==t&&((e=this._texture)==null||e.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){e===void 0&&(e=t);const i=this.mapCoord;for(let r=0;r<t.length;r+=2){const n=t[r],a=t[r+1];e[r]=n*i.a+a*i.c+i.tx,e[r+1]=n*i.b+a*i.d+i.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const i=t.orig,r=t.trim;r&&(tn.set(i.width/r.width,0,0,i.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(tn));const n=t.source,a=this.uClampFrame,o=this.clampMargin/n._resolution,l=this.clampOffset/n._resolution;return a[0]=(t.frame.x+o+l)/n.width,a[1]=(t.frame.y+o+l)/n.height,a[2]=(t.frame.x+t.frame.width-o+l)/n.width,a[3]=(t.frame.y+t.frame.height-o+l)/n.height,this.uClampOffset[0]=this.clampOffset/n.pixelWidth,this.uClampOffset[1]=this.clampOffset/n.pixelHeight,this.isSimple=t.frame.width===n.width&&t.frame.height===n.height&&t.rotate===0,!0}}class X extends ne{constructor({source:t,label:e,frame:i,orig:r,trim:n,defaultAnchor:a,defaultBorders:o,rotate:l,dynamic:h}={}){if(super(),this.uid=at("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ct,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=(t==null?void 0:t.source)??new Ht,this.noFrame=!i,i)this.frame.copyFrom(i);else{const{width:c,height:u}=this._source;this.frame.width=c,this.frame.height=u}this.orig=r||this.frame,this.trim=n,this.rotate=l??0,this.defaultAnchor=a,this.defaultBorders=o,this.destroyed=!1,this.dynamic=h||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Fu(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:i,height:r}=this._source,n=e.x/i,a=e.y/r,o=e.width/i,l=e.height/r;let h=this.rotate;if(h){const c=o/2,u=l/2,f=n+c,d=a+u;h=W.add(h,W.NW),t.x0=f+c*W.uX(h),t.y0=d+u*W.uY(h),h=W.add(h,2),t.x1=f+c*W.uX(h),t.y1=d+u*W.uY(h),h=W.add(h,2),t.x2=f+c*W.uX(h),t.y2=d+u*W.uY(h),h=W.add(h,2),t.x3=f+c*W.uX(h),t.y3=d+u*W.uY(h)}else t.x0=n,t.y0=a,t.x1=n+o,t.y1=a,t.x2=n+o,t.y2=a+l,t.x3=n,t.y3=a+l}destroy(t=!1){this._source&&(this._source.off("resize",this.update,this),t&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Y(lt,"Texture.baseTexture is now Texture.source"),this._source}}X.EMPTY=new X({label:"EMPTY",source:new Ht({label:"EMPTY"})});X.EMPTY.destroy=Na;X.WHITE=new X({source:new Cr({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});X.WHITE.destroy=Na;function Gu(s,t,e){const{width:i,height:r}=e.orig,n=e.trim;if(n){const a=n.width,o=n.height;s.minX=n.x-t._x*i,s.maxX=s.minX+a,s.minY=n.y-t._y*r,s.maxY=s.minY+o}else s.minX=-t._x*i,s.maxX=s.minX+i,s.minY=-t._y*r,s.maxY=s.minY+r}const en=new U;class Nt{constructor(t=1/0,e=1/0,i=-1/0,r=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=en,this.minX=t,this.minY=e,this.maxX=i,this.maxY=r}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ct);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=en,this}set(t,e,i,r){this.minX=t,this.minY=e,this.maxX=i,this.maxY=r}addFrame(t,e,i,r,n){n||(n=this.matrix);const a=n.a,o=n.b,l=n.c,h=n.d,c=n.tx,u=n.ty;let f=this.minX,d=this.minY,m=this.maxX,g=this.maxY,p=a*t+l*e+c,v=o*t+h*e+u;p<f&&(f=p),v<d&&(d=v),p>m&&(m=p),v>g&&(g=v),p=a*i+l*e+c,v=o*i+h*e+u,p<f&&(f=p),v<d&&(d=v),p>m&&(m=p),v>g&&(g=v),p=a*t+l*r+c,v=o*t+h*r+u,p<f&&(f=p),v<d&&(d=v),p>m&&(m=p),v>g&&(g=v),p=a*i+l*r+c,v=o*i+h*r+u,p<f&&(f=p),v<d&&(d=v),p>m&&(m=p),v>g&&(g=v),this.minX=f,this.minY=d,this.maxX=m,this.maxY=g}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,{a,b:o,c:l,d:h,tx:c,ty:u}=t;let f=a*e+l*i+c,d=o*e+h*i+u;this.minX=f,this.minY=d,this.maxX=f,this.maxY=d,f=a*r+l*i+c,d=o*r+h*i+u,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=a*e+l*n+c,d=o*e+h*n+u,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=a*r+l*n+c,d=o*r+h*n+u,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,i,r){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<i&&(this.minY=i),this.maxY>r&&(this.maxY=r),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Nt(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,i,r){let n=this.minX,a=this.minY,o=this.maxX,l=this.maxY;r||(r=this.matrix);const h=r.a,c=r.b,u=r.c,f=r.d,d=r.tx,m=r.ty;for(let g=e;g<i;g+=2){const p=t[g],v=t[g+1],x=h*p+u*v+d,_=c*p+f*v+m;n=x<n?x:n,a=_<a?_:a,o=x>o?x:o,l=_>l?_:l}this.minX=n,this.minY=a,this.maxX=o,this.maxY=l}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var ju={grad:.9,turn:360,rad:360/(2*Math.PI)},te=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},ht=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*s)/e+0},Lt=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),s>e?e:s>t?s:t},qa=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},sn=function(s){return{r:Lt(s.r,0,255),g:Lt(s.g,0,255),b:Lt(s.b,0,255),a:Lt(s.a)}},Ci=function(s){return{r:ht(s.r),g:ht(s.g),b:ht(s.b),a:ht(s.a,3)}},Ou=/^#([0-9a-f]{3,8})$/i,ks=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Wa=function(s){var t=s.r,e=s.g,i=s.b,r=s.a,n=Math.max(t,e,i),a=n-Math.min(t,e,i),o=a?n===t?(e-i)/a:n===e?2+(i-t)/a:4+(t-e)/a:0;return{h:60*(o<0?o+6:o),s:n?a/n*100:0,v:n/255*100,a:r}},Xa=function(s){var t=s.h,e=s.s,i=s.v,r=s.a;t=t/360*6,e/=100,i/=100;var n=Math.floor(t),a=i*(1-e),o=i*(1-(t-n)*e),l=i*(1-(1-t+n)*e),h=n%6;return{r:255*[i,o,a,a,l,i][h],g:255*[l,i,i,o,a,a][h],b:255*[a,a,l,i,i,o][h],a:r}},rn=function(s){return{h:qa(s.h),s:Lt(s.s,0,100),l:Lt(s.l,0,100),a:Lt(s.a)}},nn=function(s){return{h:ht(s.h),s:ht(s.s),l:ht(s.l),a:ht(s.a,3)}},an=function(s){return Xa((e=(t=s).s,{h:t.h,s:(e*=((i=t.l)<50?i:100-i)/100)>0?2*e/(i+e)*100:0,v:i+e,a:t.a}));var t,e,i},as=function(s){return{h:(t=Wa(s)).h,s:(r=(200-(e=t.s))*(i=t.v)/100)>0&&r<200?e*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,e,i,r},Nu=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zu=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uu=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hu=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ji={string:[[function(s){var t=Ou.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ht(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?ht(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=Uu.exec(s)||Hu.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:sn({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=Nu.exec(s)||zu.exec(s);if(!t)return null;var e,i,r=rn({h:(e=t[1],i=t[2],i===void 0&&(i="deg"),Number(e)*(ju[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return an(r)},"hsl"]],object:[[function(s){var t=s.r,e=s.g,i=s.b,r=s.a,n=r===void 0?1:r;return te(t)&&te(e)&&te(i)?sn({r:Number(t),g:Number(e),b:Number(i),a:Number(n)}):null},"rgb"],[function(s){var t=s.h,e=s.s,i=s.l,r=s.a,n=r===void 0?1:r;if(!te(t)||!te(e)||!te(i))return null;var a=rn({h:Number(t),s:Number(e),l:Number(i),a:Number(n)});return an(a)},"hsl"],[function(s){var t=s.h,e=s.s,i=s.v,r=s.a,n=r===void 0?1:r;if(!te(t)||!te(e)||!te(i))return null;var a=function(o){return{h:qa(o.h),s:Lt(o.s,0,100),v:Lt(o.v,0,100),a:Lt(o.a)}}({h:Number(t),s:Number(e),v:Number(i),a:Number(n)});return Xa(a)},"hsv"]]},on=function(s,t){for(var e=0;e<t.length;e++){var i=t[e][0](s);if(i)return[i,t[e][1]]}return[null,void 0]},Vu=function(s){return typeof s=="string"?on(s.trim(),Ji.string):typeof s=="object"&&s!==null?on(s,Ji.object):[null,void 0]},Ai=function(s,t){var e=as(s);return{h:e.h,s:Lt(e.s+100*t,0,100),l:e.l,a:e.a}},Pi=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},ln=function(s,t){var e=as(s);return{h:e.h,s:e.s,l:Lt(e.l+100*t,0,100),a:e.a}},Ki=function(){function s(t){this.parsed=Vu(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return ht(Pi(this.rgba),2)},s.prototype.isDark=function(){return Pi(this.rgba)<.5},s.prototype.isLight=function(){return Pi(this.rgba)>=.5},s.prototype.toHex=function(){return t=Ci(this.rgba),e=t.r,i=t.g,r=t.b,a=(n=t.a)<1?ks(ht(255*n)):"","#"+ks(e)+ks(i)+ks(r)+a;var t,e,i,r,n,a},s.prototype.toRgb=function(){return Ci(this.rgba)},s.prototype.toRgbString=function(){return t=Ci(this.rgba),e=t.r,i=t.g,r=t.b,(n=t.a)<1?"rgba("+e+", "+i+", "+r+", "+n+")":"rgb("+e+", "+i+", "+r+")";var t,e,i,r,n},s.prototype.toHsl=function(){return nn(as(this.rgba))},s.prototype.toHslString=function(){return t=nn(as(this.rgba)),e=t.h,i=t.s,r=t.l,(n=t.a)<1?"hsla("+e+", "+i+"%, "+r+"%, "+n+")":"hsl("+e+", "+i+"%, "+r+"%)";var t,e,i,r,n},s.prototype.toHsv=function(){return t=Wa(this.rgba),{h:ht(t.h),s:ht(t.s),v:ht(t.v),a:ht(t.a,3)};var t},s.prototype.invert=function(){return $t({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),$t(Ai(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),$t(Ai(this.rgba,-t))},s.prototype.grayscale=function(){return $t(Ai(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),$t(ln(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),$t(ln(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?$t({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):ht(this.rgba.a,3);var e},s.prototype.hue=function(t){var e=as(this.rgba);return typeof t=="number"?$t({h:t,s:e.s,l:e.l,a:e.a}):ht(e.h)},s.prototype.isEqual=function(t){return this.toHex()===$t(t).toHex()},s}(),$t=function(s){return s instanceof Ki?s:new Ki(s)},hn=[],$u=function(s){s.forEach(function(t){hn.indexOf(t)<0&&(t(Ki,Ji),hn.push(t))})};function Yu(s,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in e)i[e[r]]=r;var n={};s.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,h=i[this.toHex()];if(h)return h;if(a!=null&&a.closest){var c=this.toRgb(),u=1/0,f="black";if(!n.length)for(var d in e)n[d]=new s(e[d]).toRgb();for(var m in e){var g=(o=c,l=n[m],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));g<u&&(u=g,f=m)}return f}},t.string.push([function(a){var o=a.toLowerCase(),l=o==="transparent"?"#0000":e[o];return l?new s(l).toRgb():null},"name"])}$u([Yu]);const ze=class ts{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ts)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if(i==="number"||i==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((n,a)=>n===e[a]);if(t!==null&&e!==null){const n=Object.keys(t),a=Object.keys(e);return n.length!==a.length?!1:n.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,i,r]=this._components;return{r:t,g:e,b:i,a:r}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,r]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(e*255),t[1]=Math.round(i*255),t[2]=Math.round(r*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[e,i,r,n]=this._components;return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[e,i,r]=this._components;return t[0]=e,t[1]=i,t[2]=r,t}toNumber(){return this._int}toBgrNumber(){const[t,e,i]=this.toUint8RgbArray();return(i<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,i,r,n]=ts._temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=i,this._components[2]*=r,this._components[3]*=n,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let i=this._int>>16&255,r=this._int>>8&255,n=this._int&255;return e&&(i=i*t+.5|0,r=r*t+.5|0,n=n*t+.5|0),(t*255<<24)+(i<<16)+(r<<8)+n}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let e,i,r,n;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const a=t;e=(a>>16&255)/255,i=(a>>8&255)/255,r=(a&255)/255,n=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,i,r,n=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,i,r,n=255]=t,e/=255,i/=255,r/=255,n/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=ts.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const a=$t(t);a.isValid()&&({r:e,g:i,b:r,a:n}=a.rgba,e/=255,i/=255,r/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=i,this._components[2]=r,this._components[3]=n,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(t*255<<16)+(e*255<<8)+(i*255|0)}_clamp(t,e=0,i=1){return typeof t=="number"?Math.min(Math.max(t,e),i):(t.forEach((r,n)=>{t[n]=Math.min(Math.max(r,e),i)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof ts||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};ze.shared=new ze;ze._temp=new ze;ze.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Bt=ze;const qu={cullArea:null,cullable:!1,cullableChildren:!0};let Ti=0;const cn=500;function kt(...s){Ti!==cn&&(Ti++,Ti===cn?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}const mi={_registeredResources:new Set,register(s){this._registeredResources.add(s)},unregister(s){this._registeredResources.delete(s)},release(){this._registeredResources.forEach(s=>s.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(s){return this._registeredResources.has(s)},reset(){this._registeredResources.clear()}};class Wu{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var i;let e;return this._index>0?e=this._pool[--this._index]:(e=new this._classType,this._count++),(i=e.init)==null||i.call(e,t),e}return(t){var e;(e=t.reset)==null||e.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let t=0;t<this._index;t++)this._pool[t].destroy();this._pool.length=0,this._count=0,this._index=0}}class Xu{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Wu(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(e=>{const i=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[i]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}}),t}clear(){this._poolsByClass.forEach(t=>t.clear()),this._poolsByClass.clear()}}const Dt=new Xu;mi.register(Dt);const Ju={get isCachedAsTexture(){var s;return!!((s=this.renderGroup)!=null&&s.isCachedAsTexture)},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){var s;(s=this.renderGroup)==null||s.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){Y("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function Ku(s,t,e){const i=s.length;let r;if(t>=i||e===0)return;e=t+e>i?i-t:e;const n=i-e;for(r=t;r<n;++r)s[r]=s[r+e];s.length=n}const Zu={allowChildren:!0,removeChildren(s=0,t){var n;const e=t??this.children.length,i=e-s,r=[];if(i>0&&i<=e){for(let o=e-1;o>=s;o--){const l=this.children[o];l&&(r.push(l),l.parent=null)}Ku(this.children,s,e);const a=this.renderGroup||this.parentRenderGroup;a&&a.removeChildren(r);for(let o=0;o<r.length;++o){const l=r[o];(n=l.parentRenderLayer)==null||n.detach(l),this.emit("childRemoved",l,this,o),r[o].emit("removed",this)}return r.length>0&&this._didViewChangeTick++,r}else if(i===0&&this.children.length===0)return r;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||Y(lt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:e}=this;if(t<0||t>e.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${e.length}`);if(s.parent){const r=s.parent.children.indexOf(s);if(s.parent===this&&r===t)return s;r!==-1&&s.parent.children.splice(r,1)}t===e.length?e.push(s):e.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const i=this.renderGroup||this.parentRenderGroup;return i&&i.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const e=this.getChildIndex(s),i=this.getChildIndex(t);this.children[e]=t,this.children[i]=s;const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var s;(s=this.parent)==null||s.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const e=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const i=this.worldTransform.clone();return i.invert(),e.prepend(i),s.setFromMatrix(e),s},replaceChild(s,t){s.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(s)),t.setFromMatrix(s.localTransform),t.updateLocalTransform(),this.removeChild(s)}},Qu={collectRenderables(s,t,e){this.parentRenderLayer&&this.parentRenderLayer!==e||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,e):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,e))},collectRenderablesSimple(s,t,e){const i=this.children,r=i.length;for(let n=0;n<r;n++)i[n].collectRenderables(s,t,e)},collectRenderablesWithEffects(s,t,e){const{renderPipes:i}=t;for(let r=0;r<this.effects.length;r++){const n=this.effects[r];i[n.pipe].push(n,this,s)}this.collectRenderablesSimple(s,t,e);for(let r=this.effects.length-1;r>=0;r--){const n=this.effects[r];i[n.pipe].pop(n,this,s)}}};class un{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class td{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const i=this._tests[e];if(i.test(t))return Dt.get(i.maskClass,t)}return t}returnMaskEffect(t){Dt.return(t)}}const Zi=new td;Ft.handleByList($.MaskEffect,Zi._effectClasses);const ed={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((e,i)=>e.priority-i.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;(t==null?void 0:t.mask)!==s&&(t&&(this.removeEffect(t),Zi.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=Zi.getMaskEffect(s),this.addEffect(this._maskEffect)))},get mask(){var s;return(s=this._maskEffect)==null?void 0:s.mask},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},set filters(s){var n;!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new un);s=s;const e=(s==null?void 0:s.length)>0,i=((n=t.filters)==null?void 0:n.length)>0,r=e!==i;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),r&&(e?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){var s;return(s=this._filterEffect)==null?void 0:s.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new un),this._filterEffect.filterArea=s},get filterArea(){var s;return(s=this._filterEffect)==null?void 0:s.filterArea}},sd={label:null,get name(){return Y(lt,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){Y(lt,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const e=this.children;for(let i=0;i<e.length;i++){const r=e[i];if(r.label===s||s instanceof RegExp&&s.test(r.label))return r}if(t)for(let i=0;i<e.length;i++){const n=e[i].getChildByLabel(s,!0);if(n)return n}return null},getChildrenByLabel(s,t=!1,e=[]){const i=this.children;for(let r=0;r<i.length;r++){const n=i[r];(n.label===s||s instanceof RegExp&&s.test(n.label))&&e.push(n)}if(t)for(let r=0;r<i.length;r++)i[r].getChildrenByLabel(s,!0,e);return e}},vt=Dt.getPool(U),se=Dt.getPool(Nt),id=new U,rd={getFastGlobalBounds(s,t){t||(t=new Nt),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const e=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(e.worldTransform),t},_getGlobalBoundsRecursive(s,t,e){let i=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==e||this.localDisplayStatus!==7||!this.measurable)return;const r=!!this.effects.length;if((this.renderGroup||r)&&(i=se.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const a=this.bounds;i.addFrame(a.minX,a.minY,a.maxX,a.maxY,this.groupTransform)}const n=this.children;for(let a=0;a<n.length;a++)n[a]._getGlobalBoundsRecursive(s,i,e)}if(r){let n=!1;const a=this.renderGroup||this.parentRenderGroup;for(let o=0;o<this.effects.length;o++)this.effects[o].addBounds&&(n||(n=!0,i.applyMatrix(a.worldTransform)),this.effects[o].addBounds(i,!0));n&&i.applyMatrix(a.worldTransform.copyTo(id).invert()),t.addBounds(i),se.return(i)}else this.renderGroup&&(t.addBounds(i,this.relativeGroupTransform),se.return(i))}};function Ja(s,t,e){e.clear();let i,r;return s.parent?t?i=s.parent.worldTransform:(r=vt.get().identity(),i=Ar(s,r)):i=U.IDENTITY,Ka(s,e,i,t),r&&vt.return(r),e.isValid||e.set(0,0,0,0),e}function Ka(s,t,e,i){var o,l;if(!s.visible||!s.measurable)return;let r;i?r=s.worldTransform:(s.updateLocalTransform(),r=vt.get(),r.appendFrom(s.localTransform,e));const n=t,a=!!s.effects.length;if(a&&(t=se.get().clear()),s.boundsArea)t.addRect(s.boundsArea,r);else{const h=s.bounds;h&&!h.isEmpty()&&(t.matrix=r,t.addBounds(h));for(let c=0;c<s.children.length;c++)Ka(s.children[c],t,r,i)}if(a){for(let h=0;h<s.effects.length;h++)(l=(o=s.effects[h]).addBounds)==null||l.call(o,t);n.addBounds(t,U.IDENTITY),se.return(t)}i||vt.return(r)}function Ar(s,t){const e=s.parent;return e&&(Ar(e,t),e.updateLocalTransform(),t.append(e.localTransform)),t}function Za(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const e=s>>16&255,i=s>>8&255,r=s&255,n=t>>16&255,a=t>>8&255,o=t&255,l=e*n/255|0,h=i*a/255|0,c=r*o/255|0;return(l<<16)+(h<<8)+c}const dn=16777215;function fn(s,t){return s===dn?t:t===dn?s:Za(s,t)}function Us(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const nd={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,e=this.parent;for(;e;)t*=e.alpha,e=e.parent;return t},getGlobalTransform(s=new U,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const e=Ar(this,vt.get().identity());return s.appendFrom(this.localTransform,e),vt.return(e),s},getGlobalTint(s){if(s)return this.renderGroup?Us(this.renderGroup.worldColor):this.parentRenderGroup?Us(fn(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,e=this.parent;for(;e;)t=fn(t,e.localColor),e=e.parent;return Us(t)}};function Qa(s,t,e){return t.clear(),e||(e=U.IDENTITY),to(s,t,e,s,!0),t.isValid||t.set(0,0,0,0),t}function to(s,t,e,i,r){var l,h;let n;if(r)n=vt.get(),n=e.copyTo(n);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const c=s.localTransform;n=vt.get(),n.appendFrom(c,e)}const a=t,o=!!s.effects.length;if(o&&(t=se.get().clear()),s.boundsArea)t.addRect(s.boundsArea,n);else{s.renderPipeId&&(t.matrix=n,t.addBounds(s.bounds));const c=s.children;for(let u=0;u<c.length;u++)to(c[u],t,n,i,!1)}if(o){for(let c=0;c<s.effects.length;c++)(h=(l=s.effects[c]).addLocalBounds)==null||h.call(l,t,i);a.addBounds(t,U.IDENTITY),se.return(t)}vt.return(n)}function eo(s,t){const e=s.children;for(let i=0;i<e.length;i++){const r=e[i],n=r.uid,a=(r._didViewChangeTick&65535)<<16|r._didContainerChangeTick&65535,o=t.index;(t.data[o]!==n||t.data[o+1]!==a)&&(t.data[t.index]=n,t.data[t.index+1]=a,t.didChange=!0),t.index=o+2,r.children.length&&eo(r,t)}return t.didChange}const ad=new U,od={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const e=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*e:this.scale.x=e},_setHeight(s,t){const e=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*e:this.scale.y=e},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Nt});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),eo(this,s),s.didChange&&Qa(this,s.localBounds,ad),s.localBounds},getBounds(s,t){return Ja(this,s,t||new Nt)}},ld={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},hd={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(cd))}};function cd(s,t){return s._zIndex-t._zIndex}const ud={getGlobalPosition(s=new gt,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,e=!1){const i=this.getGlobalTransform(vt.get(),e);return t=i.apply(s,t),vt.return(i),t},toLocal(s,t,e,i){t&&(s=t.toGlobal(s,e,i));const r=this.getGlobalTransform(vt.get(),i);return e=r.applyInverse(s,e),vt.return(r),e}};class so{constructor(){this.uid=at("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let dd=0;class fd{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Va(this.textureOptions)}createTexture(t,e,i){const r=new Ht({...this.textureOptions,width:t,height:e,resolution:1,antialias:i,autoGarbageCollect:!1});return new X({source:r,label:`texturePool_${dd++}`})}getOptimalTexture(t,e,i=1,r){let n=Math.ceil(t*i-1e-6),a=Math.ceil(e*i-1e-6);n=Kr(n),a=Kr(a);const o=(n<<17)+(a<<1)+(r?1:0);this._texturePool[o]||(this._texturePool[o]=[]);let l=this._texturePool[o].pop();return l||(l=this.createTexture(n,a,r)),l.source._resolution=i,l.source.width=n/i,l.source.height=a/i,l.source.pixelWidth=n,l.source.pixelHeight=a,l.frame.x=0,l.frame.y=0,l.frame.width=t,l.frame.height=e,l.updateUvs(),this._poolKeyHash[l.uid]=o,l}getSameSizeTexture(t,e=!1){const i=t.source;return this.getOptimalTexture(t.width,t.height,i._resolution,e)}returnTexture(t,e=!1){const i=this._poolKeyHash[t.uid];e&&(t.source.style=this.textureStyle),this._texturePool[i].push(t)}clear(t){if(t=t!==!1,t)for(const e in this._texturePool){const i=this._texturePool[e];if(i)for(let r=0;r<i.length;r++)i[r].destroy(!0)}this._texturePool={}}}const io=new fd;mi.register(io);class pd{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new U,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new so,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i];r._updateFlags=15,this.addChild(r)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(io.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const t=this._parentCacheAsTextureRenderGroup;t&&!t.textureNeedsUpdate&&t.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const e=this.childrenToUpdate[t];e.list.fill(null),e.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const e=t.children;for(let i=0;i<e.length;i++)this.addChild(e[i])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const e=t.children;for(let i=0;i<e.length;i++)this.removeChild(e[i])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const e=this.root.children;for(let i=0;i<e.length;i++)this._getChildren(e[i],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const i=t.children;for(let r=0;r<i.length;r++)this._getChildren(i[r],e);return e}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new U),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new U),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new U),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function md(s,t,e={}){for(const i in t)!e[i]&&t[i]!==void 0&&(s[i]=t[i])}const Mi=new mt(null),Es=new mt(null),ki=new mt(null,1,1),Is=new mt(null),pn=1,gd=2,Ei=4;class de extends ne{constructor(t={}){var e,i;super(),this.uid=at("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new U,this.relativeGroupTransform=new U,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new mt(this,0,0),this._scale=ki,this._pivot=Es,this._origin=Is,this._skew=Mi,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],md(this,t,{children:!0,parent:!0,effects:!0}),(e=t.children)==null||e.forEach(r=>this.addChild(r)),(i=t.parent)==null||i.addChild(this)}static mixin(t){Y("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Ft.mixin(de,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||Y(lt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let r=0;r<t.length;r++)this.addChild(t[r]);return t[0]}const e=t[0],i=this.renderGroup||this.parentRenderGroup;return e.parent===this?(this.children.splice(this.children.indexOf(e),1),this.children.push(e),i&&(i.structureDidChange=!0),e):(e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15,i&&i.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,e._zIndex!==0&&e.depthOfChildModified(),e)}removeChild(...t){if(t.length>1){for(let r=0;r<t.length;r++)this.removeChild(t[r]);return t[0]}const e=t[0],i=this.children.indexOf(e);return i>-1&&(this._didViewChangeTick++,this.children.splice(i,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parentRenderLayer&&e.parentRenderLayer.detach(e),e.parent=null,this.emit("childRemoved",e,this,i),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Dt.get(pd,this),this.groupTransform=U.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Dt.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new U),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*ku}set angle(t){this.rotation=t*Eu}get pivot(){return this._pivot===Es&&(this._pivot=new mt(this,0,0)),this._pivot}set pivot(t){this._pivot===Es&&(this._pivot=new mt(this,0,0),this._origin!==Is&&kt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Mi&&(this._skew=new mt(this,0,0)),this._skew}set skew(t){this._skew===Mi&&(this._skew=new mt(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===ki&&(this._scale=new mt(this,1,1)),this._scale}set scale(t){this._scale===ki&&(this._scale=new mt(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===Is&&(this._origin=new mt(this,0,0)),this._origin}set origin(t){this._origin===Is&&(this._origin=new mt(this,0,0),this._pivot!==Es&&kt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const i=this.getLocalBounds();typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,i.width),e!==void 0&&this._setHeight(e,i.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this.localTransform,i=this._scale,r=this._pivot,n=this._origin,a=this._position,o=i._x,l=i._y,h=r._x,c=r._y,u=-n._x,f=-n._y;e.a=this._cx*o,e.b=this._sx*o,e.c=this._cy*l,e.d=this._sy*l,e.tx=a._x-(h*e.a+c*e.c)+(u*e.a+f*e.c)-u,e.ty=a._y-(h*e.b+c*e.d)+(u*e.b+f*e.d)-f}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=pn,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const i=Bt.shared.setValue(t??16777215).toBgrNumber();i!==this.localColor&&(this.localColor=i,this._updateFlags|=pn,this._onUpdate())}get tint(){return Us(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=gd,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const e=t?2:0;(this.localDisplayStatus&2)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ei,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const e=t?0:4;(this.localDisplayStatus&4)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ei,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const e=t?1:0;(this.localDisplayStatus&1)!==e&&(this._updateFlags|=Ei,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var r;if(this.destroyed)return;this.destroyed=!0;let e;if(this.children.length&&(e=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&e)for(let n=0;n<e.length;++n)e[n].destroy(t);(r=this.renderGroup)==null||r.destroy(),this.renderGroup=null}}Ft.mixin(de,Zu,rd,ud,ld,od,ed,sd,hd,qu,Ju,nd,Qu);class ro extends de{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new Nt(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=t.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:i,y:r}=t;return i>=e.minX&&i<=e.maxX&&r>=e.minY&&r<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(t){this.unload(),super.destroy(t),this._bounds=null}collectRenderablesSimple(t,e,i){const{renderPipes:r}=e;r.blendMode.pushBlendMode(this,this.groupBlendMode,t),r[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const a=this.children,o=a.length;for(let l=0;l<o;l++)a[l].collectRenderables(t,e,i);r.blendMode.popBlendMode(t)}}class ps extends ro{constructor(t=X.EMPTY){t instanceof X&&(t={texture:t});const{texture:e=X.EMPTY,anchor:i,roundPixels:r,width:n,height:a,...o}=t;super({label:"Sprite",...o}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new mt({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=r??!1,n!==void 0&&(this.width=n),a!==void 0&&(this.height=a)}static from(t,e=!1){return t instanceof X?new ps(t):new ps(X.from(t,e))}set texture(t){t||(t=X.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Gu(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Y("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,e=this._texture,i=this._bounds,{width:r,height:n}=e.orig;i.minX=-t._x*r,i.maxX=i.minX+r,i.minY=-t._y*n,i.maxY=i.minY+n}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const i=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(i)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),e!==void 0&&this._setHeight(e,this._texture.orig.height)}}const _d=new Nt;function no(s,t,e){const i=_d;s.measurable=!0,Ja(s,e,i),t.addBoundsMask(i),s.measurable=!1}function ao(s,t,e){const i=se.get();s.measurable=!0;const r=vt.get().identity(),n=oo(s,e,r);Qa(s,i,n),s.measurable=!1,t.addBoundsMask(i),vt.return(r),se.return(i)}function oo(s,t,e){return s?(s!==t&&(oo(s.parent,t,e),s.updateLocalTransform(),e.append(s.localTransform)),e):(kt("Mask bounds, renderable is not inside the root container"),e)}class lo{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof ps),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(t,e){this.inverse||no(this.mask,t,e)}addLocalBounds(t,e){ao(this.mask,t,e)}containsPoint(t,e){const i=this.mask;return e(i,t)}destroy(){this.reset()}static test(t){return t instanceof ps}}lo.extension=$.MaskEffect;class ho{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}ho.extension=$.MaskEffect;class co{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(t,e){no(this.mask,t,e)}addLocalBounds(t,e){ao(this.mask,t,e)}containsPoint(t,e){const i=this.mask;return e(i,t)}destroy(){this.reset()}static test(t){return t instanceof de}}co.extension=$.MaskEffect;const vd={createCanvas:(s,t)=>{const e=document.createElement("canvas");return e.width=s,e.height=t,e},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let mn=vd;const fe={get(){return mn},set(s){mn=s}};class uo extends Ht{constructor(t){t.resource||(t.resource=fe.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,i=this._resolution){const r=super.resize(t,e,i);return r&&this.resizeCanvas(),r}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}uo.extension=$.TextureSource;class ei extends Ht{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}ei.extension=$.TextureSource;var Qi=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(Qi||{});class Ii{constructor(t,e=null,i=0,r=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=i,this._once=r}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const fo=class At{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ii(null,null,1/0),this.deltaMS=1/At.targetFPMS,this.elapsedMS=1/At.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=Qi.NORMAL){return this._addListener(new Ii(t,e,i))}addOnce(t,e,i=Qi.NORMAL){return this._addListener(new Ii(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(!e)t.connect(i);else{for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i.match(t,e)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*At.targetFPMS;const i=this._head;let r=i.next;for(;r;)r=r.emit(this);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,At.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!At._shared){const t=At._shared=new At;t.autoStart=!0,t._protected=!0}return At._shared}static get system(){if(!At._system){const t=At._system=new At;t.autoStart=!0,t._protected=!0}return At._system}};fo.targetFPMS=.06;let Rs=fo,Ri;async function xd(){return Ri??(Ri=(async()=>{var a;const t=fe.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return"premultiply-alpha-on-upload";const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(r),t.deleteTexture(i),(a=t.getExtension("WEBGL_lose_context"))==null||a.loseContext(),n[0]<=n[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Ri}const gi=class po extends Ht{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...po.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Rs.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await xd(),this._load=new Promise((i,r)=>{this.isValid?i(this):(this._resolve=i,this._reject=r,e.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Rs.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Rs.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Rs.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};gi.extension=$.TextureSource;gi.defaultOptions={...Ht.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};gi.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let yd=gi;const De=(s,t,e=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(i=>typeof i=="string"||e?t(i):i):s);class bd{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||kt(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=De(t);let r;for(let l=0;l<this.parsers.length;l++){const h=this.parsers[l];if(h.test(e)){r=h.getCacheableAssets(i,e);break}}const n=new Map(Object.entries(r||{}));r||i.forEach(l=>{n.set(l,e)});const a=[...n.keys()],o={cacheKeys:a,keys:i};i.forEach(l=>{this._cacheMap.set(l,o)}),a.forEach(l=>{const h=r?r[l]:e;this._cache.has(l)&&this._cache.get(l)!==h&&kt("[Cache] already has key:",l),this._cache.set(l,n.get(l))})}remove(t){if(!this._cacheMap.has(t)){kt(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(r=>{this._cache.delete(r)}),e.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Fe=new bd,tr=[];Ft.handleByList($.TextureSource,tr);function mo(s={}){const t=s&&s.resource,e=t?s.resource:s,i=t?s:{resource:s};for(let r=0;r<tr.length;r++){const n=tr[r];if(n.test(e))return new n(i)}throw new Error(`Could not find a source type for resource: ${i.resource}`)}function wd(s={},t=!1){const e=s&&s.resource,i=e?s.resource:s,r=e?s:{resource:s};if(!t&&Fe.has(i))return Fe.get(i);const n=new X({source:mo(r)});return n.on("destroy",()=>{Fe.has(i)&&Fe.remove(i)}),t||Fe.set(i,n),n}function Sd(s,t=!1){return typeof s=="string"?Fe.get(s):s instanceof Ht?new X({source:s}):wd(s,t)}X.from=Sd;Ht.from=mo;Ft.add(lo,ho,co,yd,ei,uo,Cr);var go=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(go||{});function Gt(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function Ve(s){return s.split("?")[0].split("#")[0]}function Cd(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ad(s,t,e){return s.replace(new RegExp(Cd(t),"g"),e)}function Pd(s,t){let e="",i=0,r=-1,n=0,a=-1;for(let o=0;o<=s.length;++o){if(o<s.length)a=s.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||n===1))if(r!==o-1&&n===2){if(e.length<2||i!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const l=e.lastIndexOf("/");if(l!==e.length-1){l===-1?(e="",i=0):(e=e.slice(0,l),i=e.length-1-e.lastIndexOf("/")),r=o,n=0;continue}}else if(e.length===2||e.length===1){e="",i=0,r=o,n=0;continue}}}else e.length>0?e+=`/${s.slice(r+1,o)}`:e=s.slice(r+1,o),i=o-r-1;r=o,n=0}else a===46&&n!==-1?++n:n=-1}return e}const ms={toPosix(s){return Ad(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){Gt(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(s);return e?e[0]:""},toAbsolute(s,t,e){if(Gt(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const i=Ve(this.toPosix(t??fe.get().getBaseUrl())),r=Ve(this.toPosix(e??this.rootname(i)));return s=this.toPosix(s),s.startsWith("/")?ms.join(r,s.slice(1)):this.isAbsolute(s)?s:this.join(i,s)},normalize(s){if(Gt(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const e=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const i=s.endsWith("/");return s=Pd(s),s.length>0&&i&&(s+="/"),e?`/${s}`:t+s},isAbsolute(s){return Gt(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let e=0;e<s.length;++e){const i=s[e];if(Gt(i),i.length>0)if(t===void 0)t=i;else{const r=s[e-1]??"";this.joinExtensions.includes(this.extname(r).toLowerCase())?t+=`/../${i}`:t+=`/${i}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(Gt(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const e=t===47;let i=-1,r=!0;const n=this.getProtocol(s),a=s;s=s.slice(n.length);for(let o=s.length-1;o>=1;--o)if(t=s.charCodeAt(o),t===47){if(!r){i=o;break}}else r=!1;return i===-1?e?"/":this.isUrl(a)?n+s:n:e&&i===1?"//":n+s.slice(0,i)},rootname(s){Gt(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const e=s.indexOf("/",t.length);e!==-1?t=s.slice(0,e):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){Gt(s),t&&Gt(t),s=Ve(this.toPosix(s));let e=0,i=-1,r=!0,n;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let a=t.length-1,o=-1;for(n=s.length-1;n>=0;--n){const l=s.charCodeAt(n);if(l===47){if(!r){e=n+1;break}}else o===-1&&(r=!1,o=n+1),a>=0&&(l===t.charCodeAt(a)?--a===-1&&(i=n):(a=-1,i=o))}return e===i?i=o:i===-1&&(i=s.length),s.slice(e,i)}for(n=s.length-1;n>=0;--n)if(s.charCodeAt(n)===47){if(!r){e=n+1;break}}else i===-1&&(r=!1,i=n+1);return i===-1?"":s.slice(e,i)},extname(s){Gt(s),s=Ve(this.toPosix(s));let t=-1,e=0,i=-1,r=!0,n=0;for(let a=s.length-1;a>=0;--a){const o=s.charCodeAt(a);if(o===47){if(!r){e=a+1;break}continue}i===-1&&(r=!1,i=a+1),o===46?t===-1?t=a:n!==1&&(n=1):t!==-1&&(n=-1)}return t===-1||i===-1||n===0||n===1&&t===i-1&&t===e+1?"":s.slice(t,i)},parse(s){Gt(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=Ve(this.toPosix(s));let e=s.charCodeAt(0);const i=this.isAbsolute(s);let r;t.root=this.rootname(s),i||this.hasProtocol(s)?r=1:r=0;let n=-1,a=0,o=-1,l=!0,h=s.length-1,c=0;for(;h>=r;--h){if(e=s.charCodeAt(h),e===47){if(!l){a=h+1;break}continue}o===-1&&(l=!1,o=h+1),e===46?n===-1?n=h:c!==1&&(c=1):n!==-1&&(c=-1)}return n===-1||o===-1||c===0||c===1&&n===o-1&&n===a+1?o!==-1&&(a===0&&i?t.base=t.name=s.slice(1,o):t.base=t.name=s.slice(a,o)):(a===0&&i?(t.name=s.slice(1,n),t.base=s.slice(1,o)):(t.name=s.slice(a,n),t.base=s.slice(a,o)),t.ext=s.slice(n,o)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function _o(s,t,e,i,r){const n=t[e];for(let a=0;a<n.length;a++){const o=n[a];e<t.length-1?_o(s.replace(i[e],o),t,e+1,i,r):r.push(s.replace(i[e],o))}}function Td(s){const t=/\{(.*?)\}/g,e=s.match(t),i=[];if(e){const r=[];e.forEach(n=>{const a=n.substring(1,n.length-1).split(",");r.push(a)}),_o(s,r,0,e,i)}else i.push(s);return i}const gn=s=>!Array.isArray(s);class vo{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`).join("&")}}getAlias(t){const{alias:e,src:i}=t;return De(e||i,n=>typeof n=="string"?n:Array.isArray(n)?n.map(a=>(a==null?void 0:a.src)??a):n!=null&&n.src?n.src:n,!0)}addManifest(t){this._manifest&&kt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const i=[];let r=e;Array.isArray(e)||(r=Object.entries(e).map(([n,a])=>typeof a=="string"||Array.isArray(a)?{alias:n,src:a}:{alias:n,...a})),r.forEach(n=>{const a=n.src,o=n.alias;let l;if(typeof o=="string"){const h=this._createBundleAssetId(t,o);i.push(h),l=[o,h]}else{const h=o.map(c=>this._createBundleAssetId(t,c));i.push(...h),l=[...o,...h]}this.add({...n,alias:l,src:a})}),this._bundles[t]=i}add(t){const e=[];Array.isArray(t)?e.push(...t):e.push(t);let i;i=n=>{this.hasKey(n)&&kt(`[Resolver] already has key: ${n} overwriting`)},De(e).forEach(n=>{const{src:a}=n;let{data:o,format:l,loadParser:h,parser:c}=n;const u=De(a).map(g=>typeof g=="string"?Td(g):Array.isArray(g)?g:[g]),f=this.getAlias(n);Array.isArray(f)?f.forEach(i):i(f);const d=[],m=g=>{const p=this._parsers.find(v=>v.test(g));return{...p==null?void 0:p.parse(g),src:g}};u.forEach(g=>{g.forEach(p=>{let v={};if(typeof p!="object"?v=m(p):(o=p.data??o,l=p.format??l,(p.loadParser||p.parser)&&(h=p.loadParser??h,c=p.parser??c),v={...m(p.src),...p}),!f)throw new Error(`[Resolver] alias is undefined for this asset: ${v.src}`);v=this._buildResolvedAsset(v,{aliases:f,data:o,format:l,loadParser:h,parser:c,progressSize:n.progressSize}),d.push(v)})}),f.forEach(g=>{this._assetMap[g]=d})})}resolveBundle(t){const e=gn(t);t=De(t);const i={};return t.forEach(r=>{const n=this._bundles[r];if(n){const a=this.resolve(n),o={};for(const l in a){const h=a[l];o[this._extractAssetIdFromBundle(r,l)]=h}i[r]=o}}),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const i={};for(const r in e)i[r]=e[r].src;return i}return e.src}resolve(t){const e=gn(t);t=De(t);const i={};return t.forEach(r=>{if(!this._resolverHash[r])if(this._assetMap[r]){let n=this._assetMap[r];const a=this._getPreferredOrder(n);a==null||a.priority.forEach(o=>{a.params[o].forEach(l=>{const h=n.filter(c=>c[o]?c[o]===l:!1);h.length&&(n=h)})}),this._resolverHash[r]=n[0]}else this._resolverHash[r]=this._buildResolvedAsset({alias:[r],src:r},{});i[r]=this._resolverHash[r]}),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const i=t[e],r=this._preferredOrder.find(n=>n.params.format.includes(i.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}_buildResolvedAsset(t,e){const{aliases:i,data:r,loadParser:n,parser:a,format:o,progressSize:l}=e;return(this._basePath||this._rootPath)&&(t.src=ms.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...r||{},...t.data},t.loadParser=n??t.loadParser,t.parser=a??t.parser,t.format=o??t.format??Md(t.src),l!==void 0&&(t.progressSize=l),t}}vo.RETINA_PREFIX=/@([0-9\.]+)x/;function Md(s){return s.split(".").pop().split("?").shift().split("#").shift()}const _n=(s,t)=>{const e=t.split("?")[1];return e&&(s+=`?${e}`),s},xo=class es{constructor(t,e){this.linkedSheets=[];let i=t;(t==null?void 0:t.source)instanceof Ht&&(i={texture:t,data:e});const{texture:r,data:n,cachePrefix:a=""}=i;this.cachePrefix=a,this._texture=r instanceof X?r:null,this.textureSource=r.source,this.textures={},this.animations={},this.data=n;const o=parseFloat(n.meta.scale);o?(this.resolution=o,r.source.resolution=this.resolution):this.resolution=r.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=es.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const i=es.BATCH_SIZE;for(;e-t<i&&e<this._frameKeys.length;){const r=this._frameKeys[e],n=this._frames[r],a=n.frame;if(a){let o=null,l=null;const h=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,c=new ct(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);n.rotated?o=new ct(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):o=new ct(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(l=new ct(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[r]=new X({source:this.textureSource,frame:o,orig:c,trim:l,rotate:n.rotated?2:0,defaultAnchor:n.anchor,defaultBorders:n.borders,label:r.toString()})}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const r=t[e][i];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*es.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*es.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};xo.BATCH_SIZE=1e3;let vn=xo;const kd=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function yo(s,t,e){const i={};if(s.forEach(r=>{i[r]=t}),Object.keys(t.textures).forEach(r=>{i[`${t.cachePrefix}${r}`]=t.textures[r]}),!e){const r=ms.dirname(s[0]);t.linkedSheets.forEach((n,a)=>{const o=yo([`${r}/${t.data.meta.related_multi_packs[a]}`],n,!0);Object.assign(i,o)})}return i}const Ed={extension:$.Asset,cache:{test:s=>s instanceof vn,getCacheableAssets:(s,t)=>yo(s,t,!1)},resolver:{extension:{type:$.ResolveParser,name:"resolveSpritesheet"},test:s=>{const e=s.split("?")[0].split("."),i=e.pop(),r=e.pop();return i==="json"&&kd.includes(r)},parse:s=>{var e;const t=s.split(".");return{resolution:parseFloat(((e=vo.RETINA_PREFIX.exec(s))==null?void 0:e[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:$.LoadParser,priority:go.Normal,name:"spritesheetLoader"},async testParse(s,t){return ms.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,e){var u,f;const{texture:i,imageFilename:r,textureOptions:n,cachePrefix:a}=(t==null?void 0:t.data)??{};let o=ms.dirname(t.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let l;if(i instanceof X)l=i;else{const d=_n(o+(r??s.meta.image),t.src);l=(await e.load([{src:d,data:n}]))[d]}const h=new vn({texture:l.source,data:s,cachePrefix:a});await h.parse();const c=(u=s==null?void 0:s.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(c)){const d=[];for(const g of c){if(typeof g!="string")continue;let p=o+g;(f=t.data)!=null&&f.ignoreMultiPack||(p=_n(p,t.src),d.push(e.load({src:p,data:{textureOptions:n,ignoreMultiPack:!0}})))}const m=await Promise.all(d);h.linkedSheets=m,m.forEach(g=>{g.linkedSheets=[h].concat(h.linkedSheets.filter(p=>p!==g))})}return h},async unload(s,t,e){await e.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};Ft.add(Ed);const Li=Object.create(null),xn=Object.create(null);function Pr(s,t){let e=xn[s];return e===void 0&&(Li[t]===void 0&&(Li[t]=1),xn[s]=e=Li[t]++),e}let Le;function bo(){return(!Le||Le!=null&&Le.isContextLost())&&(Le=fe.get().createCanvas().getContext("webgl",{})),Le}let Ls;function Id(){if(!Ls){Ls="mediump";const s=bo();s&&s.getShaderPrecisionFormat&&(Ls=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Ls}function Rd(s,t,e){return t?s:e?(s=s.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function Ld(s,t,e){const i=e?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let r=e?t.requestedFragmentPrecision:t.requestedVertexPrecision;return r==="highp"&&i!=="highp"&&(r="mediump"),`precision ${r} float;
${s}`}else if(i!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function Bd(s,t){return t?`#version 300 es
${s}`:s}const Dd={},Fd={};function Gd(s,{name:t="pixi-program"},e=!0){t=t.replace(/\s+/g,"-"),t+=e?"-fragment":"-vertex";const i=e?Dd:Fd;return i[t]?(i[t]++,t+=`-${i[t]}`):i[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function jd(s,t){return t?s.replace("#version 300 es",""):s}const Bi={stripVersion:jd,ensurePrecision:Ld,addProgramDefines:Rd,setProgramName:Gd,insertVersion:Bd},$e=Object.create(null),wo=class er{constructor(t){t={...er.defaultOptions,...t};const e=t.fragment.indexOf("#version 300 es")!==-1,i={stripVersion:e,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Id()},setProgramName:{name:t.name},addProgramDefines:e,insertVersion:e};let r=t.fragment,n=t.vertex;Object.keys(Bi).forEach(a=>{const o=i[a];r=Bi[a](r,o,!0),n=Bi[a](n,o,!1)}),this.fragment=r,this.vertex=n,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Pr(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,$e[this._cacheKey]=null}static from(t){const e=`${t.vertex}:${t.fragment}`;return $e[e]||($e[e]=new er(t),$e[e]._cacheKey=e),$e[e]}};wo.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let So=wo;const yn={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Od(s){return yn[s]??yn.float32}const Nd={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function zd({source:s,entryPoint:t}){const e={},i=s.indexOf(`fn ${t}`);if(i!==-1){const r=s.indexOf("->",i);if(r!==-1){const n=s.substring(i,r),a=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let o;for(;(o=a.exec(n))!==null;){const l=Nd[o[3]]??"float32";e[o[2]]={location:parseInt(o[1],10),format:l,stride:Od(l).stride,offset:0,instance:!1,start:0}}}}return e}function Di(s){var u,f;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,e=/@group\((\d+)\)/,i=/@binding\((\d+)\)/,r=/var(<[^>]+>)? (\w+)/,n=/:\s*(\w+)/,a=/struct\s+(\w+)\s*{([^}]+)}/g,o=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,h=(u=s.match(t))==null?void 0:u.map(d=>({group:parseInt(d.match(e)[1],10),binding:parseInt(d.match(i)[1],10),name:d.match(r)[2],isUniform:d.match(r)[1]==="<uniform>",type:d.match(n)[1]}));if(!h)return{groups:[],structs:[]};const c=((f=s.match(a))==null?void 0:f.map(d=>{const m=d.match(l)[1],g=d.match(o).reduce((p,v)=>{const[x,_]=v.split(":");return p[x.trim()]=_.trim(),p},{});return g?{name:m,members:g}:null}).filter(({name:d})=>h.some(m=>m.type===d)))??[];return{groups:h,structs:c}}var ss=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(ss||{});function Ud({groups:s}){const t=[];for(let e=0;e<s.length;e++){const i=s[e];t[i.group]||(t[i.group]=[]),i.isUniform?t[i.group].push({binding:i.binding,visibility:ss.VERTEX|ss.FRAGMENT,buffer:{type:"uniform"}}):i.type==="sampler"?t[i.group].push({binding:i.binding,visibility:ss.FRAGMENT,sampler:{type:"filtering"}}):i.type==="texture_2d"&&t[i.group].push({binding:i.binding,visibility:ss.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function Hd({groups:s}){const t=[];for(let e=0;e<s.length;e++){const i=s[e];t[i.group]||(t[i.group]={}),t[i.group][i.name]=i.binding}return t}function Vd(s,t){const e=new Set,i=new Set,r=[...s.structs,...t.structs].filter(a=>e.has(a.name)?!1:(e.add(a.name),!0)),n=[...s.groups,...t.groups].filter(a=>{const o=`${a.name}-${a.binding}`;return i.has(o)?!1:(i.add(o),!0)});return{structs:r,groups:n}}const Ye=Object.create(null);class _i{constructor(t){var o,l;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:e,vertex:i,layout:r,gpuLayout:n,name:a}=t;if(this.name=a,this.fragment=e,this.vertex=i,e.source===i.source){const h=Di(e.source);this.structsAndGroups=h}else{const h=Di(i.source),c=Di(e.source);this.structsAndGroups=Vd(h,c)}this.layout=r??Hd(this.structsAndGroups),this.gpuLayout=n??Ud(this.structsAndGroups),this.autoAssignGlobalUniforms=((o=this.layout[0])==null?void 0:o.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((l=this.layout[1])==null?void 0:l.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:e}=this,i=t.source+e.source+t.entryPoint+e.entryPoint;this._layoutKey=Pr(i,"program")}get attributeData(){return this._attributeData??(this._attributeData=zd(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Ye[this._cacheKey]=null}static from(t){const e=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Ye[e]||(Ye[e]=new _i(t),Ye[e]._cacheKey=e),Ye[e]}}const Co=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],$d=Co.reduce((s,t)=>(s[t]=!0,s),{});function Yd(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ao=class Po{constructor(t,e){this._touched=0,this.uid=at("uniform"),this._resourceType="uniformGroup",this._resourceId=at("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,e={...Po.defaultOptions,...e},this.uniformStructures=t;const i={};for(const r in t){const n=t[r];if(n.name=r,n.size=n.size??1,!$d[n.type]){const a=n.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(a){const[,o,l]=a;throw new Error(`Uniform type ${n.type} is not supported. Use type: '${o}', size: ${l} instead.`)}throw new Error(`Uniform type ${n.type} is not supported. Supported uniform types are: ${Co.join(", ")}`)}n.value??(n.value=Yd(n.type,n.size)),i[r]=n.value}this.uniforms=i,this._dirtyId=1,this.ubo=e.ubo,this.isStatic=e.isStatic,this._signature=Pr(Object.keys(i).map(r=>`${r}-${t[r].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Ao.defaultOptions={ubo:!1,isStatic:!1};let To=Ao;class Hs{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const i in t){const r=t[i];this.setResource(r,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const i in this.resources)t[e++]=this.resources[i]._resourceId;this._key=t.join("|")}setResource(t,e){var r,n;const i=this.resources[e];t!==i&&(i&&((r=t.off)==null||r.call(t,"change",this.onResourceChange,this)),(n=t.on)==null||n.call(t,"change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t,e){const i=this.resources;for(const r in i)i[r]._gcLastUsed=t,i[r]._touched=e}destroy(){var e;const t=this.resources;for(const i in t){const r=t[i];(e=r==null?void 0:r.off)==null||e.call(r,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const i in e)e[i]===t&&(e[i]=null)}else this._updateKey()}}var sr=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(sr||{});class Tr extends ne{constructor(t){super(),this.uid=at("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:e,glProgram:i,groups:r,resources:n,compatibleRenderers:a,groupMap:o}=t;this.gpuProgram=e,this.glProgram=i,a===void 0&&(a=0,e&&(a|=sr.WEBGPU),i&&(a|=sr.WEBGL)),this.compatibleRenderers=a;const l={};if(!n&&!r&&(n={}),n&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!e&&r&&!o)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!e&&r&&o)for(const h in o)for(const c in o[h]){const u=o[h][c];l[u]={group:h,binding:c,name:u}}else if(e&&r&&!o){const h=e.structsAndGroups.groups;o={},h.forEach(c=>{o[c.group]=o[c.group]||{},o[c.group][c.binding]=c.name,l[c.name]=c})}else if(n){r={},o={},e&&e.structsAndGroups.groups.forEach(u=>{o[u.group]=o[u.group]||{},o[u.group][u.binding]=u.name,l[u.name]=u});let h=0;for(const c in n)l[c]||(r[99]||(r[99]=new Hs,this._ownedBindGroups.push(r[99])),l[c]={group:99,binding:h,name:c},o[99]=o[99]||{},o[99][h]=c,h++);for(const c in n){const u=c;let f=n[c];!f.source&&!f._resourceType&&(f=new To(f));const d=l[u];d&&(r[d.group]||(r[d.group]=new Hs,this._ownedBindGroups.push(r[d.group])),r[d.group].setResource(f,d.binding))}}this.groups=r,this._uniformBindMap=o,this.resources=this._buildResourceAccessor(r,l)}addResource(t,e,i){var r,n;(r=this._uniformBindMap)[e]||(r[e]={}),(n=this._uniformBindMap[e])[i]||(n[i]=t),this.groups[e]||(this.groups[e]=new Hs,this._ownedBindGroups.push(this.groups[e]))}_buildResourceAccessor(t,e){const i={};for(const r in e){const n=e[r];Object.defineProperty(i,n.name,{get(){return t[n.group].getResource(n.binding)},set(a){t[n.group].setResource(a,n.binding)}})}return i}destroy(t=!1){var e,i;this._destroyed||(this._destroyed=!0,this.emit("destroy",this),t&&((e=this.gpuProgram)==null||e.destroy(),(i=this.glProgram)==null||i.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(r=>{r.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(t){const{gpu:e,gl:i,...r}=t;let n,a;return e&&(n=_i.from(e)),i&&(a=So.from(i)),new Tr({gpuProgram:n,glProgram:a,...r})}}const ir=[];Ft.handleByNamedList($.Environment,ir);async function qd(s){if(!s)for(let t=0;t<ir.length;t++){const e=ir[t];if(e.value.test()){await e.value.load();return}}}let qe;function Wd(){if(typeof qe=="boolean")return qe;try{qe=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{qe=!1}return qe}function bn(s,t,e=2){const i=t&&t.length,r=i?t[0]*e:s.length;let n=Mo(s,0,r,e,!0);const a=[];if(!n||n.next===n.prev)return a;let o,l,h;if(i&&(n=Qd(s,t,n,e)),s.length>80*e){o=s[0],l=s[1];let c=o,u=l;for(let f=e;f<r;f+=e){const d=s[f],m=s[f+1];d<o&&(o=d),m<l&&(l=m),d>c&&(c=d),m>u&&(u=m)}h=Math.max(c-o,u-l),h=h!==0?32767/h:0}return gs(n,a,e,o,l,h,0),a}function Mo(s,t,e,i,r){let n;if(r===uf(s,t,e,i)>0)for(let a=t;a<e;a+=i)n=wn(a/i|0,s[a],s[a+1],n);else for(let a=e-i;a>=t;a-=i)n=wn(a/i|0,s[a],s[a+1],n);return n&&Ue(n,n.next)&&(vs(n),n=n.next),n}function Ae(s,t){if(!s)return s;t||(t=s);let e=s,i;do if(i=!1,!e.steiner&&(Ue(e,e.next)||st(e.prev,e,e.next)===0)){if(vs(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function gs(s,t,e,i,r,n,a){if(!s)return;!a&&n&&nf(s,i,r,n);let o=s;for(;s.prev!==s.next;){const l=s.prev,h=s.next;if(n?Jd(s,i,r,n):Xd(s)){t.push(l.i,s.i,h.i),vs(s),s=h.next,o=h.next;continue}if(s=h,s===o){a?a===1?(s=Kd(Ae(s),t),gs(s,t,e,i,r,n,2)):a===2&&Zd(s,t,e,i,r,n):gs(Ae(s),t,e,i,r,n,1);break}}}function Xd(s){const t=s.prev,e=s,i=s.next;if(st(t,e,i)>=0)return!1;const r=t.x,n=e.x,a=i.x,o=t.y,l=e.y,h=i.y,c=Math.min(r,n,a),u=Math.min(o,l,h),f=Math.max(r,n,a),d=Math.max(o,l,h);let m=i.next;for(;m!==t;){if(m.x>=c&&m.x<=f&&m.y>=u&&m.y<=d&&is(r,o,n,l,a,h,m.x,m.y)&&st(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Jd(s,t,e,i){const r=s.prev,n=s,a=s.next;if(st(r,n,a)>=0)return!1;const o=r.x,l=n.x,h=a.x,c=r.y,u=n.y,f=a.y,d=Math.min(o,l,h),m=Math.min(c,u,f),g=Math.max(o,l,h),p=Math.max(c,u,f),v=rr(d,m,t,e,i),x=rr(g,p,t,e,i);let _=s.prevZ,y=s.nextZ;for(;_&&_.z>=v&&y&&y.z<=x;){if(_.x>=d&&_.x<=g&&_.y>=m&&_.y<=p&&_!==r&&_!==a&&is(o,c,l,u,h,f,_.x,_.y)&&st(_.prev,_,_.next)>=0||(_=_.prevZ,y.x>=d&&y.x<=g&&y.y>=m&&y.y<=p&&y!==r&&y!==a&&is(o,c,l,u,h,f,y.x,y.y)&&st(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;_&&_.z>=v;){if(_.x>=d&&_.x<=g&&_.y>=m&&_.y<=p&&_!==r&&_!==a&&is(o,c,l,u,h,f,_.x,_.y)&&st(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;y&&y.z<=x;){if(y.x>=d&&y.x<=g&&y.y>=m&&y.y<=p&&y!==r&&y!==a&&is(o,c,l,u,h,f,y.x,y.y)&&st(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function Kd(s,t){let e=s;do{const i=e.prev,r=e.next.next;!Ue(i,r)&&Eo(i,e,e.next,r)&&_s(i,r)&&_s(r,i)&&(t.push(i.i,e.i,r.i),vs(e),vs(e.next),e=s=r),e=e.next}while(e!==s);return Ae(e)}function Zd(s,t,e,i,r,n){let a=s;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&lf(a,o)){let l=Io(a,o);a=Ae(a,a.next),l=Ae(l,l.next),gs(a,t,e,i,r,n,0),gs(l,t,e,i,r,n,0);return}o=o.next}a=a.next}while(a!==s)}function Qd(s,t,e,i){const r=[];for(let n=0,a=t.length;n<a;n++){const o=t[n]*i,l=n<a-1?t[n+1]*i:s.length,h=Mo(s,o,l,i,!1);h===h.next&&(h.steiner=!0),r.push(of(h))}r.sort(tf);for(let n=0;n<r.length;n++)e=ef(r[n],e);return e}function tf(s,t){let e=s.x-t.x;if(e===0&&(e=s.y-t.y,e===0)){const i=(s.next.y-s.y)/(s.next.x-s.x),r=(t.next.y-t.y)/(t.next.x-t.x);e=i-r}return e}function ef(s,t){const e=sf(s,t);if(!e)return t;const i=Io(e,s);return Ae(i,i.next),Ae(e,e.next)}function sf(s,t){let e=t;const i=s.x,r=s.y;let n=-1/0,a;if(Ue(s,e))return e;do{if(Ue(s,e.next))return e.next;if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const u=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(u<=i&&u>n&&(n=u,a=e.x<e.next.x?e:e.next,u===i))return a}e=e.next}while(e!==t);if(!a)return null;const o=a,l=a.x,h=a.y;let c=1/0;e=a;do{if(i>=e.x&&e.x>=l&&i!==e.x&&ko(r<h?i:n,r,l,h,r<h?n:i,r,e.x,e.y)){const u=Math.abs(r-e.y)/(i-e.x);_s(e,s)&&(u<c||u===c&&(e.x>a.x||e.x===a.x&&rf(a,e)))&&(a=e,c=u)}e=e.next}while(e!==o);return a}function rf(s,t){return st(s.prev,s,t.prev)<0&&st(t.next,s,s.next)<0}function nf(s,t,e,i){let r=s;do r.z===0&&(r.z=rr(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==s);r.prevZ.nextZ=null,r.prevZ=null,af(r)}function af(s){let t,e=1;do{let i=s,r;s=null;let n=null;for(t=0;i;){t++;let a=i,o=0;for(let h=0;h<e&&(o++,a=a.nextZ,!!a);h++);let l=e;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),n?n.nextZ=r:s=r,r.prevZ=n,n=r;i=a}n.nextZ=null,e*=2}while(t>1);return s}function rr(s,t,e,i,r){return s=(s-e)*r|0,t=(t-i)*r|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,s|t<<1}function of(s){let t=s,e=s;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==s);return e}function ko(s,t,e,i,r,n,a,o){return(r-a)*(t-o)>=(s-a)*(n-o)&&(s-a)*(i-o)>=(e-a)*(t-o)&&(e-a)*(n-o)>=(r-a)*(i-o)}function is(s,t,e,i,r,n,a,o){return!(s===a&&t===o)&&ko(s,t,e,i,r,n,a,o)}function lf(s,t){return s.next.i!==t.i&&s.prev.i!==t.i&&!hf(s,t)&&(_s(s,t)&&_s(t,s)&&cf(s,t)&&(st(s.prev,s,t.prev)||st(s,t.prev,t))||Ue(s,t)&&st(s.prev,s,s.next)>0&&st(t.prev,t,t.next)>0)}function st(s,t,e){return(t.y-s.y)*(e.x-t.x)-(t.x-s.x)*(e.y-t.y)}function Ue(s,t){return s.x===t.x&&s.y===t.y}function Eo(s,t,e,i){const r=Ds(st(s,t,e)),n=Ds(st(s,t,i)),a=Ds(st(e,i,s)),o=Ds(st(e,i,t));return!!(r!==n&&a!==o||r===0&&Bs(s,e,t)||n===0&&Bs(s,i,t)||a===0&&Bs(e,s,i)||o===0&&Bs(e,t,i))}function Bs(s,t,e){return t.x<=Math.max(s.x,e.x)&&t.x>=Math.min(s.x,e.x)&&t.y<=Math.max(s.y,e.y)&&t.y>=Math.min(s.y,e.y)}function Ds(s){return s>0?1:s<0?-1:0}function hf(s,t){let e=s;do{if(e.i!==s.i&&e.next.i!==s.i&&e.i!==t.i&&e.next.i!==t.i&&Eo(e,e.next,s,t))return!0;e=e.next}while(e!==s);return!1}function _s(s,t){return st(s.prev,s,s.next)<0?st(s,t,s.next)>=0&&st(s,s.prev,t)>=0:st(s,t,s.prev)<0||st(s,s.next,t)<0}function cf(s,t){let e=s,i=!1;const r=(s.x+t.x)/2,n=(s.y+t.y)/2;do e.y>n!=e.next.y>n&&e.next.y!==e.y&&r<(e.next.x-e.x)*(n-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==s);return i}function Io(s,t){const e=nr(s.i,s.x,s.y),i=nr(t.i,t.x,t.y),r=s.next,n=t.prev;return s.next=t,t.prev=s,e.next=r,r.prev=e,i.next=e,e.prev=i,n.next=i,i.prev=n,i}function wn(s,t,e,i){const r=nr(s,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function vs(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function nr(s,t,e){return{i:s,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function uf(s,t,e,i){let r=0;for(let n=t,a=e-i;n<e;n+=i)r+=(s[a]-s[n])*(s[n+1]+s[a+1]),a=n;return r}const df=bn.default||bn;var Ro=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(Ro||{});class ff{constructor(t){this.items=[],this._name=t}emit(t,e,i,r,n,a,o,l){const{name:h,items:c}=this;for(let u=0,f=c.length;u<f;u++)c[u][h](t,e,i,r,n,a,o,l);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&this.items.splice(e,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const pf=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Lo=class Bo extends ne{constructor(t){super(),this.tick=0,this.uid=at("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const e=[...pf,...this.config.runners??[]];this._addRunners(...e),this._unsafeEvalCheck()}async init(t={}){const e=t.skipExtensionImports===!0?!0:t.manageImports===!1;await qd(e),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const i in this._systemsHash)t={...this._systemsHash[i].constructor.defaultOptions,...t};t={...Bo.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let i=0;i<this.runners.init.items.length;i++)await this.runners.init.items[i].init(t);this._initOptions=t}render(t,e){this.tick++;let i=t;if(i instanceof de&&(i={container:i},e&&(Y(lt,"passing a second argument is deprecated, please use render options instead"),i.target=e.renderTexture)),i.target||(i.target=this.view.renderTarget),i.target===this.view.renderTarget&&(this._lastObjectRendered=i.container,i.clearColor??(i.clearColor=this.background.colorRgba),i.clear??(i.clear=this.background.clearBeforeRender)),i.clearColor){const r=Array.isArray(i.clearColor)&&i.clearColor.length===4;i.clearColor=r?i.clearColor:Bt.shared.setValue(i.clearColor).toArray()}i.transform||(i.container.updateLocalTransform(),i.transform=i.container.localTransform),i.container.visible&&(i.container.enableRenderGroup(),this.runners.prerender.emit(i),this.runners.renderStart.emit(i),this.runners.render.emit(i),this.runners.renderEnd.emit(i),this.runners.postrender.emit(i))}resize(t,e,i){const r=this.view.resolution;this.view.resize(t,e,i),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),i!==void 0&&i!==r&&this.runners.resolutionChange.emit(i)}clear(t={}){const e=this;t.target||(t.target=e.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Ro.ALL);const{clear:i,clearColor:r,target:n}=t;Bt.shared.setValue(r??this.background.colorRgba),e.renderTarget.clear(n,i,Bt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(e=>{this.runners[e]=new ff(e)})}_addSystems(t){let e;for(e in t){const i=t[e];this._addSystem(i.value,i.name)}}_addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const r in this.runners)this.runners[r].add(i);return this}_addPipes(t,e){const i=e.reduce((r,n)=>(r[n.name]=n.value,r),{});t.forEach(r=>{const n=r.value,a=r.name,o=i[a];this.renderPipes[a]=new n(this,o?new o:null),this.runners.destroy.add(this.renderPipes[a])})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),(t===!0||typeof t=="object"&&t.releaseGlobalResources)&&mi.release(),Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!Wd())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Lo.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Do=Lo,Fs;function mf(s){return Fs!==void 0||(Fs=(()=>{var e;const t={stencil:!0,failIfMajorPerformanceCaveat:s??Do.defaultOptions.failIfMajorPerformanceCaveat};try{if(!fe.get().getWebGLRenderingContext())return!1;let r=fe.get().createCanvas().getContext("webgl",t);const n=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,n}catch{return!1}})()),Fs}let Gs;async function gf(s={}){return Gs!==void 0||(Gs=await(async()=>{const t=fe.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),Gs}const Sn=["webgl","webgpu","canvas"];async function _f(s){let t=[];s.preference?(t.push(s.preference),Sn.forEach(n=>{n!==s.preference&&t.push(n)})):t=Sn.slice();let e,i={};for(let n=0;n<t.length;n++){const a=t[n];if(a==="webgpu"&&await gf()){const{WebGPURenderer:o}=await ti(async()=>{const{WebGPURenderer:l}=await import("./WebGPURenderer-CsnnvXxc.js");return{WebGPURenderer:l}},__vite__mapDeps([4,2,5,3]));e=o,i={...s,...s.webgpu};break}else if(a==="webgl"&&mf(s.failIfMajorPerformanceCaveat??Do.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:o}=await ti(async()=>{const{WebGLRenderer:l}=await import("./WebGLRenderer-CF0X7V64.js");return{WebGLRenderer:l}},__vite__mapDeps([6,2,5]));e=o,i={...s,...s.webgl};break}else if(a==="canvas")throw i={...s},new Error("CanvasRenderer is not yet implemented")}if(delete i.webgpu,delete i.webgl,!e)throw new Error("No available renderer for the current environment");const r=new e;return await r.init(i),r}const Fo="8.15.0";class Go{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,Fo)}static destroy(){}}Go.extension=$.Application;class vf{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,Fo)}destroy(){this._renderer=null}}vf.extension={type:[$.WebGLSystem,$.WebGPUSystem],name:"initHook",priority:-10};const jo=class ar{constructor(...t){this.stage=new de,t[0]!==void 0&&Y(lt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.stage||(this.stage=new de),this.renderer=await _f(t),ar._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Y(lt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,e=!1){const i=ar._plugins.slice(0);i.reverse(),i.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};jo._plugins=[];let Oo=jo;Ft.handleByList($.Application,Oo._plugins);Ft.add(Go);const Cn=[{offset:0,color:"white"},{offset:1,color:"black"}],Mr=class or{constructor(...t){this.uid=at("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let e=xf(t);e={...e.type==="radial"?or.defaultRadialOptions:or.defaultLinearOptions,...za(e)},this._textureSize=e.textureSize,this._wrapMode=e.wrapMode,e.type==="radial"?(this.center=e.center,this.outerCenter=e.outerCenter??this.center,this.innerRadius=e.innerRadius,this.outerRadius=e.outerRadius,this.scale=e.scale,this.rotation=e.rotation):(this.start=e.start,this.end=e.end),this.textureSpace=e.textureSpace,this.type=e.type,e.colorStops.forEach(r=>{this.addColorStop(r.offset,r.color)})}addColorStop(t,e){return this.colorStops.push({offset:t,color:Bt.shared.setValue(e).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:e}=this.start,{x:i,y:r}=this.end,n=i-t,a=r-e;const o=n<0||a<0;if(this._wrapMode==="clamp-to-edge"){if(n<0){const p=t;t=i,i=p,n*=-1}if(a<0){const p=e;e=r,r=p,a*=-1}}const l=this.colorStops.length?this.colorStops:Cn,h=this._textureSize,{canvas:c,context:u}=Pn(h,1),f=o?u.createLinearGradient(this._textureSize,0,0,0):u.createLinearGradient(0,0,this._textureSize,0);An(f,l),u.fillStyle=f,u.fillRect(0,0,h,1),this.texture=new X({source:new ei({resource:c,addressMode:this._wrapMode})});const d=Math.sqrt(n*n+a*a),m=Math.atan2(a,n),g=new U;g.scale(d/h,1),g.rotate(m),g.translate(t,e),this.textureSpace==="local"&&g.scale(h,h),this.transform=g}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Cn,e=this._textureSize,{canvas:i,context:r}=Pn(e,e),{x:n,y:a}=this.center,{x:o,y:l}=this.outerCenter,h=this.innerRadius,c=this.outerRadius,u=o-c,f=l-c,d=e/(c*2),m=(n-u)*d,g=(a-f)*d,p=r.createRadialGradient(m,g,h*d,(o-u)*d,(l-f)*d,c*d);An(p,t),r.fillStyle=t[t.length-1].color,r.fillRect(0,0,e,e),r.fillStyle=p,r.translate(m,g),r.rotate(this.rotation),r.scale(1,this.scale),r.translate(-m,-g),r.fillRect(0,0,e,e),this.texture=new X({source:new ei({resource:i,addressMode:this._wrapMode})});const v=new U;v.scale(1/d,1/d),v.translate(u,f),this.textureSpace==="local"&&v.scale(e,e),this.transform=v}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Mr.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Mr.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Cs=Mr;function An(s,t){for(let e=0;e<t.length;e++){const i=t[e];s.addColorStop(i.offset,i.color)}}function Pn(s,t){const e=fe.get().createCanvas(s,t),i=e.getContext("2d");return{canvas:e,context:i}}function xf(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(Y("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??Cs.defaultLinearOptions.textureSize}),t}const Tn={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class yf{constructor(t,e){this.uid=at("fillPattern"),this._tick=0,this.transform=new U,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=Tn[e].addressModeU,t.source.style.addressModeV=Tn[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._tick++}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Fi,Mn;function bf(){if(Mn)return Fi;Mn=1,Fi=e;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function e(n){var a=[];return n.replace(t,function(o,l,h){var c=l.toLowerCase();for(h=r(h),c=="m"&&h.length>2&&(a.push([l].concat(h.splice(0,2))),c="l",l=l=="m"?"l":"L");;){if(h.length==s[c])return h.unshift(l),a.push(h);if(h.length<s[c])throw new Error("malformed path data");a.push([l].concat(h.splice(0,s[c])))}}),a}var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function r(n){var a=n.match(i);return a?a.map(Number):[]}return Fi}var wf=bf();const Sf=ja(wf);function Cf(s,t){const e=Sf(s),i=[];let r=null,n=0,a=0;for(let o=0;o<e.length;o++){const l=e[o],h=l[0],c=l;switch(h){case"M":n=c[1],a=c[2],t.moveTo(n,a);break;case"m":n+=c[1],a+=c[2],t.moveTo(n,a);break;case"H":n=c[1],t.lineTo(n,a);break;case"h":n+=c[1],t.lineTo(n,a);break;case"V":a=c[1],t.lineTo(n,a);break;case"v":a+=c[1],t.lineTo(n,a);break;case"L":n=c[1],a=c[2],t.lineTo(n,a);break;case"l":n+=c[1],a+=c[2],t.lineTo(n,a);break;case"C":n=c[5],a=c[6],t.bezierCurveTo(c[1],c[2],c[3],c[4],n,a);break;case"c":t.bezierCurveTo(n+c[1],a+c[2],n+c[3],a+c[4],n+c[5],a+c[6]),n+=c[5],a+=c[6];break;case"S":n=c[3],a=c[4],t.bezierCurveToShort(c[1],c[2],n,a);break;case"s":t.bezierCurveToShort(n+c[1],a+c[2],n+c[3],a+c[4]),n+=c[3],a+=c[4];break;case"Q":n=c[3],a=c[4],t.quadraticCurveTo(c[1],c[2],n,a);break;case"q":t.quadraticCurveTo(n+c[1],a+c[2],n+c[3],a+c[4]),n+=c[3],a+=c[4];break;case"T":n=c[1],a=c[2],t.quadraticCurveToShort(n,a);break;case"t":n+=c[1],a+=c[2],t.quadraticCurveToShort(n,a);break;case"A":n=c[6],a=c[7],t.arcToSvg(c[1],c[2],c[3],c[4],c[5],n,a);break;case"a":n+=c[6],a+=c[7],t.arcToSvg(c[1],c[2],c[3],c[4],c[5],n,a);break;case"Z":case"z":t.closePath(),i.length>0&&(r=i.pop(),r?(n=r.startX,a=r.startY):(n=0,a=0)),r=null;break;default:kt(`Unknown SVG path command: ${h}`)}h!=="Z"&&h!=="z"&&r===null&&(r={startX:n,startY:a},i.push(r))}return t}class kr{constructor(t=0,e=0,i=0){this.type="circle",this.x=t,this.y=e,this.radius=i}clone(){return new kr(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let r=this.x-t,n=this.y-e;return r*=r,n*=n,r+n<=i}strokeContains(t,e,i,r=.5){if(this.radius===0)return!1;const n=this.x-t,a=this.y-e,o=this.radius,l=(1-r)*i,h=Math.sqrt(n*n+a*a);return h<=o+l&&h>o-(i-l)}getBounds(t){return t||(t=new ct),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Er{constructor(t=0,e=0,i=0,r=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=i,this.halfHeight=r}clone(){return new Er(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let i=(t-this.x)/this.halfWidth,r=(e-this.y)/this.halfHeight;return i*=i,r*=r,i+r<=1}strokeContains(t,e,i,r=.5){const{halfWidth:n,halfHeight:a}=this;if(n<=0||a<=0)return!1;const o=i*(1-r),l=i-o,h=n-l,c=a-l,u=n+o,f=a+o,d=t-this.x,m=e-this.y,g=d*d/(h*h)+m*m/(c*c),p=d*d/(u*u)+m*m/(f*f);return g>1&&p<=1}getBounds(t){return t||(t=new ct),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function Af(s,t,e,i,r,n){const a=s-e,o=t-i,l=r-e,h=n-i,c=a*l+o*h,u=l*l+h*h;let f=-1;u!==0&&(f=c/u);let d,m;f<0?(d=e,m=i):f>1?(d=r,m=n):(d=e+f*l,m=i+f*h);const g=s-d,p=t-m;return g*g+p*p}let Pf,Tf;class os{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const i=[];for(let r=0,n=e.length;r<n;r++)i.push(e[r].x,e[r].y);e=i}this.points=e,this.closePath=!0}isClockwise(){let t=0;const e=this.points,i=e.length;for(let r=0;r<i;r+=2){const n=e[r],a=e[r+1],o=e[(r+2)%i],l=e[(r+3)%i];t+=(o-n)*(l+a)}return t<0}containsPolygon(t){const e=this.getBounds(Pf),i=t.getBounds(Tf);if(!e.containsRect(i))return!1;const r=t.points;for(let n=0;n<r.length;n+=2){const a=r[n],o=r[n+1];if(!this.contains(a,o))return!1}return!0}clone(){const t=this.points.slice(),e=new os(t);return e.closePath=this.closePath,e}contains(t,e){let i=!1;const r=this.points.length/2;for(let n=0,a=r-1;n<r;a=n++){const o=this.points[n*2],l=this.points[n*2+1],h=this.points[a*2],c=this.points[a*2+1];l>e!=c>e&&t<(h-o)*((e-l)/(c-l))+o&&(i=!i)}return i}strokeContains(t,e,i,r=.5){const n=i*i,a=n*(1-r),o=n-a,{points:l}=this,h=l.length-(this.closePath?0:2);for(let c=0;c<h;c+=2){const u=l[c],f=l[c+1],d=l[(c+2)%l.length],m=l[(c+3)%l.length],g=Af(t,e,u,f,d,m),p=Math.sign((d-u)*(e-f)-(m-f)*(t-u));if(g<=(p<0?o:a))return!0}return!1}getBounds(t){t||(t=new ct);const e=this.points;let i=1/0,r=-1/0,n=1/0,a=-1/0;for(let o=0,l=e.length;o<l;o+=2){const h=e[o],c=e[o+1];i=h<i?h:i,r=h>r?h:r,n=c<n?c:n,a=c>a?c:a}return t.x=i,t.width=r-i,t.y=n,t.height=a-n,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Y("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Y("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const js=(s,t,e,i,r,n,a)=>{const o=s-e,l=t-i,h=Math.sqrt(o*o+l*l);return h>=r-n&&h<=r+a};class Ir{constructor(t=0,e=0,i=0,r=0,n=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n}getBounds(t){return t||(t=new ct),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Ir(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let r=t-(this.x+i),n=e-(this.y+i);const a=i*i;if(r*r+n*n<=a||(r=t-(this.x+this.width-i),r*r+n*n<=a)||(n=e-(this.y+this.height-i),r*r+n*n<=a)||(r=t-(this.x+i),r*r+n*n<=a))return!0}return!1}strokeContains(t,e,i,r=.5){const{x:n,y:a,width:o,height:l,radius:h}=this,c=i*(1-r),u=i-c,f=n+h,d=a+h,m=o-h*2,g=l-h*2,p=n+o,v=a+l;return(t>=n-c&&t<=n+u||t>=p-u&&t<=p+c)&&e>=d&&e<=d+g||(e>=a-c&&e<=a+u||e>=v-u&&e<=v+c)&&t>=f&&t<=f+m?!0:t<f&&e<d&&js(t,e,f,d,h,u,c)||t>p-h&&e<d&&js(t,e,p-h,d,h,u,c)||t>p-h&&e>v-h&&js(t,e,p-h,v-h,h,u,c)||t<f&&e>v-h&&js(t,e,f,v-h,h,u,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const No={};function Mf(s,t,e){let i=2166136261;for(let r=0;r<t;r++)i^=s[r].uid,i=Math.imul(i,16777619),i>>>=0;return No[i]||kf(s,t,i,e)}function kf(s,t,e,i){const r={};let n=0;for(let o=0;o<i;o++){const l=o<t?s[o]:X.EMPTY.source;r[n++]=l.source,r[n++]=l.style}const a=new Hs(r);return No[e]=a,a}class kn{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function En(s,t){const e=s.byteLength/8|0,i=new Float64Array(s,0,e);new Float64Array(t,0,e).set(i);const n=s.byteLength-e*8;if(n>0){const a=new Uint8Array(s,e*8,n);new Uint8Array(t,e*8,n).set(a)}}const Ef={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var If=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(If||{});function In(s,t){return t.alphaMode==="no-premultiply-alpha"&&Ef[s]||s}const Rf=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Lf(s){let t="";for(let e=0;e<s;++e)e>0&&(t+=`
else `),e<s-1&&(t+=`if(test == ${e}.0){}`);return t}function Bf(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const i=Rf.replace(/%forloop%/gi,Lf(s));if(t.shaderSource(e,i),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(e)}return s}let Be=null;function Df(){var t;if(Be)return Be;const s=bo();return Be=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),Be=Bf(Be,s),(t=s.getExtension("WEBGL_lose_context"))==null||t.loseContext(),Be}class Ff{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class Gf{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Ff,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const ls=[];let si=0;mi.register({clear:()=>{if(ls.length>0)for(const s of ls)s&&s.destroy();ls.length=0,si=0}});function Rn(){return si>0?ls[--si]:new Gf}function Ln(s){ls[si++]=s}let We=0;const zo=class Uo{constructor(t){this.uid=at("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...Uo.defaultOptions,...t},t.maxTextures||(Y("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=Df());const{maxTextures:e,attributesInitialSize:i,indicesInitialSize:r}=t;this.attributeBuffer=new kn(i*4),this.indexBuffer=new Uint16Array(r),this.maxTextures=e}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Ln(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const i=t._batch.textures.ids[e._source.uid];return!i&&i!==0?!1:(t._textureId=i,t.texture=e,!0)}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let i=Rn(),r=i.textures;r.clear();const n=e[this.elementStart];let a=In(n.blendMode,n.texture._source),o=n.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,h=this.attributeBuffer.uint32View,c=this.indexBuffer;let u=this._batchIndexSize,f=this._batchIndexStart,d="startBatch";const m=this.maxTextures;for(let g=this.elementStart;g<this.elementSize;++g){const p=e[g];e[g]=null;const x=p.texture._source,_=In(p.blendMode,x),y=a!==_||o!==p.topology;if(x._batchTick===We&&!y){p._textureId=x._textureBindLocation,u+=p.indexSize,p.packAsQuad?(this.packQuadAttributes(p,l,h,p._attributeStart,p._textureId),this.packQuadIndex(c,p._indexStart,p._attributeStart/this.vertexSize)):(this.packAttributes(p,l,h,p._attributeStart,p._textureId),this.packIndex(p,c,p._indexStart,p._attributeStart/this.vertexSize)),p._batch=i;continue}x._batchTick=We,(r.count>=m||y)&&(this._finishBatch(i,f,u-f,r,a,o,t,d),d="renderBatch",f=u,a=_,o=p.topology,i=Rn(),r=i.textures,r.clear(),++We),p._textureId=x._textureBindLocation=r.count,r.ids[x.uid]=r.count,r.textures[r.count++]=x,p._batch=i,u+=p.indexSize,p.packAsQuad?(this.packQuadAttributes(p,l,h,p._attributeStart,p._textureId),this.packQuadIndex(c,p._indexStart,p._attributeStart/this.vertexSize)):(this.packAttributes(p,l,h,p._attributeStart,p._textureId),this.packIndex(p,c,p._indexStart,p._attributeStart/this.vertexSize))}r.count>0&&(this._finishBatch(i,f,u-f,r,a,o,t,d),f=u,++We),this.elementStart=this.elementSize,this._batchIndexStart=f,this._batchIndexSize=u}_finishBatch(t,e,i,r,n,a,o,l){t.gpuBindGroup=null,t.bindGroup=null,t.action=l,t.batcher=this,t.textures=r,t.blendMode=n,t.topology=a,t.start=e,t.size=i,++We,this.batches[this.batchIndex++]=t,o.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,this.attributeBuffer.size*2),i=new kn(e);En(this.attributeBuffer.rawBinaryData,i.rawBinaryData),this.attributeBuffer=i}_resizeIndexBuffer(t){const e=this.indexBuffer;let i=Math.max(t,e.length*1.5);i+=i%2;const r=i>65535?new Uint32Array(i):new Uint16Array(i);if(r.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let n=0;n<e.length;n++)r[n]=e[n];else En(e.buffer,r.buffer);this.indexBuffer=r}packQuadIndex(t,e,i){t[e]=i+0,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+0,t[e+4]=i+2,t[e+5]=i+3}packIndex(t,e,i,r){const n=t.indices,a=t.indexSize,o=t.indexOffset,l=t.attributeOffset;for(let h=0;h<a;h++)e[i++]=r+n[h+o]-l}destroy(t={}){var e;if(this.batches!==null){for(let i=0;i<this.batchIndex;i++)Ln(this.batches[i]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,t.shader&&((e=this.shader)==null||e.destroy(),this.shader=null);for(let i=0;i<this._elements.length;i++)this._elements[i]&&(this._elements[i]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};zo.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let jf=zo;var bt=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(bt||{});class xs extends ne{constructor(t){let{data:e,size:i}=t;const{usage:r,label:n,shrinkToFit:a}=t;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=at("buffer"),this._resourceType="buffer",this._resourceId=at("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,i??(i=e==null?void 0:e.byteLength);const o=!!e;this.descriptor={size:i,usage:r,mappedAtCreation:o,label:n},this.shrinkToFit=a??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&bt.STATIC)}set static(t){t?this.descriptor.usage|=bt.STATIC:this.descriptor.usage&=~bt.STATIC}setDataWithSize(t,e,i){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t){i&&this.emit("update",this);return}const r=this._data;if(this._data=t,this._dataInt32=null,!r||r.length!==t.length){!this.shrinkToFit&&r&&t.byteLength<r.byteLength?i&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=at("resource"),this.emit("change",this));return}i&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Ho(s,t){if(!(s instanceof xs)){let e=t?bt.INDEX:bt.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),e=bt.INDEX|bt.COPY_DST):(s=new Float32Array(s),e=bt.VERTEX|bt.COPY_DST)),s=new xs({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:e})}return s}function Of(s,t,e){const i=s.getAttribute(t);if(!i)return e.minX=0,e.minY=0,e.maxX=0,e.maxY=0,e;const r=i.buffer.data;let n=1/0,a=1/0,o=-1/0,l=-1/0;const h=r.BYTES_PER_ELEMENT,c=(i.offset||0)/h,u=(i.stride||2*4)/h;for(let f=c;f<r.length;f+=u){const d=r[f],m=r[f+1];d>o&&(o=d),m>l&&(l=m),d<n&&(n=d),m<a&&(a=m)}return e.minX=n,e.minY=a,e.maxX=o,e.maxY=l,e}function Nf(s){return(s instanceof xs||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=Ho(s.buffer,!1),s}class zf extends ne{constructor(t={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=at("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Nt,this._boundsDirty=!0;const{attributes:e,indexBuffer:i,topology:r}=t;if(this.buffers=[],this.attributes={},e)for(const n in e)this.addAttribute(n,e[n]);this.instanceCount=t.instanceCount??1,i&&this.addIndex(i),this.topology=r||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}addAttribute(t,e){const i=Nf(e);this.buffers.indexOf(i.buffer)===-1&&(this.buffers.push(i.buffer),i.buffer.on("update",this.onBufferUpdate,this),i.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=i}addIndex(t){this.indexBuffer=Ho(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Of(this,"aPosition",this._bounds)):this._bounds}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null)}destroy(t=!1){var e;this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.unload(),(e=this.indexBuffer)==null||e.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Uf=new Float32Array(1),Hf=new Uint32Array(1);class Vf extends zf{constructor(){const e=new xs({data:Uf,label:"attribute-batch-buffer",usage:bt.VERTEX|bt.COPY_DST,shrinkToFit:!1}),i=new xs({data:Hf,label:"index-batch-buffer",usage:bt.INDEX|bt.COPY_DST,shrinkToFit:!1}),r=6*4;super({attributes:{aPosition:{buffer:e,format:"float32x2",stride:r,offset:0},aUV:{buffer:e,format:"float32x2",stride:r,offset:2*4},aColor:{buffer:e,format:"unorm8x4",stride:r,offset:4*4},aTextureIdAndRound:{buffer:e,format:"uint16x2",stride:r,offset:5*4}},indexBuffer:i})}}function Bn(s,t,e){if(s)for(const i in s){const r=i.toLocaleLowerCase(),n=t[r];if(n){let a=s[i];i==="header"&&(a=a.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),e&&n.push(`//----${e}----//`),n.push(a)}else kt(`${i} placement hook does not exist in shader`)}}const $f=/\{\{(.*?)\}\}/g;function Dn(s){var i;const t={};return(((i=s.match($f))==null?void 0:i.map(r=>r.replace(/[{()}]/g,"")))??[]).forEach(r=>{t[r]=[]}),t}function Fn(s,t){let e;const i=/@in\s+([^;]+);/g;for(;(e=i.exec(s))!==null;)t.push(e[1])}function Gn(s,t,e=!1){const i=[];Fn(t,i),s.forEach(o=>{o.header&&Fn(o.header,i)});const r=i;e&&r.sort();const n=r.map((o,l)=>`       @location(${l}) ${o},`).join(`
`);let a=t.replace(/@in\s+[^;]+;\s*/g,"");return a=a.replace("{{in}}",`
${n}
`),a}function jn(s,t){let e;const i=/@out\s+([^;]+);/g;for(;(e=i.exec(s))!==null;)t.push(e[1])}function Yf(s){const e=/\b(\w+)\s*:/g.exec(s);return e?e[1]:""}function qf(s){const t=/@.*?\s+/g;return s.replace(t,"")}function Wf(s,t){const e=[];jn(t,e),s.forEach(l=>{l.header&&jn(l.header,e)});let i=0;const r=e.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${i++}) ${l}`).join(`,
`),n=e.sort().map(l=>`       var ${qf(l)};`).join(`
`),a=`return VSOutput(
            ${e.sort().map(l=>` ${Yf(l)}`).join(`,
`)});`;let o=t.replace(/@out\s+[^;]+;\s*/g,"");return o=o.replace("{{struct}}",`
${r}
`),o=o.replace("{{start}}",`
${n}
`),o=o.replace("{{return}}",`
${a}
`),o}function On(s,t){let e=s;for(const i in t){const r=t[i];r.join(`
`).length?e=e.replace(`{{${i}}}`,`//-----${i} START-----//
${r.join(`
`)}
//----${i} FINISH----//`):e=e.replace(`{{${i}}}`,"")}return e}const he=Object.create(null),Gi=new Map;let Xf=0;function Jf({template:s,bits:t}){const e=Vo(s,t);if(he[e])return he[e];const{vertex:i,fragment:r}=Zf(s,t);return he[e]=$o(i,r,t),he[e]}function Kf({template:s,bits:t}){const e=Vo(s,t);return he[e]||(he[e]=$o(s.vertex,s.fragment,t)),he[e]}function Zf(s,t){const e=t.map(a=>a.vertex).filter(a=>!!a),i=t.map(a=>a.fragment).filter(a=>!!a);let r=Gn(e,s.vertex,!0);r=Wf(e,r);const n=Gn(i,s.fragment,!0);return{vertex:r,fragment:n}}function Vo(s,t){return t.map(e=>(Gi.has(e)||Gi.set(e,Xf++),Gi.get(e))).sort((e,i)=>e-i).join("-")+s.vertex+s.fragment}function $o(s,t,e){const i=Dn(s),r=Dn(t);return e.forEach(n=>{Bn(n.vertex,i,n.name),Bn(n.fragment,r,n.name)}),{vertex:On(s,i),fragment:On(t,r)}}const Qf=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,tp=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,ep=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,sp=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,ip={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},rp={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function np({bits:s,name:t}){const e=Jf({template:{fragment:tp,vertex:Qf},bits:[ip,...s]});return _i.from({name:t,vertex:{source:e.vertex,entryPoint:"main"},fragment:{source:e.fragment,entryPoint:"main"}})}function ap({bits:s,name:t}){return new So({name:t,...Kf({template:{vertex:ep,fragment:sp},bits:[rp,...s]})})}const op={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},lp={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},ji={};function hp(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let e=0;for(let i=0;i<s;i++)t.push(`@group(1) @binding(${e++}) var textureSource${i+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${e++}) var textureSampler${i+1}: sampler;`)}return t.join(`
`)}function cp(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let e=0;e<s;e++)e===s-1?t.push("  default:{"):t.push(`  case ${e}:{`),t.push(`      outColor = textureSampleGrad(textureSource${e+1}, textureSampler${e+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function up(s){return ji[s]||(ji[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${hp(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${cp(s)}
            `}}),ji[s]}const Oi={};function dp(s){const t=[];for(let e=0;e<s;e++)e>0&&t.push("else"),e<s-1&&t.push(`if(vTextureId < ${e}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${e}], vUV);`),t.push("}");return t.join(`
`)}function fp(s){return Oi[s]||(Oi[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${dp(s)}
            `}}),Oi[s]}const pp={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},mp={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Nn={};function gp(s){let t=Nn[s];if(t)return t;const e=new Int32Array(s);for(let i=0;i<s;i++)e[i]=i;return t=Nn[s]=new To({uTextures:{value:e,type:"i32",size:s}},{isStatic:!0}),t}class zn extends Tr{constructor(t){const e=ap({name:"batch",bits:[lp,fp(t),mp]}),i=np({name:"batch",bits:[op,up(t),pp]});super({glProgram:e,gpuProgram:i,resources:{batchSamplers:gp(t)}}),this.maxTextures=t}}let Xe=null;const Yo=class qo extends jf{constructor(t){super(t),this.geometry=new Vf,this.name=qo.extension.name,this.vertexSize=6,Xe??(Xe=new zn(t.maxTextures)),this.shader=Xe}packAttributes(t,e,i,r,n){const a=n<<16|t.roundPixels&65535,o=t.transform,l=o.a,h=o.b,c=o.c,u=o.d,f=o.tx,d=o.ty,{positions:m,uvs:g}=t,p=t.color,v=t.attributeOffset,x=v+t.attributeSize;for(let _=v;_<x;_++){const y=_*2,S=m[y],C=m[y+1];e[r++]=l*S+c*C+f,e[r++]=u*C+h*S+d,e[r++]=g[y],e[r++]=g[y+1],i[r++]=p,i[r++]=a}}packQuadAttributes(t,e,i,r,n){const a=t.texture,o=t.transform,l=o.a,h=o.b,c=o.c,u=o.d,f=o.tx,d=o.ty,m=t.bounds,g=m.maxX,p=m.minX,v=m.maxY,x=m.minY,_=a.uvs,y=t.color,S=n<<16|t.roundPixels&65535;e[r+0]=l*p+c*x+f,e[r+1]=u*x+h*p+d,e[r+2]=_.x0,e[r+3]=_.y0,i[r+4]=y,i[r+5]=S,e[r+6]=l*g+c*x+f,e[r+7]=u*x+h*g+d,e[r+8]=_.x1,e[r+9]=_.y1,i[r+10]=y,i[r+11]=S,e[r+12]=l*g+c*v+f,e[r+13]=u*v+h*g+d,e[r+14]=_.x2,e[r+15]=_.y2,i[r+16]=y,i[r+17]=S,e[r+18]=l*p+c*v+f,e[r+19]=u*v+h*p+d,e[r+20]=_.x3,e[r+21]=_.y3,i[r+22]=y,i[r+23]=S}_updateMaxTextures(t){this.shader.maxTextures!==t&&(Xe=new zn(t),this.shader=Xe)}destroy(){this.shader=null,super.destroy()}};Yo.extension={type:[$.Batcher],name:"default"};let _p=Yo;class vp{constructor(t){this.items=Object.create(null);const{renderer:e,type:i,onUnload:r,priority:n,name:a}=t;this._renderer=e,e.gc.addResourceHash(this,"items",i,n??0),this._onUnload=r,this.name=a}add(t){return this.items[t.uid]?!1:(this.items[t.uid]=t,t.once("unload",this.remove,this),t._gcLastUsed=this._renderer.gc.now,!0)}remove(t,...e){var r;if(!this.items[t.uid])return;const i=t._gpuData[this._renderer.uid];i&&((r=this._onUnload)==null||r.call(this,t,...e),i.destroy(),t._gpuData[this._renderer.uid]=null,this.items[t.uid]=null)}removeAll(...t){Object.values(this.items).forEach(e=>e&&this.remove(e,...t))}destroy(...t){this.removeAll(...t),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function xp(s,t,e,i,r,n,a,o=null){let l=0;e*=t,r*=n;const h=o.a,c=o.b,u=o.c,f=o.d,d=o.tx,m=o.ty;for(;l<a;){const g=s[e],p=s[e+1];i[r]=h*g+u*p+d,i[r+1]=c*g+f*p+m,r+=n,e+=t,l++}}function yp(s,t,e,i){let r=0;for(t*=e;r<i;)s[t]=0,s[t+1]=0,t+=e,r++}function Wo(s,t,e,i,r){const n=t.a,a=t.b,o=t.c,l=t.d,h=t.tx,c=t.ty;e||(e=0),i||(i=2),r||(r=s.length/i-e);let u=e*i;for(let f=0;f<r;f++){const d=s[u],m=s[u+1];s[u]=n*d+o*m+h,s[u+1]=a*d+l*m+c,u+=i}}const bp=new U;class Xo{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,e=t>>16|t&65280|(t&255)<<16,i=this.renderable;return i?Za(e,i.groupColor)+(this.alpha*i.groupAlpha*255<<24):e+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||bp}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const ys={extension:{type:$.ShapeBuilder,name:"circle"},build(s,t){let e,i,r,n,a,o;if(s.type==="circle"){const y=s;if(a=o=y.radius,a<=0)return!1;e=y.x,i=y.y,r=n=0}else if(s.type==="ellipse"){const y=s;if(a=y.halfWidth,o=y.halfHeight,a<=0||o<=0)return!1;e=y.x,i=y.y,r=n=0}else{const y=s,S=y.width/2,C=y.height/2;e=y.x+S,i=y.y+C,a=o=Math.max(0,Math.min(y.radius,Math.min(S,C))),r=S-a,n=C-o}if(r<0||n<0)return!1;const l=Math.ceil(2.3*Math.sqrt(a+o)),h=l*8+(r?4:0)+(n?4:0);if(h===0)return!1;if(l===0)return t[0]=t[6]=e+r,t[1]=t[3]=i+n,t[2]=t[4]=e-r,t[5]=t[7]=i-n,!0;let c=0,u=l*4+(r?2:0)+2,f=u,d=h,m=r+a,g=n,p=e+m,v=e-m,x=i+g;if(t[c++]=p,t[c++]=x,t[--u]=x,t[--u]=v,n){const y=i-g;t[f++]=v,t[f++]=y,t[--d]=y,t[--d]=p}for(let y=1;y<l;y++){const S=Math.PI/2*(y/l),C=r+Math.cos(S)*a,w=n+Math.sin(S)*o,I=e+C,R=e-C,M=i+w,E=i-w;t[c++]=I,t[c++]=M,t[--u]=M,t[--u]=R,t[f++]=R,t[f++]=E,t[--d]=E,t[--d]=I}m=r,g=n+o,p=e+m,v=e-m,x=i+g;const _=i-g;return t[c++]=p,t[c++]=x,t[--d]=_,t[--d]=p,r&&(t[c++]=v,t[c++]=x,t[--d]=_,t[--d]=v),!0},triangulate(s,t,e,i,r,n){if(s.length===0)return;let a=0,o=0;for(let c=0;c<s.length;c+=2)a+=s[c],o+=s[c+1];a/=s.length/2,o/=s.length/2;let l=i;t[l*e]=a,t[l*e+1]=o;const h=l++;for(let c=0;c<s.length;c+=2)t[l*e]=s[c],t[l*e+1]=s[c+1],c>0&&(r[n++]=l,r[n++]=h,r[n++]=l-1),l++;r[n++]=h+1,r[n++]=h,r[n++]=l-1}},wp={...ys,extension:{...ys.extension,name:"ellipse"}},Sp={...ys,extension:{...ys.extension,name:"roundedRectangle"}},Jo=1e-4,Un=1e-4;function Cp(s){const t=s.length;if(t<6)return 1;let e=0;for(let i=0,r=s[t-2],n=s[t-1];i<t;i+=2){const a=s[i],o=s[i+1];e+=(a-r)*(o+n),r=a,n=o}return e<0?-1:1}function Hn(s,t,e,i,r,n,a,o){const l=s-e*r,h=t-i*r,c=s+e*n,u=t+i*n;let f,d;a?(f=i,d=-e):(f=-i,d=e);const m=l+f,g=h+d,p=c+f,v=u+d;return o.push(m,g),o.push(p,v),2}function ge(s,t,e,i,r,n,a,o){const l=e-s,h=i-t;let c=Math.atan2(l,h),u=Math.atan2(r-s,n-t);o&&c<u?c+=Math.PI*2:!o&&c>u&&(u+=Math.PI*2);let f=c;const d=u-c,m=Math.abs(d),g=Math.sqrt(l*l+h*h),p=(15*m*Math.sqrt(g)/Math.PI>>0)+1,v=d/p;if(f+=v,o){a.push(s,t),a.push(e,i);for(let x=1,_=f;x<p;x++,_+=v)a.push(s,t),a.push(s+Math.sin(_)*g,t+Math.cos(_)*g);a.push(s,t),a.push(r,n)}else{a.push(e,i),a.push(s,t);for(let x=1,_=f;x<p;x++,_+=v)a.push(s+Math.sin(_)*g,t+Math.cos(_)*g),a.push(s,t);a.push(r,n),a.push(s,t)}return p*2}function Ap(s,t,e,i,r,n){const a=Jo;if(s.length===0)return;const o=t;let l=o.alignment;if(t.alignment!==.5){let D=Cp(s);l=(l-.5)*D+.5}const h=new gt(s[0],s[1]),c=new gt(s[s.length-2],s[s.length-1]),u=i,f=Math.abs(h.x-c.x)<a&&Math.abs(h.y-c.y)<a;if(u){s=s.slice(),f&&(s.pop(),s.pop(),c.set(s[s.length-2],s[s.length-1]));const D=(h.x+c.x)*.5,Q=(c.y+h.y)*.5;s.unshift(D,Q),s.push(D,Q)}const d=r,m=s.length/2;let g=s.length;const p=d.length/2,v=o.width/2,x=v*v,_=o.miterLimit*o.miterLimit;let y=s[0],S=s[1],C=s[2],w=s[3],I=0,R=0,M=-(S-w),E=y-C,F=0,O=0,z=Math.sqrt(M*M+E*E);M/=z,E/=z,M*=v,E*=v;const j=l,P=(1-j)*2,L=j*2;u||(o.cap==="round"?g+=ge(y-M*(P-L)*.5,S-E*(P-L)*.5,y-M*P,S-E*P,y+M*L,S+E*L,d,!0)+2:o.cap==="square"&&(g+=Hn(y,S,M,E,P,L,!0,d))),d.push(y-M*P,S-E*P),d.push(y+M*L,S+E*L);for(let D=1;D<m-1;++D){y=s[(D-1)*2],S=s[(D-1)*2+1],C=s[D*2],w=s[D*2+1],I=s[(D+1)*2],R=s[(D+1)*2+1],M=-(S-w),E=y-C,z=Math.sqrt(M*M+E*E),M/=z,E/=z,M*=v,E*=v,F=-(w-R),O=C-I,z=Math.sqrt(F*F+O*O),F/=z,O/=z,F*=v,O*=v;const Q=C-y,ut=S-w,ot=C-I,nt=R-w,pt=Q*ot+ut*nt,k=ut*ot-nt*Q,V=k<0;if(Math.abs(k)<.001*Math.abs(pt)){d.push(C-M*P,w-E*P),d.push(C+M*L,w+E*L),pt>=0&&(o.join==="round"?g+=ge(C,w,C-M*P,w-E*P,C-F*P,w-O*P,d,!1)+4:g+=2,d.push(C-F*L,w-O*L),d.push(C+F*P,w+O*P));continue}const ae=(-M+y)*(-E+w)-(-M+C)*(-E+S),ke=(-F+I)*(-O+w)-(-F+C)*(-O+R),Ee=(Q*ke-ot*ae)/k,Ie=(nt*ae-ut*ke)/k,Vt=(Ee-C)*(Ee-C)+(Ie-w)*(Ie-w),Ct=C+(Ee-C)*P,Qt=w+(Ie-w)*P,pe=C-(Ee-C)*L,me=w-(Ie-w)*L,il=Math.min(Q*Q+ut*ut,ot*ot+nt*nt),Br=V?P:L,rl=il+Br*Br*x;Vt<=rl?o.join==="bevel"||Vt/x>_?(V?(d.push(Ct,Qt),d.push(C+M*L,w+E*L),d.push(Ct,Qt),d.push(C+F*L,w+O*L)):(d.push(C-M*P,w-E*P),d.push(pe,me),d.push(C-F*P,w-O*P),d.push(pe,me)),g+=2):o.join==="round"?V?(d.push(Ct,Qt),d.push(C+M*L,w+E*L),g+=ge(C,w,C+M*L,w+E*L,C+F*L,w+O*L,d,!0)+4,d.push(Ct,Qt),d.push(C+F*L,w+O*L)):(d.push(C-M*P,w-E*P),d.push(pe,me),g+=ge(C,w,C-M*P,w-E*P,C-F*P,w-O*P,d,!1)+4,d.push(C-F*P,w-O*P),d.push(pe,me)):(d.push(Ct,Qt),d.push(pe,me)):(d.push(C-M*P,w-E*P),d.push(C+M*L,w+E*L),o.join==="round"?V?g+=ge(C,w,C+M*L,w+E*L,C+F*L,w+O*L,d,!0)+2:g+=ge(C,w,C-M*P,w-E*P,C-F*P,w-O*P,d,!1)+2:o.join==="miter"&&Vt/x<=_&&(V?(d.push(pe,me),d.push(pe,me)):(d.push(Ct,Qt),d.push(Ct,Qt)),g+=2),d.push(C-F*P,w-O*P),d.push(C+F*L,w+O*L),g+=2)}y=s[(m-2)*2],S=s[(m-2)*2+1],C=s[(m-1)*2],w=s[(m-1)*2+1],M=-(S-w),E=y-C,z=Math.sqrt(M*M+E*E),M/=z,E/=z,M*=v,E*=v,d.push(C-M*P,w-E*P),d.push(C+M*L,w+E*L),u||(o.cap==="round"?g+=ge(C-M*(P-L)*.5,w-E*(P-L)*.5,C-M*P,w-E*P,C+M*L,w+E*L,d,!1)+2:o.cap==="square"&&(g+=Hn(C,w,M,E,P,L,!1,d)));const Z=Un*Un;for(let D=p;D<g+p-2;++D)y=d[D*2],S=d[D*2+1],C=d[(D+1)*2],w=d[(D+1)*2+1],I=d[(D+2)*2],R=d[(D+2)*2+1],!(Math.abs(y*(w-R)+C*(R-S)+I*(S-w))<Z)&&n.push(D,D+1,D+2)}function Pp(s,t,e,i){const r=Jo;if(s.length===0)return;const n=s[0],a=s[1],o=s[s.length-2],l=s[s.length-1],h=t||Math.abs(n-o)<r&&Math.abs(a-l)<r,c=e,u=s.length/2,f=c.length/2;for(let d=0;d<u;d++)c.push(s[d*2]),c.push(s[d*2+1]);for(let d=0;d<u-1;d++)i.push(f+d,f+d+1);h&&i.push(f+u-1,f)}function Ko(s,t,e,i,r,n,a){const o=df(s,t,2);if(!o)return;for(let h=0;h<o.length;h+=3)n[a++]=o[h]+r,n[a++]=o[h+1]+r,n[a++]=o[h+2]+r;let l=r*i;for(let h=0;h<s.length;h+=2)e[l]=s[h],e[l+1]=s[h+1],l+=i}const Tp=[],Mp={extension:{type:$.ShapeBuilder,name:"polygon"},build(s,t){for(let e=0;e<s.points.length;e++)t[e]=s.points[e];return!0},triangulate(s,t,e,i,r,n){Ko(s,Tp,t,e,i,r,n)}},kp={extension:{type:$.ShapeBuilder,name:"rectangle"},build(s,t){const e=s,i=e.x,r=e.y,n=e.width,a=e.height;return n>0&&a>0?(t[0]=i,t[1]=r,t[2]=i+n,t[3]=r,t[4]=i+n,t[5]=r+a,t[6]=i,t[7]=r+a,!0):!1},triangulate(s,t,e,i,r,n){let a=0;i*=e,t[i+a]=s[0],t[i+a+1]=s[1],a+=e,t[i+a]=s[2],t[i+a+1]=s[3],a+=e,t[i+a]=s[6],t[i+a+1]=s[7],a+=e,t[i+a]=s[4],t[i+a+1]=s[5],a+=e;const o=i/e;r[n++]=o,r[n++]=o+1,r[n++]=o+2,r[n++]=o+1,r[n++]=o+3,r[n++]=o+2}},Ep={extension:{type:$.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,!0},triangulate(s,t,e,i,r,n){let a=0;i*=e,t[i+a]=s[0],t[i+a+1]=s[1],a+=e,t[i+a]=s[2],t[i+a+1]=s[3],a+=e,t[i+a]=s[4],t[i+a+1]=s[5];const o=i/e;r[n++]=o,r[n++]=o+1,r[n++]=o+2}},Ip=new U,Rp=new ct;function Lp(s,t,e,i){const r=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const a=e.getBounds(Rp);t.width&&a.pad(t.width);const{x:o,y:l}=a,h=1/a.width,c=1/a.height,u=-o*h,f=-l*c,d=r.a,m=r.b,g=r.c,p=r.d;r.a*=h,r.b*=h,r.c*=c,r.d*=c,r.tx=u*d+f*g+r.tx,r.ty=u*m+f*p+r.ty}else r.translate(t.texture.frame.x,t.texture.frame.y),r.scale(1/t.texture.source.width,1/t.texture.source.height);const n=t.texture.source.style;return!(t.fill instanceof Cs)&&n.addressMode==="clamp-to-edge"&&(n.addressMode="repeat",n.update()),i&&r.append(Ip.copyFrom(i).invert()),r}const vi={};Ft.handleByMap($.ShapeBuilder,vi);Ft.add(kp,Mp,Ep,ys,wp,Sp);const Bp=new ct,Dp=new U;function Fp(s,t){const{geometryData:e,batches:i}=t;i.length=0,e.indices.length=0,e.vertices.length=0,e.uvs.length=0;for(let r=0;r<s.instructions.length;r++){const n=s.instructions[r];if(n.action==="texture")Gp(n.data,i,e);else if(n.action==="fill"||n.action==="stroke"){const a=n.action==="stroke",o=n.data.path.shapePath,l=n.data.style,h=n.data.hole;a&&h&&Vn(h.shapePath,l,!0,i,e),h&&(o.shapePrimitives[o.shapePrimitives.length-1].holes=h.shapePath.shapePrimitives),Vn(o,l,a,i,e)}}}function Gp(s,t,e){const i=[],r=vi.rectangle,n=Bp;n.x=s.dx,n.y=s.dy,n.width=s.dw,n.height=s.dh;const a=s.transform;if(!r.build(n,i))return;const{vertices:o,uvs:l,indices:h}=e,c=h.length,u=o.length/2;a&&Wo(i,a),r.triangulate(i,o,2,u,h,c);const f=s.image,d=f.uvs;l.push(d.x0,d.y0,d.x1,d.y1,d.x3,d.y3,d.x2,d.y2);const m=Dt.get(Xo);m.indexOffset=c,m.indexSize=h.length-c,m.attributeOffset=u,m.attributeSize=o.length/2-u,m.baseColor=s.style,m.alpha=s.alpha,m.texture=f,m.geometryData=e,t.push(m)}function Vn(s,t,e,i,r){const{vertices:n,uvs:a,indices:o}=r;s.shapePrimitives.forEach(({shape:l,transform:h,holes:c})=>{const u=[],f=vi[l.type];if(!f.build(l,u))return;const d=o.length,m=n.length/2;let g="triangle-list";if(h&&Wo(u,h),e){const _=l.closePath??!0,y=t;y.pixelLine?(Pp(u,_,n,o),g="line-list"):Ap(u,y,!1,_,n,o)}else if(c){const _=[],y=u.slice();jp(c).forEach(C=>{_.push(y.length/2),y.push(...C)}),Ko(y,_,n,2,m,o,d)}else f.triangulate(u,n,2,m,o,d);const p=a.length/2,v=t.texture;if(v!==X.WHITE){const _=Lp(Dp,t,l,h);xp(n,2,m,a,p,2,n.length/2-m,_)}else yp(a,p,2,n.length/2-m);const x=Dt.get(Xo);x.indexOffset=d,x.indexSize=o.length-d,x.attributeOffset=m,x.attributeSize=n.length/2-m,x.baseColor=t.color,x.alpha=t.alpha,x.texture=v,x.geometryData=r,x.topology=g,i.push(x)})}function jp(s){const t=[];for(let e=0;e<s.length;e++){const i=s[e].shape,r=[];vi[i.type].build(i,r)&&t.push(r)}return t}class Op{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(t=>{Dt.return(t)}),this.graphicsData&&Dt.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class Np{constructor(){this.instructions=new so}init(t){const e=t.maxTextures;this.batcher?this.batcher._updateMaxTextures(e):this.batcher=new _p({maxTextures:e}),this.instructions.reset()}get geometry(){return Y(Bu,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const Rr=class lr{constructor(t){this._renderer=t,this._managedContexts=new vp({renderer:t,type:"resource",name:"graphicsContext"})}init(t){lr.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??lr.defaultOptions.bezierSmoothness}getContextRenderData(t){return t._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(t)}updateGpuContext(t){const e=!!t._gpuData[this._renderer.uid],i=t._gpuData[this._renderer.uid]||this._initContext(t);if(t.dirty||!e){e&&i.reset(),Fp(t,i);const r=t.batchMode;t.customShader||r==="no-batch"?i.isBatchable=!1:r==="auto"?i.isBatchable=i.geometryData.vertices.length<400:i.isBatchable=!0,t.dirty=!1}return i}getGpuContext(t){return t._gpuData[this._renderer.uid]||this._initContext(t)}_initContextRenderData(t){const e=Dt.get(Np,{maxTextures:this._renderer.limits.maxBatchableTextures}),i=t._gpuData[this._renderer.uid],{batches:r,geometryData:n}=i;i.graphicsData=e;const a=n.vertices.length,o=n.indices.length;for(let u=0;u<r.length;u++)r[u].applyTransform=!1;const l=e.batcher;l.ensureAttributeBuffer(a),l.ensureIndexBuffer(o),l.begin();for(let u=0;u<r.length;u++){const f=r[u];l.add(f)}l.finish(e.instructions);const h=l.geometry;h.indexBuffer.setDataWithSize(l.indexBuffer,l.indexSize,!0),h.buffers[0].setDataWithSize(l.attributeBuffer.float32View,l.attributeSize,!0);const c=l.batches;for(let u=0;u<c.length;u++){const f=c[u];f.bindGroup=Mf(f.textures.textures,f.textures.count,this._renderer.limits.maxBatchableTextures)}return e}_initContext(t){const e=new Op;return e.context=t,t._gpuData[this._renderer.uid]=e,this._managedContexts.add(t),e}destroy(){this._managedContexts.destroy(),this._renderer=null}};Rr.extension={type:[$.WebGLSystem,$.WebGPUSystem,$.CanvasSystem],name:"graphicsContext"};Rr.defaultOptions={bezierSmoothness:.5};let Zo=Rr;const zp=8,Os=11920929e-14,Up=1;function Qo(s,t,e,i,r,n,a,o,l,h){const u=Math.min(.99,Math.max(0,h??Zo.defaultOptions.bezierSmoothness));let f=(Up-u)/1;return f*=f,Hp(t,e,i,r,n,a,o,l,s,f),s}function Hp(s,t,e,i,r,n,a,o,l,h){hr(s,t,e,i,r,n,a,o,l,h,0),l.push(a,o)}function hr(s,t,e,i,r,n,a,o,l,h,c){if(c>zp)return;const u=(s+e)/2,f=(t+i)/2,d=(e+r)/2,m=(i+n)/2,g=(r+a)/2,p=(n+o)/2,v=(u+d)/2,x=(f+m)/2,_=(d+g)/2,y=(m+p)/2,S=(v+_)/2,C=(x+y)/2;if(c>0){let w=a-s,I=o-t;const R=Math.abs((e-a)*I-(i-o)*w),M=Math.abs((r-a)*I-(n-o)*w);if(R>Os&&M>Os){if((R+M)*(R+M)<=h*(w*w+I*I)){l.push(S,C);return}}else if(R>Os){if(R*R<=h*(w*w+I*I)){l.push(S,C);return}}else if(M>Os){if(M*M<=h*(w*w+I*I)){l.push(S,C);return}}else if(w=S-(s+a)/2,I=C-(t+o)/2,w*w+I*I<=h){l.push(S,C);return}}hr(s,t,u,f,v,x,S,C,l,h,c+1),hr(S,C,_,y,g,p,a,o,l,h,c+1)}const Vp=8,$p=11920929e-14,Yp=1;function qp(s,t,e,i,r,n,a,o){const h=Math.min(.99,Math.max(0,o??Zo.defaultOptions.bezierSmoothness));let c=(Yp-h)/1;return c*=c,Wp(t,e,i,r,n,a,s,c),s}function Wp(s,t,e,i,r,n,a,o){cr(a,s,t,e,i,r,n,o,0),a.push(r,n)}function cr(s,t,e,i,r,n,a,o,l){if(l>Vp)return;const h=(t+i)/2,c=(e+r)/2,u=(i+n)/2,f=(r+a)/2,d=(h+u)/2,m=(c+f)/2;let g=n-t,p=a-e;const v=Math.abs((i-n)*p-(r-a)*g);if(v>$p){if(v*v<=o*(g*g+p*p)){s.push(d,m);return}}else if(g=d-(t+n)/2,p=m-(e+a)/2,g*g+p*p<=o){s.push(d,m);return}cr(s,t,e,h,c,d,m,o,l+1),cr(s,d,m,u,f,n,a,o,l+1)}function tl(s,t,e,i,r,n,a,o){let l=Math.abs(r-n);(!a&&r>n||a&&n>r)&&(l=2*Math.PI-l),o||(o=Math.max(6,Math.floor(6*Math.pow(i,1/3)*(l/Math.PI)))),o=Math.max(o,3);let h=l/o,c=r;h*=a?-1:1;for(let u=0;u<o+1;u++){const f=Math.cos(c),d=Math.sin(c),m=t+f*i,g=e+d*i;s.push(m,g),c+=h}}function Xp(s,t,e,i,r,n){const a=s[s.length-2],l=s[s.length-1]-e,h=a-t,c=r-e,u=i-t,f=Math.abs(l*u-h*c);if(f<1e-8||n===0){(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e);return}const d=l*l+h*h,m=c*c+u*u,g=l*c+h*u,p=n*Math.sqrt(d)/f,v=n*Math.sqrt(m)/f,x=p*g/d,_=v*g/m,y=p*u+v*h,S=p*c+v*l,C=h*(v+x),w=l*(v+x),I=u*(p+_),R=c*(p+_),M=Math.atan2(w-S,C-y),E=Math.atan2(R-S,I-y);tl(s,y+t,S+e,n,M,E,h*c>u*l)}const hs=Math.PI*2,Ni={centerX:0,centerY:0,ang1:0,ang2:0},zi=({x:s,y:t},e,i,r,n,a,o,l)=>{s*=e,t*=i;const h=r*s-n*t,c=n*s+r*t;return l.x=h+a,l.y=c+o,l};function Jp(s,t){const e=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),i=t===1.5707963267948966?.551915024494:e,r=Math.cos(s),n=Math.sin(s),a=Math.cos(s+t),o=Math.sin(s+t);return[{x:r-n*i,y:n+r*i},{x:a+o*i,y:o-a*i},{x:a,y:o}]}const $n=(s,t,e,i)=>{const r=s*i-t*e<0?-1:1;let n=s*e+t*i;return n>1&&(n=1),n<-1&&(n=-1),r*Math.acos(n)},Kp=(s,t,e,i,r,n,a,o,l,h,c,u,f)=>{const d=Math.pow(r,2),m=Math.pow(n,2),g=Math.pow(c,2),p=Math.pow(u,2);let v=d*m-d*p-m*g;v<0&&(v=0),v/=d*p+m*g,v=Math.sqrt(v)*(a===o?-1:1);const x=v*r/n*u,_=v*-n/r*c,y=h*x-l*_+(s+e)/2,S=l*x+h*_+(t+i)/2,C=(c-x)/r,w=(u-_)/n,I=(-c-x)/r,R=(-u-_)/n,M=$n(1,0,C,w);let E=$n(C,w,I,R);o===0&&E>0&&(E-=hs),o===1&&E<0&&(E+=hs),f.centerX=y,f.centerY=S,f.ang1=M,f.ang2=E};function Zp(s,t,e,i,r,n,a,o=0,l=0,h=0){if(n===0||a===0)return;const c=Math.sin(o*hs/360),u=Math.cos(o*hs/360),f=u*(t-i)/2+c*(e-r)/2,d=-c*(t-i)/2+u*(e-r)/2;if(f===0&&d===0)return;n=Math.abs(n),a=Math.abs(a);const m=Math.pow(f,2)/Math.pow(n,2)+Math.pow(d,2)/Math.pow(a,2);m>1&&(n*=Math.sqrt(m),a*=Math.sqrt(m)),Kp(t,e,i,r,n,a,l,h,c,u,f,d,Ni);let{ang1:g,ang2:p}=Ni;const{centerX:v,centerY:x}=Ni;let _=Math.abs(p)/(hs/4);Math.abs(1-_)<1e-7&&(_=1);const y=Math.max(Math.ceil(_),1);p/=y;let S=s[s.length-2],C=s[s.length-1];const w={x:0,y:0};for(let I=0;I<y;I++){const R=Jp(g,p),{x:M,y:E}=zi(R[0],n,a,u,c,v,x,w),{x:F,y:O}=zi(R[1],n,a,u,c,v,x,w),{x:z,y:j}=zi(R[2],n,a,u,c,v,x,w);Qo(s,S,C,M,E,F,O,z,j),S=z,C=j,g+=p}}function Qp(s,t,e){const i=(a,o)=>{const l=o.x-a.x,h=o.y-a.y,c=Math.sqrt(l*l+h*h),u=l/c,f=h/c;return{len:c,nx:u,ny:f}},r=(a,o)=>{a===0?s.moveTo(o.x,o.y):s.lineTo(o.x,o.y)};let n=t[t.length-1];for(let a=0;a<t.length;a++){const o=t[a%t.length],l=o.radius??e;if(l<=0){r(a,o),n=o;continue}const h=t[(a+1)%t.length],c=i(o,n),u=i(o,h);if(c.len<1e-4||u.len<1e-4){r(a,o),n=o;continue}let f=Math.asin(c.nx*u.ny-c.ny*u.nx),d=1,m=!1;c.nx*u.nx-c.ny*-u.ny<0?f<0?f=Math.PI+f:(f=Math.PI-f,d=-1,m=!0):f>0&&(d=-1,m=!0);const g=f/2;let p,v=Math.abs(Math.cos(g)*l/Math.sin(g));v>Math.min(c.len/2,u.len/2)?(v=Math.min(c.len/2,u.len/2),p=Math.abs(v*Math.sin(g)/Math.cos(g))):p=l;const x=o.x+u.nx*v+-u.ny*p*d,_=o.y+u.ny*v+u.nx*p*d,y=Math.atan2(c.ny,c.nx)+Math.PI/2*d,S=Math.atan2(u.ny,u.nx)-Math.PI/2*d;a===0&&s.moveTo(x+Math.cos(y)*p,_+Math.sin(y)*p),s.arc(x,_,p,y,S,m),n=o}}function tm(s,t,e,i){const r=(o,l)=>Math.sqrt((o.x-l.x)**2+(o.y-l.y)**2),n=(o,l,h)=>({x:o.x+(l.x-o.x)*h,y:o.y+(l.y-o.y)*h}),a=t.length;for(let o=0;o<a;o++){const l=t[(o+1)%a],h=l.radius??e;if(h<=0){o===0?s.moveTo(l.x,l.y):s.lineTo(l.x,l.y);continue}const c=t[o],u=t[(o+2)%a],f=r(c,l);let d;if(f<1e-4)d=l;else{const p=Math.min(f/2,h);d=n(l,c,p/f)}const m=r(u,l);let g;if(m<1e-4)g=l;else{const p=Math.min(m/2,h);g=n(l,u,p/m)}o===0?s.moveTo(d.x,d.y):s.lineTo(d.x,d.y),s.quadraticCurveTo(l.x,l.y,g.x,g.y,i)}}const em=new ct;class sm{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Nt,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const i=this._currentPoly.points,r=i[i.length-2],n=i[i.length-1];return(r!==t||n!==e)&&i.push(t,e),this}arc(t,e,i,r,n,a){this._ensurePoly(!1);const o=this._currentPoly.points;return tl(o,t,e,i,r,n,a),this}arcTo(t,e,i,r,n){this._ensurePoly();const a=this._currentPoly.points;return Xp(a,t,e,i,r,n),this}arcToSvg(t,e,i,r,n,a,o){const l=this._currentPoly.points;return Zp(l,this._currentPoly.lastX,this._currentPoly.lastY,a,o,t,e,i,r,n),this}bezierCurveTo(t,e,i,r,n,a,o){this._ensurePoly();const l=this._currentPoly;return Qo(this._currentPoly.points,l.lastX,l.lastY,t,e,i,r,n,a,o),this}quadraticCurveTo(t,e,i,r,n){this._ensurePoly();const a=this._currentPoly;return qp(this._currentPoly.points,a.lastX,a.lastY,t,e,i,r,n),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0),t.transform(e));const i=this.shapePrimitives,r=i.length;for(let n=0;n<t.instructions.length;n++){const a=t.instructions[n];this[a.action](...a.data)}if(t.checkForHoles&&i.length-r>1){let n=null;for(let a=r;a<i.length;a++){const o=i[a];if(o.shape.type==="polygon"){const l=o.shape,h=n==null?void 0:n.shape;h&&h.containsPolygon(l)?(n.holes||(n.holes=[]),n.holes.push(o),i.copyWithin(a,a+1),i.length--,a--):n=o}}}return this}finish(t=!1){this.endPoly(t)}rect(t,e,i,r,n){return this.drawShape(new ct(t,e,i,r),n),this}circle(t,e,i,r){return this.drawShape(new kr(t,e,i),r),this}poly(t,e,i){const r=new os(t);return r.closePath=e,this.drawShape(r,i),this}regularPoly(t,e,i,r,n=0,a){r=Math.max(r|0,3);const o=-1*Math.PI/2+n,l=Math.PI*2/r,h=[];for(let c=0;c<r;c++){const u=o-c*l;h.push(t+i*Math.cos(u),e+i*Math.sin(u))}return this.poly(h,!0,a),this}roundPoly(t,e,i,r,n,a=0,o){if(r=Math.max(r|0,3),n<=0)return this.regularPoly(t,e,i,r,a);const l=i*Math.sin(Math.PI/r)-.001;n=Math.min(n,l);const h=-1*Math.PI/2+a,c=Math.PI*2/r,u=(r-2)*Math.PI/r/2;for(let f=0;f<r;f++){const d=f*c+h,m=t+i*Math.cos(d),g=e+i*Math.sin(d),p=d+Math.PI+u,v=d-Math.PI-u,x=m+n*Math.cos(p),_=g+n*Math.sin(p),y=m+n*Math.cos(v),S=g+n*Math.sin(v);f===0?this.moveTo(x,_):this.lineTo(x,_),this.quadraticCurveTo(m,g,y,S,o)}return this.closePath()}roundShape(t,e,i=!1,r){return t.length<3?this:(i?tm(this,t,e,r):Qp(this,t,e),this.closePath())}filletRect(t,e,i,r,n){if(n===0)return this.rect(t,e,i,r);const a=Math.min(i,r)/2,o=Math.min(a,Math.max(-a,n)),l=t+i,h=e+r,c=o<0?-o:0,u=Math.abs(o);return this.moveTo(t,e+u).arcTo(t+c,e+c,t+u,e,u).lineTo(l-u,e).arcTo(l-c,e+c,l,e+u,u).lineTo(l,h-u).arcTo(l-c,h-c,t+i-u,h,u).lineTo(t+u,h).arcTo(t+c,h-c,t,h-u,u).closePath()}chamferRect(t,e,i,r,n,a){if(n<=0)return this.rect(t,e,i,r);const o=Math.min(n,Math.min(i,r)/2),l=t+i,h=e+r,c=[t+o,e,l-o,e,l,e+o,l,h-o,l-o,h,t+o,h,t,h-o,t,e+o];for(let u=c.length-1;u>=2;u-=2)c[u]===c[u-2]&&c[u-1]===c[u-3]&&c.splice(u-1,2);return this.poly(c,!0,a)}ellipse(t,e,i,r,n){return this.drawShape(new Er(t,e,i,r),n),this}roundRect(t,e,i,r,n,a){return this.drawShape(new Ir(t,e,i,r,n),a),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let i=this._currentPoly;return i&&this.endPoly(),i=new os,i.points.push(t,e),this._currentPoly=i,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new os,t)){const e=this.shapePrimitives[this.shapePrimitives.length-1];if(e){let i=e.shape.x,r=e.shape.y;if(e.transform&&!e.transform.isIdentity()){const n=e.transform,a=i;i=n.a*i+n.c*r+n.tx,r=n.b*a+n.d*r+n.ty}this._currentPoly.points.push(i,r)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const i=t.instructions[e];this[i.action](...i.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let i=0;i<e.length;i++){const r=e[i],n=r.shape.getBounds(em);r.transform?t.addRect(n,r.transform):t.addRect(n)}return t}}class ie{constructor(t,e=!1){this.instructions=[],this.uid=at("graphicsPath"),this._dirty=!0,this.checkForHoles=e,typeof t=="string"?Cf(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new sm(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,i,r,n){const a=this.instructions[this.instructions.length-1],o=this.getLastPoint(gt.shared);let l=0,h=0;if(!a||a.action!=="bezierCurveTo")l=o.x,h=o.y;else{l=a.data[2],h=a.data[3];const c=o.x,u=o.y;l=c+(c-l),h=u+(u-h)}return this.instructions.push({action:"bezierCurveTo",data:[l,h,t,e,i,r,n]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,i){const r=this.instructions[this.instructions.length-1],n=this.getLastPoint(gt.shared);let a=0,o=0;if(!r||r.action!=="quadraticCurveTo")a=n.x,o=n.y;else{a=r.data[0],o=r.data[1];const l=n.x,h=n.y;a=l+(l-a),o=h+(h-o)}return this.instructions.push({action:"quadraticCurveTo",data:[a,o,t,e,i]}),this._dirty=!0,this}rect(t,e,i,r,n){return this.instructions.push({action:"rect",data:[t,e,i,r,n]}),this._dirty=!0,this}circle(t,e,i,r){return this.instructions.push({action:"circle",data:[t,e,i,r]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,i,r,n,a,o){n||(n=r/2);const l=-1*Math.PI/2+a,h=i*2,c=Math.PI*2/h,u=[];for(let f=0;f<h;f++){const d=f%2?n:r,m=f*c+l;u.push(t+d*Math.cos(m),e+d*Math.sin(m))}return this.poly(u,!0,o),this}clone(t=!1){const e=new ie;if(e.checkForHoles=this.checkForHoles,!t)e.instructions=this.instructions.slice();else for(let i=0;i<this.instructions.length;i++){const r=this.instructions[i];e.instructions.push({action:r.action,data:r.data.slice()})}return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,i=t.b,r=t.c,n=t.d,a=t.tx,o=t.ty;let l=0,h=0,c=0,u=0,f=0,d=0,m=0,g=0;for(let p=0;p<this.instructions.length;p++){const v=this.instructions[p],x=v.data;switch(v.action){case"moveTo":case"lineTo":l=x[0],h=x[1],x[0]=e*l+r*h+a,x[1]=i*l+n*h+o;break;case"bezierCurveTo":c=x[0],u=x[1],f=x[2],d=x[3],l=x[4],h=x[5],x[0]=e*c+r*u+a,x[1]=i*c+n*u+o,x[2]=e*f+r*d+a,x[3]=i*f+n*d+o,x[4]=e*l+r*h+a,x[5]=i*l+n*h+o;break;case"quadraticCurveTo":c=x[0],u=x[1],l=x[2],h=x[3],x[0]=e*c+r*u+a,x[1]=i*c+n*u+o,x[2]=e*l+r*h+a,x[3]=i*l+n*h+o;break;case"arcToSvg":l=x[5],h=x[6],m=x[0],g=x[1],x[0]=e*m+r*g,x[1]=i*m+n*g,x[5]=e*l+r*h+a,x[6]=i*l+n*h+o;break;case"circle":x[4]=Je(x[3],t);break;case"rect":x[4]=Je(x[4],t);break;case"ellipse":x[8]=Je(x[8],t);break;case"roundRect":x[5]=Je(x[5],t);break;case"addPath":x[0].transform(t);break;case"poly":x[2]=Je(x[2],t);break;default:kt("unknown transform action",v.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,i=this.instructions[e];if(!i)return t.x=0,t.y=0,t;for(;i.action==="closePath";){if(e--,e<0)return t.x=0,t.y=0,t;i=this.instructions[e]}switch(i.action){case"moveTo":case"lineTo":t.x=i.data[0],t.y=i.data[1];break;case"quadraticCurveTo":t.x=i.data[2],t.y=i.data[3];break;case"bezierCurveTo":t.x=i.data[4],t.y=i.data[5];break;case"arc":case"arcToSvg":t.x=i.data[5],t.y=i.data[6];break;case"addPath":i.data[0].getLastPoint(t);break}return t}}function Je(s,t){return s?s.prepend(t):t.clone()}function rt(s,t,e){const i=s.getAttribute(t);return i?Number(i):e}function im(s,t){const e=s.querySelectorAll("defs");for(let i=0;i<e.length;i++){const r=e[i];for(let n=0;n<r.children.length;n++){const a=r.children[n];switch(a.nodeName.toLowerCase()){case"lineargradient":t.defs[a.id]=rm(a);break;case"radialgradient":t.defs[a.id]=nm();break}}}}function rm(s){const t=rt(s,"x1",0),e=rt(s,"y1",0),i=rt(s,"x2",1),r=rt(s,"y2",0),n=s.getAttribute("gradientUnits")||"objectBoundingBox",a=new Cs(t,e,i,r,n==="objectBoundingBox"?"local":"global");for(let o=0;o<s.children.length;o++){const l=s.children[o],h=rt(l,"offset",0),c=Bt.shared.setValue(l.getAttribute("stop-color")).toNumber();a.addColorStop(h,c)}return a}function nm(s){return kt("[SVG Parser] Radial gradients are not yet supported"),new Cs(0,0,1,0)}function Yn(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const qn={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function el(s,t){const e=s.getAttribute("style"),i={},r={},n={strokeStyle:i,fillStyle:r,useFill:!1,useStroke:!1};for(const a in qn){const o=s.getAttribute(a);o&&Wn(t,n,a,o.trim())}if(e){const a=e.split(";");for(let o=0;o<a.length;o++){const l=a[o].trim(),[h,c]=l.split(":");qn[h]&&Wn(t,n,h,c.trim())}}return{strokeStyle:n.useStroke?i:null,fillStyle:n.useFill?r:null,useFill:n.useFill,useStroke:n.useStroke}}function Wn(s,t,e,i){switch(e){case"stroke":if(i!=="none"){if(i.startsWith("url(")){const r=Yn(i);t.strokeStyle.fill=s.defs[r]}else t.strokeStyle.color=Bt.shared.setValue(i).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(i);break;case"fill":if(i!=="none"){if(i.startsWith("url(")){const r=Yn(i);t.fillStyle.fill=s.defs[r]}else t.fillStyle.color=Bt.shared.setValue(i).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(i);break;case"stroke-opacity":t.strokeStyle.alpha=Number(i);break;case"opacity":t.fillStyle.alpha=Number(i),t.strokeStyle.alpha=Number(i);break}}function am(s){if(s.length<=2)return!0;const t=s.map(o=>o.area).sort((o,l)=>l-o),[e,i]=t,r=t[t.length-1],n=e/i,a=i/r;return!(n>3&&a<2)}function om(s){return s.split(/(?=[Mm])/).filter(i=>i.trim().length>0)}function lm(s){const t=s.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!t||t.length<4)return 0;const e=t.map(Number),i=[],r=[];for(let c=0;c<e.length;c+=2)c+1<e.length&&(i.push(e[c]),r.push(e[c+1]));if(i.length===0||r.length===0)return 0;const n=Math.min(...i),a=Math.max(...i),o=Math.min(...r),l=Math.max(...r);return(a-n)*(l-o)}function Xn(s,t){const e=new ie(s,!1);for(const i of e.instructions)t.instructions.push(i)}function hm(s,t){if(typeof s=="string"){const a=document.createElement("div");a.innerHTML=s.trim(),s=a.querySelector("svg")}const e={context:t,defs:{},path:new ie};im(s,e);const i=s.children,{fillStyle:r,strokeStyle:n}=el(s,e);for(let a=0;a<i.length;a++){const o=i[a];o.nodeName.toLowerCase()!=="defs"&&sl(o,e,r,n)}return t}function sl(s,t,e,i){const r=s.children,{fillStyle:n,strokeStyle:a}=el(s,t);n&&e?e={...e,...n}:n&&(e=n),a&&i?i={...i,...a}:a&&(i=a);const o=!e&&!i;o&&(e={color:0});let l,h,c,u,f,d,m,g,p,v,x,_,y,S,C,w,I;switch(s.nodeName.toLowerCase()){case"path":{S=s.getAttribute("d");const R=s.getAttribute("fill-rule"),M=om(S),E=R==="evenodd",F=M.length>1;if(E&&F){const z=M.map(P=>({path:P,area:lm(P)}));if(z.sort((P,L)=>L.area-P.area),M.length>3||!am(z))for(let P=0;P<z.length;P++){const L=z[P],Z=P===0;t.context.beginPath();const D=new ie(void 0,!0);Xn(L.path,D),t.context.path(D),Z?(e&&t.context.fill(e),i&&t.context.stroke(i)):t.context.cut()}else for(let P=0;P<z.length;P++){const L=z[P],Z=P%2===1;t.context.beginPath();const D=new ie(void 0,!0);Xn(L.path,D),t.context.path(D),Z?t.context.cut():(e&&t.context.fill(e),i&&t.context.stroke(i))}}else{const z=R?R==="evenodd":!0;C=new ie(S,z),t.context.path(C),e&&t.context.fill(e),i&&t.context.stroke(i)}break}case"circle":m=rt(s,"cx",0),g=rt(s,"cy",0),p=rt(s,"r",0),t.context.ellipse(m,g,p,p),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"rect":l=rt(s,"x",0),h=rt(s,"y",0),w=rt(s,"width",0),I=rt(s,"height",0),v=rt(s,"rx",0),x=rt(s,"ry",0),v||x?t.context.roundRect(l,h,w,I,v||x):t.context.rect(l,h,w,I),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"ellipse":m=rt(s,"cx",0),g=rt(s,"cy",0),v=rt(s,"rx",0),x=rt(s,"ry",0),t.context.beginPath(),t.context.ellipse(m,g,v,x),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"line":c=rt(s,"x1",0),u=rt(s,"y1",0),f=rt(s,"x2",0),d=rt(s,"y2",0),t.context.beginPath(),t.context.moveTo(c,u),t.context.lineTo(f,d),i&&t.context.stroke(i);break;case"polygon":y=s.getAttribute("points"),_=y.match(/-?\d+/g).map(R=>parseInt(R,10)),t.context.poly(_,!0),e&&t.context.fill(e),i&&t.context.stroke(i);break;case"polyline":y=s.getAttribute("points"),_=y.match(/-?\d+/g).map(R=>parseInt(R,10)),t.context.poly(_,!1),i&&t.context.stroke(i);break;case"g":case"svg":break;default:{kt(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}o&&(e=null);for(let R=0;R<r.length;R++)sl(r[R],t,e,i)}function cm(s){return Bt.isColorLike(s)}function Jn(s){return s instanceof yf}function Kn(s){return s instanceof Cs}function um(s){return s instanceof X}function dm(s,t,e){const i=Bt.shared.setValue(t??0);return s.color=i.toNumber(),s.alpha=i.alpha===1?e.alpha:i.alpha,s.texture=X.WHITE,{...e,...s}}function fm(s,t,e){return s.texture=t,{...e,...s}}function Zn(s,t,e){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...e,...s}}function Qn(s,t,e){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...e,...s}}function pm(s,t){const e={...t,...s},i=Bt.shared.setValue(e.color);return e.alpha*=i.alpha,e.color=i.toNumber(),e}function rs(s,t){if(s==null)return null;const e={},i=s;return cm(s)?dm(e,s,t):um(s)?fm(e,s,t):Jn(s)?Zn(e,s,t):Kn(s)?Qn(e,s,t):i.fill&&Jn(i.fill)?Zn(i,i.fill,t):i.fill&&Kn(i.fill)?Qn(i,i.fill,t):pm(i,t)}function ta(s,t){const{width:e,alignment:i,miterLimit:r,cap:n,join:a,pixelLine:o,...l}=t,h=rs(s,l);return h?{width:e,alignment:i,miterLimit:r,cap:n,join:a,pixelLine:o,...h}:null}const mm=new gt,ea=new U,Lr=class Yt extends ne{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=at("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new ie,this._transform=new U,this._fillStyle={...Yt.defaultFillStyle},this._strokeStyle={...Yt.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Nt,this._boundsDirty=!0}clone(){const t=new Yt;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=rs(t,Yt.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=ta(t,Yt.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=rs(t,Yt.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=rs(t,Yt.defaultStrokeStyle),this}texture(t,e,i,r,n,a){return this.instructions.push({action:"texture",data:{image:t,dx:i||0,dy:r||0,dw:n||t.frame.width,dh:a||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?Bt.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new ie,this}fill(t,e){let i;const r=this.instructions[this.instructions.length-1];return this._tick===0&&(r==null?void 0:r.action)==="stroke"?i=r.data.path:i=this._activePath.clone(),i?(t!=null&&(e!==void 0&&typeof t=="number"&&(Y(lt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:e}),this._fillStyle=rs(t,Yt.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(gt.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(t){let e;const i=this.instructions[this.instructions.length-1];return this._tick===0&&(i==null?void 0:i.action)==="fill"?e=i.data.path:e=this._activePath.clone(),e?(t!=null&&(this._strokeStyle=ta(t,Yt.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:e}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],i=this._activePath.clone();if(e&&(e.action==="stroke"||e.action==="fill"))if(e.data.hole)e.data.hole.addPath(i);else{e.data.hole=i;break}}return this._initNextPathLocation(),this}arc(t,e,i,r,n,a){this._tick++;const o=this._transform;return this._activePath.arc(o.a*t+o.c*e+o.tx,o.b*t+o.d*e+o.ty,i,r,n,a),this}arcTo(t,e,i,r,n){this._tick++;const a=this._transform;return this._activePath.arcTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*i+a.c*r+a.tx,a.b*i+a.d*r+a.ty,n),this}arcToSvg(t,e,i,r,n,a,o){this._tick++;const l=this._transform;return this._activePath.arcToSvg(t,e,i,r,n,l.a*a+l.c*o+l.tx,l.b*a+l.d*o+l.ty),this}bezierCurveTo(t,e,i,r,n,a,o){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*t+l.c*e+l.tx,l.b*t+l.d*e+l.ty,l.a*i+l.c*r+l.tx,l.b*i+l.d*r+l.ty,l.a*n+l.c*a+l.tx,l.b*n+l.d*a+l.ty,o),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,e,i,r){return this._tick++,this._activePath.ellipse(t,e,i,r,this._transform.clone()),this}circle(t,e,i){return this._tick++,this._activePath.circle(t,e,i,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const i=this._transform;return this._activePath.lineTo(i.a*t+i.c*e+i.tx,i.b*t+i.d*e+i.ty),this}moveTo(t,e){this._tick++;const i=this._transform,r=this._activePath.instructions,n=i.a*t+i.c*e+i.tx,a=i.b*t+i.d*e+i.ty;return r.length===1&&r[0].action==="moveTo"?(r[0].data[0]=n,r[0].data[1]=a,this):(this._activePath.moveTo(n,a),this)}quadraticCurveTo(t,e,i,r,n){this._tick++;const a=this._transform;return this._activePath.quadraticCurveTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*i+a.c*r+a.tx,a.b*i+a.d*r+a.ty,n),this}rect(t,e,i,r){return this._tick++,this._activePath.rect(t,e,i,r,this._transform.clone()),this}roundRect(t,e,i,r,n){return this._tick++,this._activePath.roundRect(t,e,i,r,n,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,i,r,n=0,a){return this._tick++,this._activePath.regularPoly(t,e,i,r,n,a),this}roundPoly(t,e,i,r,n,a){return this._tick++,this._activePath.roundPoly(t,e,i,r,n,a),this}roundShape(t,e,i,r){return this._tick++,this._activePath.roundShape(t,e,i,r),this}filletRect(t,e,i,r,n){return this._tick++,this._activePath.filletRect(t,e,i,r,n),this}chamferRect(t,e,i,r,n,a){return this._tick++,this._activePath.chamferRect(t,e,i,r,n,a),this}star(t,e,i,r,n=0,a=0){return this._tick++,this._activePath.star(t,e,i,r,n,a,this._transform.clone()),this}svg(t){return this._tick++,hm(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,i,r,n,a){return t instanceof U?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,i,r,n,a),this)}transform(t,e,i,r,n,a){return t instanceof U?(this._transform.append(t),this):(ea.set(t,e,i,r,n,a),this._transform.append(ea),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const i=this.instructions[e],r=i.action;if(r==="fill"){const n=i.data;t.addBounds(n.path.bounds)}else if(r==="texture"){const n=i.data;t.addFrame(n.dx,n.dy,n.dx+n.dw,n.dy+n.dh,n.transform)}if(r==="stroke"){const n=i.data,a=n.style.alignment,o=n.style.width*(1-a),l=n.path.bounds;t.addFrame(l.minX-o,l.minY-o,l.maxX+o,l.maxY+o)}}return t}containsPoint(t){var r;if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let i=!1;for(let n=0;n<e.length;n++){const a=e[n],o=a.data,l=o.path;if(!a.action||!l)continue;const h=o.style,c=l.shapePath.shapePrimitives;for(let u=0;u<c.length;u++){const f=c[u].shape;if(!h||!f)continue;const d=c[u].transform,m=d?d.applyInverse(t,mm):t;if(a.action==="fill")i=f.contains(m.x,m.y);else{const p=h;i=f.strokeContains(m.x,m.y,p.width,p.alignment)}const g=o.hole;if(g){const p=(r=g.shapePath)==null?void 0:r.shapePrimitives;if(p)for(let v=0;v<p.length;v++)p[v].shape.contains(m.x,m.y)&&(i=!1)}if(i)return!0}}return i}unload(){var t;this.emit("unload",this);for(const e in this._gpuData)(t=this._gpuData[e])==null||t.destroy();this._gpuData=Object.create(null)}destroy(t=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const i=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(i)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(i))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Lr.defaultFillStyle={color:16777215,alpha:1,texture:X.WHITE,matrix:null,fill:null,textureSpace:"local"};Lr.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:X.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Ke=Lr;class ii extends ro{constructor(t){t instanceof Ke&&(t={context:t});const{context:e,roundPixels:i,...r}=t||{};super({label:"Graphics",...r}),this.renderPipeId="graphics",e?this.context=e:(this.context=this._ownedContext=new Ke,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=i??!1}set context(t){t!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=t,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_onTouch(t){this._gcLastUsed=t,this._context._gcLastUsed=t}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new ii(this._context.clone()):(this._ownedContext=null,new ii(this._context))}lineStyle(t,e,i){Y(lt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const r={};return t&&(r.width=t),e&&(r.color=e),i&&(r.alpha=i),this.context.strokeStyle=r,this}beginFill(t,e){Y(lt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const i={};return t!==void 0&&(i.color=t),e!==void 0&&(i.alpha=e),this.context.fillStyle=i,this}endFill(){Y(lt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Ke.defaultStrokeStyle.width||t.color!==Ke.defaultStrokeStyle.color||t.alpha!==Ke.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Y(lt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Y(lt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Y(lt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Y(lt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Y(lt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Y(lt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}Ft.add(Cu,Au);var gm=G('<div id="bg" class="svelte-1j88gxk"></div>');function _m(s,t){zt(t,!1);let e=vr(),i;async function r(){const a=new Oo;await a.init({backgroundAlpha:0,resizeTo:window});const o=[];for(let l=0;l<50;l++){const h=new ii;h.fill({color:"#6b8b9e",alpha:.6}),h.rect(0,0,1,30),h.fill(),h.x=Math.random()*window.innerWidth,h.y=Math.random()*window.innerHeight,h.speed=Math.random()*16+10,h.angle=-15,o.push(h),a.stage.addChild(h)}return a.ticker.add(()=>{o.forEach(l=>{l.y+=l.speed,l.x+=l.speed*.15,l.y>window.innerHeight&&(l.y=-30,l.x=Math.random()*window.innerWidth)})}),a}Ph(()=>(r().then(a=>{i=a,b(e).appendChild(a.canvas)}),()=>{i&&i.destroy(!0,{children:!0})})),pi();var n=gm();Da(n,a=>N(e,a),()=>b(e)),B(s,n),Ut()}var vm=G('<div class="screenOverlay svelte-1d2t2dl"></div> <div class="vignette svelte-1d2t2dl"></div>',1),xm=G('<div class="appContainer svelte-1d2t2dl"><!> <!> <!> <div class="mainContent svelte-1d2t2dl"><!></div> <!></div>');function ym(s,t){zt(t,!1),pi();var e=xm(),i=A(e);{var r=u=>{var f=vm();B(u,f)};wt(i,u=>{fs()==="retro"&&u(r)})}var n=T(i,2);{var a=u=>{_m(u,{})};wt(n,u=>{fs()==="rain"&&u(a)})}var o=T(n,2);Wh(o,{});var l=T(o,2),h=A(l);bu(h);var c=T(l,2);Qh(c,{}),B(s,e),Ut()}hh(ym,{target:document.getElementById("app")});export{Bt as $,Do as A,bt as B,de as C,fe as D,$ as E,Dt as F,mi as G,Ja as H,Nt as I,io as J,un as K,ps as L,U as M,Od as N,Wd as O,gt as P,ct as Q,sr as R,Tr as S,Rs as T,Qi as U,ff as V,fn as W,Ei as X,pn as Y,gd as Z,Va as _,_i as a,pd as a0,Qa as a1,Fo as a2,Y as a3,lt as a4,vf as a5,zf as a6,Bf as a7,ap as a8,lp as a9,fp as aa,mp as ab,gp as ac,Ke as ad,rs as ae,ta as af,Cs as ag,yf as ah,ei as ai,Fe as aj,Xo as ak,In as al,kn as am,ii as an,Gu as ao,Zo as ap,So as b,ne as c,vp as d,Ft as e,En as f,Mf as g,If as h,xs as i,Hs as j,Pr as k,Ro as l,uo as m,Kr as n,Ht as o,To as p,np as q,Ku as r,op as s,up as t,at as u,pp as v,kt as w,X as x,Fu as y,_p as z};
